!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.rethink=t()}}(function(){var t;return function e(t,n,r){function o(s,u){if(!n[s]){if(!t[s]){var c="function"==typeof require&&require;if(!u&&c)return c(s,!0);if(i)return i(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var h=n[s]={exports:{}};t[s][0].call(h.exports,function(e){var n=t[s][1][e];return o(n?n:e)},h,h.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(t){if(f===setTimeout)return setTimeout(t,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function s(t){if(l===clearTimeout)return clearTimeout(t);if((l===o||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function u(){b&&d&&(b=!1,d.length?_=d.concat(_):v=-1,_.length&&c())}function c(){if(!b){var t=i(u);b=!0;for(var e=_.length;e;){for(d=_,_=[];++v<e;)d&&d[v].run();v=-1,e=_.length}d=null,b=!1,s(t)}}function a(t,e){this.fun=t,this.array=e}function h(){}var f,l,p=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(t){f=r}try{l="function"==typeof clearTimeout?clearTimeout:o}catch(t){l=o}}();var d,_=[],b=!1,v=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];_.push(new a(t,e)),1!==_.length||b||i(c)},a.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=h,p.addListener=h,p.once=h,p.off=h,p.removeListener=h,p.removeAllListeners=h,p.emit=h,p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],2:[function(e,n,r){(function(o){!function(e){if("object"==typeof r&&"undefined"!=typeof n)n.exports=e();else if("function"==typeof t&&t.amd)t([],e);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof o?o:"undefined"!=typeof self?self:this,i.minibus=e()}}(function(){return function t(n,r,o){function i(u,c){if(!r[u]){if(!n[u]){var a="function"==typeof e&&e;if(!c&&a)return a(u,!0);if(s)return s(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var f=r[u]={exports:{}};n[u][0].call(f.exports,function(t){var e=n[u][1][t];return i(e?e:t)},f,f.exports,t,n,r,o)}return r[u].exports}for(var s="function"==typeof e&&e,u=0;u<o.length;u++)i(o[u]);return i}({1:[function(t,e,n){e.exports={"default":t("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":12}],2:[function(t,e,n){e.exports={"default":t("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":13}],3:[function(t,e,n){e.exports={"default":t("core-js/library/fn/object/get-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/get-prototype-of":14}],4:[function(t,e,n){e.exports={"default":t("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":15}],5:[function(t,e,n){e.exports={"default":t("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":16}],6:[function(t,e,n){e.exports={"default":t("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":17}],7:[function(t,e,n){"use strict";n.__esModule=!0,n["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},{}],8:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var o=t("../core-js/object/define-property"),i=r(o);n["default"]=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i["default"])(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},{"../core-js/object/define-property":2}],9:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var o=t("../core-js/object/set-prototype-of"),i=r(o),s=t("../core-js/object/create"),u=r(s),c=t("../helpers/typeof"),a=r(c);n["default"]=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":(0,a["default"])(e)));t.prototype=(0,u["default"])(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(i["default"]?(0,i["default"])(t,e):t.__proto__=e)}},{"../core-js/object/create":1,"../core-js/object/set-prototype-of":4,"../helpers/typeof":11}],10:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var o=t("../helpers/typeof"),i=r(o);n["default"]=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":(0,i["default"])(e))&&"function"!=typeof e?t:e}},{"../helpers/typeof":11}],11:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var o=t("../core-js/symbol/iterator"),i=r(o),s=t("../core-js/symbol"),u=r(s),c="function"==typeof u["default"]&&"symbol"==typeof i["default"]?function(t){return typeof t}:function(t){return t&&"function"==typeof u["default"]&&t.constructor===u["default"]?"symbol":typeof t};n["default"]="function"==typeof u["default"]&&"symbol"===c(i["default"])?function(t){return"undefined"==typeof t?"undefined":c(t)}:function(t){return t&&"function"==typeof u["default"]&&t.constructor===u["default"]?"symbol":"undefined"==typeof t?"undefined":c(t)}},{"../core-js/symbol":5,"../core-js/symbol/iterator":6}],12:[function(t,e,n){t("../../modules/es6.object.create");var r=t("../../modules/_core").Object;e.exports=function(t,e){return r.create(t,e)}},{"../../modules/_core":23,"../../modules/es6.object.create":77}],13:[function(t,e,n){t("../../modules/es6.object.define-property");var r=t("../../modules/_core").Object;e.exports=function(t,e,n){return r.defineProperty(t,e,n)}},{"../../modules/_core":23,"../../modules/es6.object.define-property":78}],14:[function(t,e,n){t("../../modules/es6.object.get-prototype-of"),e.exports=t("../../modules/_core").Object.getPrototypeOf},{"../../modules/_core":23,"../../modules/es6.object.get-prototype-of":79}],15:[function(t,e,n){t("../../modules/es6.object.set-prototype-of"),e.exports=t("../../modules/_core").Object.setPrototypeOf},{"../../modules/_core":23,"../../modules/es6.object.set-prototype-of":80}],16:[function(t,e,n){t("../../modules/es6.symbol"),t("../../modules/es6.object.to-string"),t("../../modules/es7.symbol.async-iterator"),t("../../modules/es7.symbol.observable"),e.exports=t("../../modules/_core").Symbol},{"../../modules/_core":23,"../../modules/es6.object.to-string":81,"../../modules/es6.symbol":83,"../../modules/es7.symbol.async-iterator":84,"../../modules/es7.symbol.observable":85}],17:[function(t,e,n){t("../../modules/es6.string.iterator"),t("../../modules/web.dom.iterable"),e.exports=t("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":74,"../../modules/es6.string.iterator":82,"../../modules/web.dom.iterable":86}],18:[function(t,e,n){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],19:[function(t,e,n){e.exports=function(){}},{}],20:[function(t,e,n){var r=t("./_is-object");e.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},{"./_is-object":39}],21:[function(t,e,n){var r=t("./_to-iobject"),o=t("./_to-length"),i=t("./_to-index");e.exports=function(t){return function(e,n,s){var u,c=r(e),a=o(c.length),h=i(s,a);if(t&&n!=n){for(;a>h;)if(u=c[h++],u!=u)return!0}else for(;a>h;h++)if((t||h in c)&&c[h]===n)return t||h||0;return!t&&-1}}},{"./_to-index":66,"./_to-iobject":68,"./_to-length":69}],22:[function(t,e,n){var r={}.toString;e.exports=function(t){return r.call(t).slice(8,-1)}},{}],23:[function(t,e,n){var r=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},{}],24:[function(t,e,n){var r=t("./_a-function");e.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},{"./_a-function":18}],25:[function(t,e,n){e.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},{}],26:[function(t,e,n){e.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":31}],27:[function(t,e,n){var r=t("./_is-object"),o=t("./_global").document,i=r(o)&&r(o.createElement);e.exports=function(t){return i?o.createElement(t):{}}},{"./_global":32,"./_is-object":39}],28:[function(t,e,n){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],29:[function(t,e,n){var r=t("./_object-keys"),o=t("./_object-gops"),i=t("./_object-pie");e.exports=function(t){var e=r(t),n=o.f;if(n)for(var s,u=n(t),c=i.f,a=0;u.length>a;)c.call(t,s=u[a++])&&e.push(s);return e}},{"./_object-gops":53,"./_object-keys":56,"./_object-pie":57}],30:[function(t,e,n){var r=t("./_global"),o=t("./_core"),i=t("./_ctx"),s=t("./_hide"),u="prototype",c=function(t,e,n){var a,h,f,l=t&c.F,p=t&c.G,d=t&c.S,_=t&c.P,b=t&c.B,v=t&c.W,y=p?o:o[e]||(o[e]={}),m=y[u],g=p?r:d?r[e]:(r[e]||{})[u];p&&(n=e);for(a in n)h=!l&&g&&void 0!==g[a],h&&a in y||(f=h?g[a]:n[a],y[a]=p&&"function"!=typeof g[a]?n[a]:b&&h?i(f,r):v&&g[a]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[u]=t[u],e}(f):_&&"function"==typeof f?i(Function.call,f):f,_&&((y.virtual||(y.virtual={}))[a]=f,t&c.R&&m&&!m[a]&&s(m,a,f)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},{"./_core":23,"./_ctx":24,"./_global":32,"./_hide":34}],31:[function(t,e,n){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],32:[function(t,e,n){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],33:[function(t,e,n){var r={}.hasOwnProperty;e.exports=function(t,e){return r.call(t,e)}},{}],34:[function(t,e,n){var r=t("./_object-dp"),o=t("./_property-desc");e.exports=t("./_descriptors")?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},{"./_descriptors":26,"./_object-dp":48,"./_property-desc":59}],35:[function(t,e,n){e.exports=t("./_global").document&&document.documentElement},{"./_global":32}],36:[function(t,e,n){e.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":26,"./_dom-create":27,"./_fails":31}],37:[function(t,e,n){var r=t("./_cof");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},{"./_cof":22}],38:[function(t,e,n){var r=t("./_cof");e.exports=Array.isArray||function(t){return"Array"==r(t)}},{"./_cof":22}],39:[function(t,e,n){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],40:[function(t,e,n){"use strict";var r=t("./_object-create"),o=t("./_property-desc"),i=t("./_set-to-string-tag"),s={};t("./_hide")(s,t("./_wks")("iterator"),function(){return this}),e.exports=function(t,e,n){t.prototype=r(s,{next:o(1,n)}),i(t,e+" Iterator")}},{"./_hide":34,"./_object-create":47,"./_property-desc":59,"./_set-to-string-tag":62,"./_wks":75}],41:[function(t,e,n){"use strict";var r=t("./_library"),o=t("./_export"),i=t("./_redefine"),s=t("./_hide"),u=t("./_has"),c=t("./_iterators"),a=t("./_iter-create"),h=t("./_set-to-string-tag"),f=t("./_object-gpo"),l=t("./_wks")("iterator"),p=!([].keys&&"next"in[].keys()),d="@@iterator",_="keys",b="values",v=function(){return this};e.exports=function(t,e,n,y,m,g,w){a(n,e,y);var x,j,E,C=function(t){if(!p&&t in A)return A[t];switch(t){case _:return function(){return new n(this,t)};case b:return function(){return new n(this,t)}}return function(){return new n(this,t)}},k=e+" Iterator",O=m==b,S=!1,A=t.prototype,N=A[l]||A[d]||m&&A[m],D=N||C(m),P=m?O?C("entries"):D:void 0,q="Array"==e?A.entries||N:N;if(q&&(E=f(q.call(new t)),E!==Object.prototype&&(h(E,k,!0),r||u(E,l)||s(E,l,v))),O&&N&&N.name!==b&&(S=!0,D=function(){return N.call(this)}),r&&!w||!p&&!S&&A[l]||s(A,l,D),c[e]=D,c[k]=v,m)if(x={values:O?D:C(b),keys:g?D:C(_),entries:P},w)for(j in x)j in A||i(A,j,x[j]);else o(o.P+o.F*(p||S),e,x);return x}},{"./_export":30,"./_has":33,"./_hide":34,"./_iter-create":40,"./_iterators":43,"./_library":45,"./_object-gpo":54,"./_redefine":60,"./_set-to-string-tag":62,"./_wks":75}],42:[function(t,e,n){e.exports=function(t,e){return{value:e,done:!!t}}},{}],43:[function(t,e,n){e.exports={}},{}],44:[function(t,e,n){var r=t("./_object-keys"),o=t("./_to-iobject");e.exports=function(t,e){for(var n,i=o(t),s=r(i),u=s.length,c=0;u>c;)if(i[n=s[c++]]===e)return n}},{"./_object-keys":56,"./_to-iobject":68}],45:[function(t,e,n){e.exports=!0},{}],46:[function(t,e,n){var r=t("./_uid")("meta"),o=t("./_is-object"),i=t("./_has"),s=t("./_object-dp").f,u=0,c=Object.isExtensible||function(){return!0},a=!t("./_fails")(function(){return c(Object.preventExtensions({}))}),h=function(t){s(t,r,{value:{i:"O"+ ++u,w:{}}})},f=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!c(t))return"F";if(!e)return"E";h(t)}return t[r].i},l=function(t,e){if(!i(t,r)){if(!c(t))return!0;if(!e)return!1;h(t)}return t[r].w},p=function(t){return a&&d.NEED&&c(t)&&!i(t,r)&&h(t),t},d=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:l,onFreeze:p}},{"./_fails":31,"./_has":33,"./_is-object":39,"./_object-dp":48,"./_uid":72}],47:[function(t,e,n){var r=t("./_an-object"),o=t("./_object-dps"),i=t("./_enum-bug-keys"),s=t("./_shared-key")("IE_PROTO"),u=function(){},c="prototype",a=function(){var e,n=t("./_dom-create")("iframe"),r=i.length,o="<",s=">";for(n.style.display="none",t("./_html").appendChild(n),n.src="javascript:",e=n.contentWindow.document,e.open(),e.write(o+"script"+s+"document.F=Object"+o+"/script"+s),e.close(),a=e.F;r--;)delete a[c][i[r]];return a()};e.exports=Object.create||function(t,e){var n;return null!==t?(u[c]=r(t),n=new u,u[c]=null,n[s]=t):n=a(),void 0===e?n:o(n,e)}},{"./_an-object":20,"./_dom-create":27,"./_enum-bug-keys":28,"./_html":35,"./_object-dps":49,"./_shared-key":63}],48:[function(t,e,n){var r=t("./_an-object"),o=t("./_ie8-dom-define"),i=t("./_to-primitive"),s=Object.defineProperty;n.f=t("./_descriptors")?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},{"./_an-object":20,"./_descriptors":26,"./_ie8-dom-define":36,"./_to-primitive":71}],49:[function(t,e,n){var r=t("./_object-dp"),o=t("./_an-object"),i=t("./_object-keys");e.exports=t("./_descriptors")?Object.defineProperties:function(t,e){o(t);for(var n,s=i(e),u=s.length,c=0;u>c;)r.f(t,n=s[c++],e[n]);return t}},{"./_an-object":20,"./_descriptors":26,"./_object-dp":48,"./_object-keys":56}],50:[function(t,e,n){var r=t("./_object-pie"),o=t("./_property-desc"),i=t("./_to-iobject"),s=t("./_to-primitive"),u=t("./_has"),c=t("./_ie8-dom-define"),a=Object.getOwnPropertyDescriptor;n.f=t("./_descriptors")?a:function(t,e){if(t=i(t),e=s(e,!0),c)try{return a(t,e)}catch(t){}if(u(t,e))return o(!r.f.call(t,e),t[e])}},{"./_descriptors":26,"./_has":33,"./_ie8-dom-define":36,"./_object-pie":57,"./_property-desc":59,"./_to-iobject":68,"./_to-primitive":71}],51:[function(t,e,n){var r=t("./_to-iobject"),o=t("./_object-gopn").f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(t){try{return o(t)}catch(t){return s.slice()}};e.exports.f=function(t){return s&&"[object Window]"==i.call(t)?u(t):o(r(t))}},{"./_object-gopn":52,"./_to-iobject":68}],52:[function(t,e,n){var r=t("./_object-keys-internal"),o=t("./_enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},{"./_enum-bug-keys":28,"./_object-keys-internal":55}],53:[function(t,e,n){n.f=Object.getOwnPropertySymbols},{}],54:[function(t,e,n){var r=t("./_has"),o=t("./_to-object"),i=t("./_shared-key")("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},{"./_has":33,"./_shared-key":63,"./_to-object":70}],55:[function(t,e,n){var r=t("./_has"),o=t("./_to-iobject"),i=t("./_array-includes")(!1),s=t("./_shared-key")("IE_PROTO");e.exports=function(t,e){var n,u=o(t),c=0,a=[];for(n in u)n!=s&&r(u,n)&&a.push(n);for(;e.length>c;)r(u,n=e[c++])&&(~i(a,n)||a.push(n));return a}},{"./_array-includes":21,"./_has":33,"./_shared-key":63,"./_to-iobject":68}],56:[function(t,e,n){var r=t("./_object-keys-internal"),o=t("./_enum-bug-keys");e.exports=Object.keys||function(t){return r(t,o)}},{"./_enum-bug-keys":28,"./_object-keys-internal":55}],57:[function(t,e,n){n.f={}.propertyIsEnumerable},{}],58:[function(t,e,n){var r=t("./_export"),o=t("./_core"),i=t("./_fails");e.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],s={};s[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",s)}},{"./_core":23,"./_export":30,"./_fails":31}],59:[function(t,e,n){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],60:[function(t,e,n){e.exports=t("./_hide")},{"./_hide":34}],61:[function(t,e,n){var r=t("./_is-object"),o=t("./_an-object"),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=r("./_ctx")(Function.call,r("./_object-gopd").f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,r){return i(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:i}},{"./_an-object":20,"./_ctx":24,"./_is-object":39,"./_object-gopd":50}],62:[function(t,e,n){var r=t("./_object-dp").f,o=t("./_has"),i=t("./_wks")("toStringTag");e.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},{"./_has":33,"./_object-dp":48,"./_wks":75}],63:[function(t,e,n){var r=t("./_shared")("keys"),o=t("./_uid");e.exports=function(t){return r[t]||(r[t]=o(t))}},{"./_shared":64,"./_uid":72}],64:[function(t,e,n){var r=t("./_global"),o="__core-js_shared__",i=r[o]||(r[o]={});e.exports=function(t){return i[t]||(i[t]={})}},{"./_global":32}],65:[function(t,e,n){var r=t("./_to-integer"),o=t("./_defined");e.exports=function(t){return function(e,n){var i,s,u=String(o(e)),c=r(n),a=u.length;return c<0||c>=a?t?"":void 0:(i=u.charCodeAt(c),i<55296||i>56319||c+1===a||(s=u.charCodeAt(c+1))<56320||s>57343?t?u.charAt(c):i:t?u.slice(c,c+2):(i-55296<<10)+(s-56320)+65536)}}},{"./_defined":25,"./_to-integer":67}],66:[function(t,e,n){var r=t("./_to-integer"),o=Math.max,i=Math.min;e.exports=function(t,e){return t=r(t),t<0?o(t+e,0):i(t,e)}},{"./_to-integer":67}],67:[function(t,e,n){var r=Math.ceil,o=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(t>0?o:r)(t)}},{}],68:[function(t,e,n){var r=t("./_iobject"),o=t("./_defined");e.exports=function(t){return r(o(t))}},{"./_defined":25,"./_iobject":37}],69:[function(t,e,n){var r=t("./_to-integer"),o=Math.min;e.exports=function(t){return t>0?o(r(t),9007199254740991):0}},{"./_to-integer":67}],70:[function(t,e,n){var r=t("./_defined");e.exports=function(t){return Object(r(t))}},{"./_defined":25}],71:[function(t,e,n){var r=t("./_is-object");e.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":39}],72:[function(t,e,n){var r=0,o=Math.random();e.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+o).toString(36))}},{}],73:[function(t,e,n){var r=t("./_global"),o=t("./_core"),i=t("./_library"),s=t("./_wks-ext"),u=t("./_object-dp").f;e.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||u(e,t,{value:s.f(t)})}},{"./_core":23,"./_global":32,"./_library":45,"./_object-dp":48,"./_wks-ext":74}],74:[function(t,e,n){n.f=t("./_wks")},{"./_wks":75}],75:[function(t,e,n){var r=t("./_shared")("wks"),o=t("./_uid"),i=t("./_global").Symbol,s="function"==typeof i,u=e.exports=function(t){return r[t]||(r[t]=s&&i[t]||(s?i:o)("Symbol."+t))};u.store=r},{"./_global":32,"./_shared":64,"./_uid":72}],76:[function(t,e,n){"use strict";var r=t("./_add-to-unscopables"),o=t("./_iter-step"),i=t("./_iterators"),s=t("./_to-iobject");e.exports=t("./_iter-define")(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):"keys"==e?o(0,n):"values"==e?o(0,t[n]):o(0,[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},{"./_add-to-unscopables":19,"./_iter-define":41,"./_iter-step":42,"./_iterators":43,"./_to-iobject":68}],77:[function(t,e,n){var r=t("./_export");r(r.S,"Object",{create:t("./_object-create")})},{"./_export":30,"./_object-create":47}],78:[function(t,e,n){var r=t("./_export");r(r.S+r.F*!t("./_descriptors"),"Object",{defineProperty:t("./_object-dp").f})},{"./_descriptors":26,"./_export":30,"./_object-dp":48}],79:[function(t,e,n){var r=t("./_to-object"),o=t("./_object-gpo");t("./_object-sap")("getPrototypeOf",function(){return function(t){return o(r(t))}})},{"./_object-gpo":54,"./_object-sap":58,"./_to-object":70}],80:[function(t,e,n){var r=t("./_export");r(r.S,"Object",{setPrototypeOf:t("./_set-proto").set})},{"./_export":30,"./_set-proto":61}],81:[function(t,e,n){},{}],82:[function(t,e,n){"use strict";var r=t("./_string-at")(!0);t("./_iter-define")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},{"./_iter-define":41,"./_string-at":65}],83:[function(t,e,n){"use strict";var r=t("./_global"),o=t("./_has"),i=t("./_descriptors"),s=t("./_export"),u=t("./_redefine"),c=t("./_meta").KEY,a=t("./_fails"),h=t("./_shared"),f=t("./_set-to-string-tag"),l=t("./_uid"),p=t("./_wks"),d=t("./_wks-ext"),_=t("./_wks-define"),b=t("./_keyof"),v=t("./_enum-keys"),y=t("./_is-array"),m=t("./_an-object"),g=t("./_to-iobject"),w=t("./_to-primitive"),x=t("./_property-desc"),j=t("./_object-create"),E=t("./_object-gopn-ext"),C=t("./_object-gopd"),k=t("./_object-dp"),O=t("./_object-keys"),S=C.f,A=k.f,N=E.f,D=r.Symbol,P=r.JSON,q=P&&P.stringify,R="prototype",M=p("_hidden"),T=p("toPrimitive"),F={}.propertyIsEnumerable,z=h("symbol-registry"),I=h("symbols"),L=h("op-symbols"),Q=Object[R],U="function"==typeof D,B=r.QObject,W=!B||!B[R]||!B[R].findChild,V=i&&a(function(){return 7!=j(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=S(Q,e);r&&delete Q[e],A(t,e,n),r&&t!==Q&&A(Q,e,r)}:A,H=function(t){var e=I[t]=j(D[R]);return e._k=t,e},$=U&&"symbol"==typeof D.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof D},J=function(t,e,n){return t===Q&&J(L,e,n),m(t),e=w(e,!0),m(n),o(I,e)?(n.enumerable?(o(t,M)&&t[M][e]&&(t[M][e]=!1),n=j(n,{enumerable:x(0,!1)})):(o(t,M)||A(t,M,x(1,{})),t[M][e]=!0),V(t,e,n)):A(t,e,n)},K=function(t,e){m(t);for(var n,r=v(e=g(e)),o=0,i=r.length;i>o;)J(t,n=r[o++],e[n]);return t},Z=function(t,e){return void 0===e?j(t):K(j(t),e)},G=function(t){var e=F.call(this,t=w(t,!0));return!(this===Q&&o(I,t)&&!o(L,t))&&(!(e||!o(this,t)||!o(I,t)||o(this,M)&&this[M][t])||e)},Y=function(t,e){if(t=g(t),e=w(e,!0),t!==Q||!o(I,e)||o(L,e)){var n=S(t,e);return!n||!o(I,e)||o(t,M)&&t[M][e]||(n.enumerable=!0),n}},X=function(t){for(var e,n=N(g(t)),r=[],i=0;n.length>i;)o(I,e=n[i++])||e==M||e==c||r.push(e);return r},tt=function(t){for(var e,n=t===Q,r=N(n?L:g(t)),i=[],s=0;r.length>s;)!o(I,e=r[s++])||n&&!o(Q,e)||i.push(I[e]);return i};U||(D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var t=l(arguments.length>0?arguments[0]:void 0),e=function(n){this===Q&&e.call(L,n),o(this,M)&&o(this[M],t)&&(this[M][t]=!1),V(this,t,x(1,n))};return i&&W&&V(Q,t,{configurable:!0,set:e}),H(t)},u(D[R],"toString",function(){return this._k}),C.f=Y,k.f=J,t("./_object-gopn").f=E.f=X,t("./_object-pie").f=G,t("./_object-gops").f=tt,i&&!t("./_library")&&u(Q,"propertyIsEnumerable",G,!0),d.f=function(t){return H(p(t))}),s(s.G+s.W+s.F*!U,{Symbol:D});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)p(et[nt++]);for(var et=O(p.store),nt=0;et.length>nt;)_(et[nt++]);s(s.S+s.F*!U,"Symbol",{"for":function(t){return o(z,t+="")?z[t]:z[t]=D(t)},keyFor:function(t){if($(t))return b(z,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){W=!0},useSimple:function(){W=!1}}),s(s.S+s.F*!U,"Object",{create:Z,defineProperty:J,defineProperties:K,getOwnPropertyDescriptor:Y,getOwnPropertyNames:X,getOwnPropertySymbols:tt}),P&&s(s.S+s.F*(!U||a(function(){var t=D();return"[null]"!=q([t])||"{}"!=q({a:t})||"{}"!=q(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!$(t)){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);return e=r[1],"function"==typeof e&&(n=e),!n&&y(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!$(e))return e}),r[1]=e,q.apply(P,r)}}}),D[R][T]||t("./_hide")(D[R],T,D[R].valueOf),f(D,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},{"./_an-object":20,"./_descriptors":26,"./_enum-keys":29,"./_export":30,"./_fails":31,"./_global":32,"./_has":33,"./_hide":34,"./_is-array":38,"./_keyof":44,"./_library":45,"./_meta":46,"./_object-create":47,"./_object-dp":48,"./_object-gopd":50,"./_object-gopn":52,"./_object-gopn-ext":51,"./_object-gops":53,"./_object-keys":56,"./_object-pie":57,"./_property-desc":59,"./_redefine":60,"./_set-to-string-tag":62,"./_shared":64,"./_to-iobject":68,"./_to-primitive":71,"./_uid":72,"./_wks":75,"./_wks-define":73,"./_wks-ext":74}],84:[function(t,e,n){t("./_wks-define")("asyncIterator")},{"./_wks-define":73}],85:[function(t,e,n){t("./_wks-define")("observable")},{"./_wks-define":73}],86:[function(t,e,n){t("./es6.array.iterator");for(var r=t("./_global"),o=t("./_hide"),i=t("./_iterators"),s=t("./_wks")("toStringTag"),u=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],c=0;c<5;c++){var a=u[c],h=r[a],f=h&&h.prototype;f&&!f[s]&&o(f,s,a),i[a]=i.Array}},{"./_global":32,"./_hide":34,"./_iterators":43,"./_wks":75,"./es6.array.iterator":76}],87:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var o=t("babel-runtime/helpers/classCallCheck"),i=r(o),s=t("babel-runtime/helpers/createClass"),u=r(s),c=function(){function t(){(0,i["default"])(this,t);var e=this;e._msgId=0,e._subscriptions={},e._responseTimeOut=5e3,e._responseCallbacks={},e._registerExternalListener()}return(0,u["default"])(t,[{key:"addListener",value:function(t,e){var n=this,r=new a(n._subscriptions,t,e),o=n._subscriptions[t];return o||(o=[],n._subscriptions[t]=o),o.push(r),r}},{key:"addResponseListener",value:function(t,e,n){this._responseCallbacks[t+e]=n}},{key:"removeResponseListener",value:function(t,e){delete this._responseCallbacks[t+e]}},{key:"removeAllListenersOf",value:function(t){delete this._subscriptions[t]}},{key:"bind",value:function(t,e,n){var r=this,o=this,i=o.addListener(t,function(t){n.postMessage(t)}),s=n.addListener(e,function(t){o.postMessage(t)});return{thisListener:i,targetListener:s,unbind:function(){r.thisListener.remove(),r.targetListener.remove()}}}},{key:"_publishOnDefault",value:function(t){var e=this._subscriptions["*"];e&&this._publishOn(e,t)}},{key:"_publishOn",value:function(t,e){t.forEach(function(t){t._callback(e)})}},{key:"_responseCallback",value:function(t,e){var n=this;e&&!function(){var r=t.from+t.id;n._responseCallbacks[r]=e,setTimeout(function(){var e=n._responseCallbacks[r];if(delete n._responseCallbacks[r],e){var o={id:t.id,type:"response",body:{code:408,desc:"Response timeout!",value:t}};e(o)}},n._responseTimeOut)}()}},{key:"_onResponse",value:function(t){var e=this;if("response"===t.type){var n=t.to+t.id,r=e._responseCallbacks[n];if(t.body.code>=200&&delete e._responseCallbacks[n],r)return r(t),!0}return!1}},{key:"_onMessage",value:function(t){var e=this;if(!e._onResponse(t)){var n=e._subscriptions[t.to];n?e._publishOn(n,t):e._publishOnDefault(t)}}},{key:"_genId",value:function(t){t.id&&0!==t.id||(this._msgId++,t.id=this._msgId)}},{key:"postMessage",value:function(t,e){}},{key:"_onPostMessage",value:function(t){}},{key:"_registerExternalListener",value:function(){}}]),t}(),a=function(){function t(e,n,r){(0,i["default"])(this,t);var o=this;o._subscriptions=e,o._url=n,o._callback=r}return(0,u["default"])(t,[{key:"remove",value:function(){var t=this,e=t._subscriptions[t._url];if(e){var n=e.indexOf(t);e.splice(n,1),0===e.length&&delete t._subscriptions[t._url]}}},{key:"url",get:function(){return this._url}}]),t}();n["default"]=c,e.exports=n["default"]},{"babel-runtime/helpers/classCallCheck":7,"babel-runtime/helpers/createClass":8}],88:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var o=t("babel-runtime/core-js/object/get-prototype-of"),i=r(o),s=t("babel-runtime/helpers/classCallCheck"),u=r(s),c=t("babel-runtime/helpers/createClass"),a=r(c),h=t("babel-runtime/helpers/possibleConstructorReturn"),f=r(h),l=t("babel-runtime/helpers/inherits"),p=r(l),d=t("./Bus"),_=r(d),b=function(t){function e(){return(0,u["default"])(this,e),(0,f["default"])(this,(e.__proto__||(0,i["default"])(e)).call(this))}return(0,p["default"])(e,t),(0,a["default"])(e,[{key:"postMessage",value:function(t,e){var n=this;return n._genId(t),n._responseCallback(t,e),n._onPostMessage(t),t.id}},{key:"_onMessage",value:function(t){var e=this;if(!e._onResponse(t)){var n=e._subscriptions[t.to];n?(e._publishOn(n,t),t.to.startsWith("hyperty")||e._publishOnDefault(t)):e._publishOnDefault(t)}}}]),e}(_["default"]);n["default"]=b,e.exports=n["default"]},{"./Bus":87,"babel-runtime/core-js/object/get-prototype-of":3,"babel-runtime/helpers/classCallCheck":7,"babel-runtime/helpers/createClass":8,"babel-runtime/helpers/inherits":9,"babel-runtime/helpers/possibleConstructorReturn":10}],89:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var o=t("./bus/MiniBus"),i=r(o);n["default"]=i["default"],e.exports=n["default"]},{"./bus/MiniBus":88}]},{},[89])(89)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,n,r){(function(o){!function(e){if("object"==typeof r&&"undefined"!=typeof n)n.exports=e();else if("function"==typeof t&&t.amd)t([],e);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof o?o:"undefined"!=typeof self?self:this,
i.sandbox=e()}}(function(){return function t(n,r,o){function i(u,c){if(!r[u]){if(!n[u]){var a="function"==typeof e&&e;if(!c&&a)return a(u,!0);if(s)return s(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var f=r[u]={exports:{}};n[u][0].call(f.exports,function(t){var e=n[u][1][t];return i(e?e:t)},f,f.exports,t,n,r,o)}return r[u].exports}for(var s="function"==typeof e&&e,u=0;u<o.length;u++)i(o[u]);return i}({1:[function(t,e,n){e.exports={"default":t("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":13}],2:[function(t,e,n){e.exports={"default":t("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":14}],3:[function(t,e,n){e.exports={"default":t("core-js/library/fn/object/get-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/get-prototype-of":15}],4:[function(t,e,n){e.exports={"default":t("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":16}],5:[function(t,e,n){e.exports={"default":t("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":17}],6:[function(t,e,n){e.exports={"default":t("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":18}],7:[function(t,e,n){e.exports={"default":t("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":19}],8:[function(t,e,n){"use strict";n.__esModule=!0,n["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},{}],9:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var o=t("../core-js/object/define-property"),i=r(o);n["default"]=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i["default"])(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},{"../core-js/object/define-property":2}],10:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var o=t("../core-js/object/set-prototype-of"),i=r(o),s=t("../core-js/object/create"),u=r(s),c=t("../helpers/typeof"),a=r(c);n["default"]=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":(0,a["default"])(e)));t.prototype=(0,u["default"])(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(i["default"]?(0,i["default"])(t,e):t.__proto__=e)}},{"../core-js/object/create":1,"../core-js/object/set-prototype-of":4,"../helpers/typeof":12}],11:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var o=t("../helpers/typeof"),i=r(o);n["default"]=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":(0,i["default"])(e))&&"function"!=typeof e?t:e}},{"../helpers/typeof":12}],12:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var o=t("../core-js/symbol/iterator"),i=r(o),s=t("../core-js/symbol"),u=r(s),c="function"==typeof u["default"]&&"symbol"==typeof i["default"]?function(t){return typeof t}:function(t){return t&&"function"==typeof u["default"]&&t.constructor===u["default"]?"symbol":typeof t};n["default"]="function"==typeof u["default"]&&"symbol"===c(i["default"])?function(t){return"undefined"==typeof t?"undefined":c(t)}:function(t){return t&&"function"==typeof u["default"]&&t.constructor===u["default"]?"symbol":"undefined"==typeof t?"undefined":c(t)}},{"../core-js/symbol":6,"../core-js/symbol/iterator":7}],13:[function(t,e,n){t("../../modules/es6.object.create");var r=t("../../modules/_core").Object;e.exports=function(t,e){return r.create(t,e)}},{"../../modules/_core":27,"../../modules/es6.object.create":92}],14:[function(t,e,n){t("../../modules/es6.object.define-property");var r=t("../../modules/_core").Object;e.exports=function(t,e,n){return r.defineProperty(t,e,n)}},{"../../modules/_core":27,"../../modules/es6.object.define-property":93}],15:[function(t,e,n){t("../../modules/es6.object.get-prototype-of"),e.exports=t("../../modules/_core").Object.getPrototypeOf},{"../../modules/_core":27,"../../modules/es6.object.get-prototype-of":94}],16:[function(t,e,n){t("../../modules/es6.object.set-prototype-of"),e.exports=t("../../modules/_core").Object.setPrototypeOf},{"../../modules/_core":27,"../../modules/es6.object.set-prototype-of":95}],17:[function(t,e,n){t("../modules/es6.object.to-string"),t("../modules/es6.string.iterator"),t("../modules/web.dom.iterable"),t("../modules/es6.promise"),e.exports=t("../modules/_core").Promise},{"../modules/_core":27,"../modules/es6.object.to-string":96,"../modules/es6.promise":97,"../modules/es6.string.iterator":98,"../modules/web.dom.iterable":102}],18:[function(t,e,n){t("../../modules/es6.symbol"),t("../../modules/es6.object.to-string"),t("../../modules/es7.symbol.async-iterator"),t("../../modules/es7.symbol.observable"),e.exports=t("../../modules/_core").Symbol},{"../../modules/_core":27,"../../modules/es6.object.to-string":96,"../../modules/es6.symbol":99,"../../modules/es7.symbol.async-iterator":100,"../../modules/es7.symbol.observable":101}],19:[function(t,e,n){t("../../modules/es6.string.iterator"),t("../../modules/web.dom.iterable"),e.exports=t("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":88,"../../modules/es6.string.iterator":98,"../../modules/web.dom.iterable":102}],20:[function(t,e,n){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],21:[function(t,e,n){e.exports=function(){}},{}],22:[function(t,e,n){e.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},{}],23:[function(t,e,n){var r=t("./_is-object");e.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},{"./_is-object":46}],24:[function(t,e,n){var r=t("./_to-iobject"),o=t("./_to-length"),i=t("./_to-index");e.exports=function(t){return function(e,n,s){var u,c=r(e),a=o(c.length),h=i(s,a);if(t&&n!=n){for(;a>h;)if(u=c[h++],u!=u)return!0}else for(;a>h;h++)if((t||h in c)&&c[h]===n)return t||h||0;return!t&&-1}}},{"./_to-index":80,"./_to-iobject":82,"./_to-length":83}],25:[function(t,e,n){var r=t("./_cof"),o=t("./_wks")("toStringTag"),i="Arguments"==r(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(t){}};e.exports=function(t){var e,n,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),o))?n:i?r(e):"Object"==(u=r(e))&&"function"==typeof e.callee?"Arguments":u}},{"./_cof":26,"./_wks":89}],26:[function(t,e,n){var r={}.toString;e.exports=function(t){return r.call(t).slice(8,-1)}},{}],27:[function(t,e,n){var r=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},{}],28:[function(t,e,n){var r=t("./_a-function");e.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},{"./_a-function":20}],29:[function(t,e,n){e.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},{}],30:[function(t,e,n){e.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":35}],31:[function(t,e,n){var r=t("./_is-object"),o=t("./_global").document,i=r(o)&&r(o.createElement);e.exports=function(t){return i?o.createElement(t):{}}},{"./_global":37,"./_is-object":46}],32:[function(t,e,n){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],33:[function(t,e,n){var r=t("./_object-keys"),o=t("./_object-gops"),i=t("./_object-pie");e.exports=function(t){var e=r(t),n=o.f;if(n)for(var s,u=n(t),c=i.f,a=0;u.length>a;)c.call(t,s=u[a++])&&e.push(s);return e}},{"./_object-gops":63,"./_object-keys":66,"./_object-pie":67}],34:[function(t,e,n){var r=t("./_global"),o=t("./_core"),i=t("./_ctx"),s=t("./_hide"),u="prototype",c=function(t,e,n){var a,h,f,l=t&c.F,p=t&c.G,d=t&c.S,_=t&c.P,b=t&c.B,v=t&c.W,y=p?o:o[e]||(o[e]={}),m=y[u],g=p?r:d?r[e]:(r[e]||{})[u];p&&(n=e);for(a in n)h=!l&&g&&void 0!==g[a],h&&a in y||(f=h?g[a]:n[a],y[a]=p&&"function"!=typeof g[a]?n[a]:b&&h?i(f,r):v&&g[a]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[u]=t[u],e}(f):_&&"function"==typeof f?i(Function.call,f):f,_&&((y.virtual||(y.virtual={}))[a]=f,t&c.R&&m&&!m[a]&&s(m,a,f)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},{"./_core":27,"./_ctx":28,"./_global":37,"./_hide":39}],35:[function(t,e,n){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],36:[function(t,e,n){var r=t("./_ctx"),o=t("./_iter-call"),i=t("./_is-array-iter"),s=t("./_an-object"),u=t("./_to-length"),c=t("./core.get-iterator-method"),a={},h={},n=e.exports=function(t,e,n,f,l){var p,d,_,b,v=l?function(){return t}:c(t),y=r(n,f,e?2:1),m=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(i(v)){for(p=u(t.length);p>m;m++)if(b=e?y(s(d=t[m])[0],d[1]):y(t[m]),b===a||b===h)return b}else for(_=v.call(t);!(d=_.next()).done;)if(b=o(_,y,d.value,e),b===a||b===h)return b};n.BREAK=a,n.RETURN=h},{"./_an-object":23,"./_ctx":28,"./_is-array-iter":44,"./_iter-call":47,"./_to-length":83,"./core.get-iterator-method":90}],37:[function(t,e,n){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],38:[function(t,e,n){var r={}.hasOwnProperty;e.exports=function(t,e){return r.call(t,e)}},{}],39:[function(t,e,n){var r=t("./_object-dp"),o=t("./_property-desc");e.exports=t("./_descriptors")?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},{"./_descriptors":30,"./_object-dp":58,"./_property-desc":69}],40:[function(t,e,n){e.exports=t("./_global").document&&document.documentElement},{"./_global":37}],41:[function(t,e,n){e.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":30,"./_dom-create":31,"./_fails":35}],42:[function(t,e,n){e.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},{}],43:[function(t,e,n){var r=t("./_cof");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},{"./_cof":26}],44:[function(t,e,n){var r=t("./_iterators"),o=t("./_wks")("iterator"),i=Array.prototype;e.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},{"./_iterators":52,"./_wks":89}],45:[function(t,e,n){var r=t("./_cof");e.exports=Array.isArray||function(t){return"Array"==r(t)}},{"./_cof":26}],46:[function(t,e,n){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],47:[function(t,e,n){var r=t("./_an-object");e.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t["return"];throw void 0!==i&&r(i.call(t)),e}}},{"./_an-object":23}],48:[function(t,e,n){"use strict";var r=t("./_object-create"),o=t("./_property-desc"),i=t("./_set-to-string-tag"),s={};t("./_hide")(s,t("./_wks")("iterator"),function(){return this}),e.exports=function(t,e,n){t.prototype=r(s,{next:o(1,n)}),i(t,e+" Iterator")}},{"./_hide":39,"./_object-create":57,"./_property-desc":69,"./_set-to-string-tag":74,"./_wks":89}],49:[function(t,e,n){"use strict";var r=t("./_library"),o=t("./_export"),i=t("./_redefine"),s=t("./_hide"),u=t("./_has"),c=t("./_iterators"),a=t("./_iter-create"),h=t("./_set-to-string-tag"),f=t("./_object-gpo"),l=t("./_wks")("iterator"),p=!([].keys&&"next"in[].keys()),d="@@iterator",_="keys",b="values",v=function(){return this};e.exports=function(t,e,n,y,m,g,w){a(n,e,y);var x,j,E,C=function(t){if(!p&&t in A)return A[t];switch(t){case _:return function(){return new n(this,t)};case b:return function(){return new n(this,t)}}return function(){return new n(this,t)}},k=e+" Iterator",O=m==b,S=!1,A=t.prototype,N=A[l]||A[d]||m&&A[m],D=N||C(m),P=m?O?C("entries"):D:void 0,q="Array"==e?A.entries||N:N;if(q&&(E=f(q.call(new t)),E!==Object.prototype&&(h(E,k,!0),r||u(E,l)||s(E,l,v))),O&&N&&N.name!==b&&(S=!0,D=function(){return N.call(this)}),r&&!w||!p&&!S&&A[l]||s(A,l,D),c[e]=D,c[k]=v,m)if(x={values:O?D:C(b),keys:g?D:C(_),entries:P},w)for(j in x)j in A||i(A,j,x[j]);else o(o.P+o.F*(p||S),e,x);return x}},{"./_export":34,"./_has":38,"./_hide":39,"./_iter-create":48,"./_iterators":52,"./_library":54,"./_object-gpo":64,"./_redefine":71,"./_set-to-string-tag":74,"./_wks":89}],50:[function(t,e,n){var r=t("./_wks")("iterator"),o=!1;try{var i=[7][r]();i["return"]=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}e.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],s=i[r]();s.next=function(){return{done:n=!0}},i[r]=function(){return s},t(i)}catch(t){}return n}},{"./_wks":89}],51:[function(t,e,n){e.exports=function(t,e){return{value:e,done:!!t}}},{}],52:[function(t,e,n){e.exports={}},{}],53:[function(t,e,n){var r=t("./_object-keys"),o=t("./_to-iobject");e.exports=function(t,e){for(var n,i=o(t),s=r(i),u=s.length,c=0;u>c;)if(i[n=s[c++]]===e)return n}},{"./_object-keys":66,"./_to-iobject":82}],54:[function(t,e,n){e.exports=!0},{}],55:[function(t,e,n){var r=t("./_uid")("meta"),o=t("./_is-object"),i=t("./_has"),s=t("./_object-dp").f,u=0,c=Object.isExtensible||function(){return!0},a=!t("./_fails")(function(){return c(Object.preventExtensions({}))}),h=function(t){s(t,r,{value:{i:"O"+ ++u,w:{}}})},f=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!c(t))return"F";if(!e)return"E";h(t)}return t[r].i},l=function(t,e){if(!i(t,r)){if(!c(t))return!0;if(!e)return!1;h(t)}return t[r].w},p=function(t){return a&&d.NEED&&c(t)&&!i(t,r)&&h(t),t},d=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:l,onFreeze:p}},{"./_fails":35,"./_has":38,"./_is-object":46,"./_object-dp":58,"./_uid":86}],56:[function(t,e,n){var r=t("./_global"),o=t("./_task").set,i=r.MutationObserver||r.WebKitMutationObserver,s=r.process,u=r.Promise,c="process"==t("./_cof")(s);e.exports=function(){var t,e,n,a=function(){var r,o;for(c&&(r=s.domain)&&r.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(c)n=function(){s.nextTick(a)};else if(i){var h=!0,f=document.createTextNode("");new i(a).observe(f,{characterData:!0}),n=function(){f.data=h=!h}}else if(u&&u.resolve){var l=u.resolve();n=function(){l.then(a)}}else n=function(){o.call(r,a)};return function(r){var o={fn:r,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},{"./_cof":26,"./_global":37,"./_task":79}],57:[function(t,e,n){var r=t("./_an-object"),o=t("./_object-dps"),i=t("./_enum-bug-keys"),s=t("./_shared-key")("IE_PROTO"),u=function(){},c="prototype",a=function(){var e,n=t("./_dom-create")("iframe"),r=i.length,o="<",s=">";for(n.style.display="none",t("./_html").appendChild(n),n.src="javascript:",e=n.contentWindow.document,e.open(),e.write(o+"script"+s+"document.F=Object"+o+"/script"+s),e.close(),a=e.F;r--;)delete a[c][i[r]];return a()};e.exports=Object.create||function(t,e){var n;return null!==t?(u[c]=r(t),n=new u,u[c]=null,n[s]=t):n=a(),void 0===e?n:o(n,e)}},{"./_an-object":23,"./_dom-create":31,"./_enum-bug-keys":32,"./_html":40,"./_object-dps":59,"./_shared-key":75}],58:[function(t,e,n){var r=t("./_an-object"),o=t("./_ie8-dom-define"),i=t("./_to-primitive"),s=Object.defineProperty;n.f=t("./_descriptors")?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},{"./_an-object":23,"./_descriptors":30,"./_ie8-dom-define":41,"./_to-primitive":85}],59:[function(t,e,n){var r=t("./_object-dp"),o=t("./_an-object"),i=t("./_object-keys");e.exports=t("./_descriptors")?Object.defineProperties:function(t,e){o(t);for(var n,s=i(e),u=s.length,c=0;u>c;)r.f(t,n=s[c++],e[n]);return t}},{"./_an-object":23,"./_descriptors":30,"./_object-dp":58,"./_object-keys":66}],60:[function(t,e,n){var r=t("./_object-pie"),o=t("./_property-desc"),i=t("./_to-iobject"),s=t("./_to-primitive"),u=t("./_has"),c=t("./_ie8-dom-define"),a=Object.getOwnPropertyDescriptor;n.f=t("./_descriptors")?a:function(t,e){if(t=i(t),e=s(e,!0),c)try{return a(t,e)}catch(t){}if(u(t,e))return o(!r.f.call(t,e),t[e])}},{"./_descriptors":30,"./_has":38,"./_ie8-dom-define":41,"./_object-pie":67,"./_property-desc":69,"./_to-iobject":82,"./_to-primitive":85}],61:[function(t,e,n){var r=t("./_to-iobject"),o=t("./_object-gopn").f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(t){try{return o(t)}catch(t){return s.slice()}};e.exports.f=function(t){return s&&"[object Window]"==i.call(t)?u(t):o(r(t))}},{"./_object-gopn":62,"./_to-iobject":82}],62:[function(t,e,n){var r=t("./_object-keys-internal"),o=t("./_enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},{"./_enum-bug-keys":32,"./_object-keys-internal":65}],63:[function(t,e,n){n.f=Object.getOwnPropertySymbols},{}],64:[function(t,e,n){var r=t("./_has"),o=t("./_to-object"),i=t("./_shared-key")("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},{"./_has":38,"./_shared-key":75,"./_to-object":84}],65:[function(t,e,n){var r=t("./_has"),o=t("./_to-iobject"),i=t("./_array-includes")(!1),s=t("./_shared-key")("IE_PROTO");e.exports=function(t,e){var n,u=o(t),c=0,a=[];for(n in u)n!=s&&r(u,n)&&a.push(n);for(;e.length>c;)r(u,n=e[c++])&&(~i(a,n)||a.push(n));return a}},{"./_array-includes":24,"./_has":38,"./_shared-key":75,"./_to-iobject":82}],66:[function(t,e,n){var r=t("./_object-keys-internal"),o=t("./_enum-bug-keys");e.exports=Object.keys||function(t){return r(t,o)}},{"./_enum-bug-keys":32,"./_object-keys-internal":65}],67:[function(t,e,n){n.f={}.propertyIsEnumerable},{}],68:[function(t,e,n){var r=t("./_export"),o=t("./_core"),i=t("./_fails");e.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],s={};s[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",s)}},{"./_core":27,"./_export":34,"./_fails":35}],69:[function(t,e,n){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],70:[function(t,e,n){var r=t("./_hide");e.exports=function(t,e,n){for(var o in e)n&&t[o]?t[o]=e[o]:r(t,o,e[o]);return t}},{"./_hide":39}],71:[function(t,e,n){e.exports=t("./_hide")},{"./_hide":39}],72:[function(t,e,n){var r=t("./_is-object"),o=t("./_an-object"),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=r("./_ctx")(Function.call,r("./_object-gopd").f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,r){return i(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:i}},{"./_an-object":23,"./_ctx":28,"./_is-object":46,"./_object-gopd":60}],73:[function(t,e,n){"use strict";var r=t("./_global"),o=t("./_core"),i=t("./_object-dp"),s=t("./_descriptors"),u=t("./_wks")("species");e.exports=function(t){var e="function"==typeof o[t]?o[t]:r[t];s&&e&&!e[u]&&i.f(e,u,{configurable:!0,get:function(){return this}})}},{"./_core":27,"./_descriptors":30,"./_global":37,"./_object-dp":58,"./_wks":89}],74:[function(t,e,n){var r=t("./_object-dp").f,o=t("./_has"),i=t("./_wks")("toStringTag");e.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},{"./_has":38,"./_object-dp":58,"./_wks":89}],75:[function(t,e,n){var r=t("./_shared")("keys"),o=t("./_uid");e.exports=function(t){return r[t]||(r[t]=o(t))}},{"./_shared":76,"./_uid":86}],76:[function(t,e,n){var r=t("./_global"),o="__core-js_shared__",i=r[o]||(r[o]={});e.exports=function(t){return i[t]||(i[t]={})}},{"./_global":37}],77:[function(t,e,n){var r=t("./_an-object"),o=t("./_a-function"),i=t("./_wks")("species");e.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||void 0==(n=r(s)[i])?e:o(n)}},{"./_a-function":20,"./_an-object":23,"./_wks":89}],78:[function(t,e,n){var r=t("./_to-integer"),o=t("./_defined");e.exports=function(t){return function(e,n){var i,s,u=String(o(e)),c=r(n),a=u.length;return c<0||c>=a?t?"":void 0:(i=u.charCodeAt(c),i<55296||i>56319||c+1===a||(s=u.charCodeAt(c+1))<56320||s>57343?t?u.charAt(c):i:t?u.slice(c,c+2):(i-55296<<10)+(s-56320)+65536)}}},{"./_defined":29,"./_to-integer":81}],79:[function(t,e,n){var r,o,i,s=t("./_ctx"),u=t("./_invoke"),c=t("./_html"),a=t("./_dom-create"),h=t("./_global"),f=h.process,l=h.setImmediate,p=h.clearImmediate,d=h.MessageChannel,_=0,b={},v="onreadystatechange",y=function(){var t=+this;if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},m=function(t){y.call(t.data)};l&&p||(l=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return b[++_]=function(){u("function"==typeof t?t:Function(t),e)},r(_),_},p=function(t){delete b[t]},"process"==t("./_cof")(f)?r=function(t){f.nextTick(s(y,t,1))}:d?(o=new d,i=o.port2,o.port1.onmessage=m,r=s(i.postMessage,i,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(r=function(t){h.postMessage(t+"","*")},h.addEventListener("message",m,!1)):r=v in a("script")?function(t){c.appendChild(a("script"))[v]=function(){c.removeChild(this),y.call(t)}}:function(t){setTimeout(s(y,t,1),0)}),e.exports={set:l,clear:p}},{"./_cof":26,"./_ctx":28,"./_dom-create":31,"./_global":37,"./_html":40,"./_invoke":42}],80:[function(t,e,n){var r=t("./_to-integer"),o=Math.max,i=Math.min;e.exports=function(t,e){return t=r(t),t<0?o(t+e,0):i(t,e)}},{"./_to-integer":81}],81:[function(t,e,n){var r=Math.ceil,o=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(t>0?o:r)(t)}},{}],82:[function(t,e,n){var r=t("./_iobject"),o=t("./_defined");e.exports=function(t){return r(o(t))}},{"./_defined":29,"./_iobject":43}],83:[function(t,e,n){var r=t("./_to-integer"),o=Math.min;e.exports=function(t){return t>0?o(r(t),9007199254740991):0}},{"./_to-integer":81}],84:[function(t,e,n){var r=t("./_defined");e.exports=function(t){return Object(r(t))}},{"./_defined":29}],85:[function(t,e,n){var r=t("./_is-object");e.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":46}],86:[function(t,e,n){var r=0,o=Math.random();e.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+o).toString(36))}},{}],87:[function(t,e,n){var r=t("./_global"),o=t("./_core"),i=t("./_library"),s=t("./_wks-ext"),u=t("./_object-dp").f;e.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||u(e,t,{value:s.f(t)})}},{"./_core":27,"./_global":37,"./_library":54,"./_object-dp":58,"./_wks-ext":88}],88:[function(t,e,n){n.f=t("./_wks")},{"./_wks":89}],89:[function(t,e,n){var r=t("./_shared")("wks"),o=t("./_uid"),i=t("./_global").Symbol,s="function"==typeof i,u=e.exports=function(t){return r[t]||(r[t]=s&&i[t]||(s?i:o)("Symbol."+t))};u.store=r},{"./_global":37,"./_shared":76,"./_uid":86}],90:[function(t,e,n){var r=t("./_classof"),o=t("./_wks")("iterator"),i=t("./_iterators");e.exports=t("./_core").getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},{"./_classof":25,"./_core":27,"./_iterators":52,"./_wks":89}],91:[function(t,e,n){"use strict";var r=t("./_add-to-unscopables"),o=t("./_iter-step"),i=t("./_iterators"),s=t("./_to-iobject");e.exports=t("./_iter-define")(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):"keys"==e?o(0,n):"values"==e?o(0,t[n]):o(0,[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},{"./_add-to-unscopables":21,"./_iter-define":49,"./_iter-step":51,"./_iterators":52,"./_to-iobject":82}],92:[function(t,e,n){var r=t("./_export");r(r.S,"Object",{create:t("./_object-create")})},{"./_export":34,"./_object-create":57}],93:[function(t,e,n){var r=t("./_export");r(r.S+r.F*!t("./_descriptors"),"Object",{defineProperty:t("./_object-dp").f})},{"./_descriptors":30,"./_export":34,"./_object-dp":58}],94:[function(t,e,n){var r=t("./_to-object"),o=t("./_object-gpo");t("./_object-sap")("getPrototypeOf",function(){return function(t){return o(r(t))}})},{"./_object-gpo":64,"./_object-sap":68,"./_to-object":84}],95:[function(t,e,n){var r=t("./_export");r(r.S,"Object",{setPrototypeOf:t("./_set-proto").set})},{"./_export":34,"./_set-proto":72}],96:[function(t,e,n){},{}],97:[function(t,e,n){"use strict";var r,o,i,s=t("./_library"),u=t("./_global"),c=t("./_ctx"),a=t("./_classof"),h=t("./_export"),f=t("./_is-object"),l=t("./_a-function"),p=t("./_an-instance"),d=t("./_for-of"),_=t("./_species-constructor"),b=t("./_task").set,v=t("./_microtask")(),y="Promise",m=u.TypeError,g=u.process,w=u[y],g=u.process,x="process"==a(g),j=function(){},E=!!function(){try{var t=w.resolve(1),e=(t.constructor={})[n("./_wks")("species")]=function(t){t(j,j)};return(x||"function"==typeof PromiseRejectionEvent)&&t.then(j)instanceof e}catch(n){}}(),C=function(t,e){return t===e||t===w&&e===i},k=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},O=function(t){return C(w,t)?new S(t):new o(t)},S=o=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw m("Bad Promise constructor");e=t,n=r}),this.resolve=l(e),this.reject=l(n)},A=function(t){try{t()}catch(t){return{error:t}}},N=function(t,e){if(!t._n){t._n=!0;var n=t._c;v(function(){for(var r=t._v,o=1==t._s,i=0,s=function(t){var e,n,i=o?t.ok:t.fail,s=t.resolve,u=t.reject,c=t.domain;try{i?(o||(2==a._h&&q(a),a._h=1),i===!0?e=r:(c&&c.enter(),e=i(r),c&&c.exit()),e===t.promise?u(m("Promise-chain cycle")):(n=k(e))?n.call(e,s,u):s(e)):u(r)}catch(a){u(a)}};n.length>i;)s(n[i++]);t._c=[],t._n=!1,e&&!t._h&&D(t)})}},D=function(t){b.call(u,function(){var e,n,r,o=t._v;if(P(t)&&(e=A(function(){x?g.emit("unhandledRejection",o,t):(n=u.onunhandledrejection)?n({promise:t,reason:o}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",o)}),t._h=x||P(t)?2:1),t._a=void 0,e)throw e.error})},P=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,r=0;n.length>r;)if(e=n[r++],e.fail||!P(e.promise))return!1;return!0},q=function(t){b.call(u,function(){var e;x?g.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},R=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),N(e,!0))},M=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw m("Promise can't be resolved itself");(e=k(t))?v(function(){var t={_w:n,_d:!1};try{e.call(r,c(M,t,1),c(R,t,1))}catch(r){R.call(t,r)}}):(n._v=t,n._s=1,N(n,!1))}catch(t){R.call({_w:n,_d:!1},t)}}};E||(w=function(t){p(this,w,y,"_h"),l(t),r.call(this);try{t(c(M,this,1),c(R,this,1))}catch(t){R.call(this,t)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=t("./_redefine-all")(w.prototype,{then:function(t,e){var n=O(_(this,w));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=x?g.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},"catch":function(t){return this.then(void 0,t)}}),S=function(){var t=new r;this.promise=t,this.resolve=c(M,t,1),this.reject=c(R,t,1)}),h(h.G+h.W+h.F*!E,{Promise:w}),t("./_set-to-string-tag")(w,y),t("./_set-species")(y),i=t("./_core")[y],h(h.S+h.F*!E,y,{reject:function(t){var e=O(this),n=e.reject;return n(t),e.promise}}),h(h.S+h.F*(s||!E),y,{resolve:function(t){if(t instanceof w&&C(t.constructor,this))return t;var e=O(this),n=e.resolve;return n(t),e.promise}}),h(h.S+h.F*!(E&&t("./_iter-detect")(function(t){w.all(t)["catch"](j)})),y,{all:function(t){var e=this,n=O(e),r=n.resolve,o=n.reject,i=A(function(){var n=[],i=0,s=1;d(t,!1,function(t){var u=i++,c=!1;n.push(void 0),s++,e.resolve(t).then(function(t){c||(c=!0,n[u]=t,--s||r(n))},o)}),--s||r(n)});return i&&o(i.error),n.promise},race:function(t){var e=this,n=O(e),r=n.reject,o=A(function(){d(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o&&r(o.error),n.promise}})},{"./_a-function":20,"./_an-instance":22,"./_classof":25,"./_core":27,"./_ctx":28,"./_export":34,"./_for-of":36,"./_global":37,"./_is-object":46,"./_iter-detect":50,"./_library":54,"./_microtask":56,"./_redefine-all":70,"./_set-species":73,"./_set-to-string-tag":74,"./_species-constructor":77,"./_task":79,"./_wks":89}],98:[function(t,e,n){"use strict";var r=t("./_string-at")(!0);t("./_iter-define")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},{"./_iter-define":49,"./_string-at":78}],99:[function(t,e,n){"use strict";var r=t("./_global"),o=t("./_has"),i=t("./_descriptors"),s=t("./_export"),u=t("./_redefine"),c=t("./_meta").KEY,a=t("./_fails"),h=t("./_shared"),f=t("./_set-to-string-tag"),l=t("./_uid"),p=t("./_wks"),d=t("./_wks-ext"),_=t("./_wks-define"),b=t("./_keyof"),v=t("./_enum-keys"),y=t("./_is-array"),m=t("./_an-object"),g=t("./_to-iobject"),w=t("./_to-primitive"),x=t("./_property-desc"),j=t("./_object-create"),E=t("./_object-gopn-ext"),C=t("./_object-gopd"),k=t("./_object-dp"),O=t("./_object-keys"),S=C.f,A=k.f,N=E.f,D=r.Symbol,P=r.JSON,q=P&&P.stringify,R="prototype",M=p("_hidden"),T=p("toPrimitive"),F={}.propertyIsEnumerable,z=h("symbol-registry"),I=h("symbols"),L=h("op-symbols"),Q=Object[R],U="function"==typeof D,B=r.QObject,W=!B||!B[R]||!B[R].findChild,V=i&&a(function(){return 7!=j(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=S(Q,e);r&&delete Q[e],A(t,e,n),r&&t!==Q&&A(Q,e,r)}:A,H=function(t){var e=I[t]=j(D[R]);return e._k=t,e},$=U&&"symbol"==typeof D.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof D},J=function(t,e,n){return t===Q&&J(L,e,n),m(t),e=w(e,!0),m(n),o(I,e)?(n.enumerable?(o(t,M)&&t[M][e]&&(t[M][e]=!1),n=j(n,{enumerable:x(0,!1)})):(o(t,M)||A(t,M,x(1,{})),t[M][e]=!0),V(t,e,n)):A(t,e,n)},K=function(t,e){m(t);for(var n,r=v(e=g(e)),o=0,i=r.length;i>o;)J(t,n=r[o++],e[n]);return t},Z=function(t,e){return void 0===e?j(t):K(j(t),e)},G=function(t){var e=F.call(this,t=w(t,!0));return!(this===Q&&o(I,t)&&!o(L,t))&&(!(e||!o(this,t)||!o(I,t)||o(this,M)&&this[M][t])||e)},Y=function(t,e){if(t=g(t),e=w(e,!0),t!==Q||!o(I,e)||o(L,e)){var n=S(t,e);return!n||!o(I,e)||o(t,M)&&t[M][e]||(n.enumerable=!0),n}},X=function(t){for(var e,n=N(g(t)),r=[],i=0;n.length>i;)o(I,e=n[i++])||e==M||e==c||r.push(e);return r},tt=function(t){for(var e,n=t===Q,r=N(n?L:g(t)),i=[],s=0;r.length>s;)!o(I,e=r[s++])||n&&!o(Q,e)||i.push(I[e]);return i};U||(D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var t=l(arguments.length>0?arguments[0]:void 0),e=function(n){this===Q&&e.call(L,n),o(this,M)&&o(this[M],t)&&(this[M][t]=!1),V(this,t,x(1,n))};return i&&W&&V(Q,t,{configurable:!0,set:e}),H(t);
},u(D[R],"toString",function(){return this._k}),C.f=Y,k.f=J,t("./_object-gopn").f=E.f=X,t("./_object-pie").f=G,t("./_object-gops").f=tt,i&&!t("./_library")&&u(Q,"propertyIsEnumerable",G,!0),d.f=function(t){return H(p(t))}),s(s.G+s.W+s.F*!U,{Symbol:D});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)p(et[nt++]);for(var et=O(p.store),nt=0;et.length>nt;)_(et[nt++]);s(s.S+s.F*!U,"Symbol",{"for":function(t){return o(z,t+="")?z[t]:z[t]=D(t)},keyFor:function(t){if($(t))return b(z,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){W=!0},useSimple:function(){W=!1}}),s(s.S+s.F*!U,"Object",{create:Z,defineProperty:J,defineProperties:K,getOwnPropertyDescriptor:Y,getOwnPropertyNames:X,getOwnPropertySymbols:tt}),P&&s(s.S+s.F*(!U||a(function(){var t=D();return"[null]"!=q([t])||"{}"!=q({a:t})||"{}"!=q(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!$(t)){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);return e=r[1],"function"==typeof e&&(n=e),!n&&y(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!$(e))return e}),r[1]=e,q.apply(P,r)}}}),D[R][T]||t("./_hide")(D[R],T,D[R].valueOf),f(D,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},{"./_an-object":23,"./_descriptors":30,"./_enum-keys":33,"./_export":34,"./_fails":35,"./_global":37,"./_has":38,"./_hide":39,"./_is-array":45,"./_keyof":53,"./_library":54,"./_meta":55,"./_object-create":57,"./_object-dp":58,"./_object-gopd":60,"./_object-gopn":62,"./_object-gopn-ext":61,"./_object-gops":63,"./_object-keys":66,"./_object-pie":67,"./_property-desc":69,"./_redefine":71,"./_set-to-string-tag":74,"./_shared":76,"./_to-iobject":82,"./_to-primitive":85,"./_uid":86,"./_wks":89,"./_wks-define":87,"./_wks-ext":88}],100:[function(t,e,n){t("./_wks-define")("asyncIterator")},{"./_wks-define":87}],101:[function(t,e,n){t("./_wks-define")("observable")},{"./_wks-define":87}],102:[function(t,e,n){t("./es6.array.iterator");for(var r=t("./_global"),o=t("./_hide"),i=t("./_iterators"),s=t("./_wks")("toStringTag"),u=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],c=0;c<5;c++){var a=u[c],h=r[a],f=h&&h.prototype;f&&!f[s]&&o(f,s,a),i[a]=i.Array}},{"./_global":37,"./_hide":39,"./_iterators":52,"./_wks":89,"./es6.array.iterator":91}],103:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var o=t("babel-runtime/helpers/classCallCheck"),i=r(o),s=t("babel-runtime/helpers/createClass"),u=r(s),c=function(){function t(){(0,i["default"])(this,t);var e=this;e._msgId=0,e._subscriptions={},e._responseTimeOut=5e3,e._responseCallbacks={},e._registerExternalListener()}return(0,u["default"])(t,[{key:"addListener",value:function(t,e){var n=this,r=new a(n._subscriptions,t,e),o=n._subscriptions[t];return o||(o=[],n._subscriptions[t]=o),o.push(r),r}},{key:"addResponseListener",value:function(t,e,n){this._responseCallbacks[t+e]=n}},{key:"removeResponseListener",value:function(t,e){delete this._responseCallbacks[t+e]}},{key:"removeAllListenersOf",value:function(t){delete this._subscriptions[t]}},{key:"bind",value:function(t,e,n){var r=this,o=this,i=o.addListener(t,function(t){n.postMessage(t)}),s=n.addListener(e,function(t){o.postMessage(t)});return{thisListener:i,targetListener:s,unbind:function(){r.thisListener.remove(),r.targetListener.remove()}}}},{key:"_publishOnDefault",value:function(t){var e=this._subscriptions["*"];e&&this._publishOn(e,t)}},{key:"_publishOn",value:function(t,e){t.forEach(function(t){t._callback(e)})}},{key:"_responseCallback",value:function(t,e){var n=this;e&&!function(){var r=t.from+t.id;n._responseCallbacks[r]=e,setTimeout(function(){var e=n._responseCallbacks[r];if(delete n._responseCallbacks[r],e){var o={id:t.id,type:"response",body:{code:408,desc:"Response timeout!",value:t}};e(o)}},n._responseTimeOut)}()}},{key:"_onResponse",value:function(t){var e=this;if("response"===t.type){var n=t.to+t.id,r=e._responseCallbacks[n];if(t.body.code>=200&&delete e._responseCallbacks[n],r)return r(t),!0}return!1}},{key:"_onMessage",value:function(t){var e=this;if(!e._onResponse(t)){var n=e._subscriptions[t.to];n?e._publishOn(n,t):e._publishOnDefault(t)}}},{key:"_genId",value:function(t){t.id&&0!==t.id||(this._msgId++,t.id=this._msgId)}},{key:"postMessage",value:function(t,e){}},{key:"_onPostMessage",value:function(t){}},{key:"_registerExternalListener",value:function(){}}]),t}(),a=function(){function t(e,n,r){(0,i["default"])(this,t);var o=this;o._subscriptions=e,o._url=n,o._callback=r}return(0,u["default"])(t,[{key:"remove",value:function(){var t=this,e=t._subscriptions[t._url];if(e){var n=e.indexOf(t);e.splice(n,1),0===e.length&&delete t._subscriptions[t._url]}}},{key:"url",get:function(){return this._url}}]),t}();n["default"]=c,e.exports=n["default"]},{"babel-runtime/helpers/classCallCheck":8,"babel-runtime/helpers/createClass":9}],104:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var o=t("babel-runtime/core-js/object/get-prototype-of"),i=r(o),s=t("babel-runtime/helpers/classCallCheck"),u=r(s),c=t("babel-runtime/helpers/createClass"),a=r(c),h=t("babel-runtime/helpers/possibleConstructorReturn"),f=r(h),l=t("babel-runtime/helpers/inherits"),p=r(l),d=t("./Bus"),_=r(d),b=function(t){function e(){return(0,u["default"])(this,e),(0,f["default"])(this,(e.__proto__||(0,i["default"])(e)).call(this))}return(0,p["default"])(e,t),(0,a["default"])(e,[{key:"postMessage",value:function(t,e){var n=this;return n._genId(t),n._responseCallback(t,e),n._onPostMessage(t),t.id}},{key:"_onMessage",value:function(t){var e=this;if(!e._onResponse(t)){var n=e._subscriptions[t.to];n?(e._publishOn(n,t),t.to.startsWith("hyperty")||e._publishOnDefault(t)):e._publishOnDefault(t)}}}]),e}(_["default"]);n["default"]=b,e.exports=n["default"]},{"./Bus":103,"babel-runtime/core-js/object/get-prototype-of":3,"babel-runtime/helpers/classCallCheck":8,"babel-runtime/helpers/createClass":9,"babel-runtime/helpers/inherits":10,"babel-runtime/helpers/possibleConstructorReturn":11}],105:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.SandboxRegistry=n.SandboxType=n.Sandbox=void 0;var o=t("./sandbox/Sandbox"),i=r(o),s=t("./sandbox/SandboxRegistry"),u=r(s);n.Sandbox=i["default"],n.SandboxType=o.SandboxType,n.SandboxRegistry=u["default"]},{"./sandbox/Sandbox":106,"./sandbox/SandboxRegistry":107}],106:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.SandboxType=void 0;var o=t("babel-runtime/core-js/promise"),i=r(o),s=t("babel-runtime/core-js/object/get-prototype-of"),u=r(s),c=t("babel-runtime/helpers/classCallCheck"),a=r(c),h=t("babel-runtime/helpers/createClass"),f=r(h),l=t("babel-runtime/helpers/possibleConstructorReturn"),p=r(l),d=t("babel-runtime/helpers/inherits"),_=r(d),b=t("../sandbox/SandboxRegistry"),v=r(b),y=t("../bus/MiniBus"),m=r(y),g=(n.SandboxType={APP:"app",NORMAL:"normal"},function(t){function e(){(0,a["default"])(this,e);var t=(0,p["default"])(this,(e.__proto__||(0,u["default"])(e)).call(this));return t}return(0,_["default"])(e,t),(0,f["default"])(e,[{key:"deployComponent",value:function(t,e,n){var r=this;return new i["default"](function(o,i){var s={type:"create",from:v["default"].ExternalDeployAddress,to:v["default"].InternalDeployAddress,body:{url:e,sourceCode:t,config:n}};r.postMessage(s,function(t){200===t.body.code?o("deployed"):i(t.body.desc)})})}},{key:"removeComponent",value:function(t){var e=this;return new i["default"](function(n,r){var o={type:"delete",from:v["default"].ExternalDeployAddress,to:v["default"].InternalDeployAddress,body:{url:t}};e.postMessage(o,function(t){200===t.body.code?n("undeployed"):r(t.body.desc)})})}}]),e}(m["default"]));n["default"]=g},{"../bus/MiniBus":104,"../sandbox/SandboxRegistry":107,"babel-runtime/core-js/object/get-prototype-of":3,"babel-runtime/core-js/promise":5,"babel-runtime/helpers/classCallCheck":8,"babel-runtime/helpers/createClass":9,"babel-runtime/helpers/inherits":10,"babel-runtime/helpers/possibleConstructorReturn":11}],107:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var o=t("babel-runtime/helpers/classCallCheck"),i=r(o),s=t("babel-runtime/helpers/createClass"),u=r(s),c=function(){function t(e){(0,i["default"])(this,t);var n=this;n._bus=e,n._components={},e.addListener(t.InternalDeployAddress,function(t){switch(t.type){case"create":n._onDeploy(t);break;case"delete":n._onRemove(t)}})}return(0,u["default"])(t,[{key:"_responseMsg",value:function(e,n,r){var o={id:e.id,type:"response",from:t.InternalDeployAddress,to:t.ExternalDeployAddress},i={};return n&&(i.code=n),r&&(i.desc=r),o.body=i,o}},{key:"_onDeploy",value:function(t){var e=this,n=t.body.config,r=t.body.url,o=t.body.sourceCode,i=void 0,s=void 0;if(e._components.hasOwnProperty(r))i=500,s="Instance "+r+" already exist!";else try{e._components[r]=e._create(r,o,n),i=200}catch(t){i=500,s=t}var u=e._responseMsg(t,i,s);e._bus.postMessage(u)}},{key:"_onRemove",value:function(t){var e=this,n=t.body.url,r=void 0,o=void 0;e._components.hasOwnProperty(n)?(delete e._components[n],e._bus.removeAllListenersOf(n),r=200):(r=500,o="Instance "+n+" doesn't exist!");var i=e._responseMsg(t,r,o);e._bus.postMessage(i)}},{key:"_create",value:function(t,e,n){}},{key:"components",get:function(){return this._components}}]),t}();c.ExternalDeployAddress="hyperty-runtime://sandbox/external",c.InternalDeployAddress="hyperty-runtime://sandbox/internal",n["default"]=c,e.exports=n["default"]},{"babel-runtime/helpers/classCallCheck":8,"babel-runtime/helpers/createClass":9}]},{},[105])(105)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,n,r){(function(e,o){(function(i){function s(t){return t&&t.Object===Object?t:null}function u(t){for(var e=[],n=0,r=t.length;n<r;n++)e.push(t[n]);return e}function c(t){return function(){try{return t.apply(this,arguments)}catch(e){return ne.e=e,ne}}}function a(t){throw t}function h(t,e){if(oe&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&t.stack.indexOf(ce)===-1){for(var n=[],r=e;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(t.stack);var o=n.join("\n"+ce+"\n");t.stack=f(o)}}function f(t){for(var e=t.split("\n"),n=[],r=0,o=e.length;r<o;r++){var i=e[r];l(i)||p(i)||!i||n.push(i)}return n.join("\n")}function l(t){var e=_(t);if(!e)return!1;var n=e[0],r=e[1];return n===se&&r>=ue&&r<=zs}function p(t){return t.indexOf("(module.js:")!==-1||t.indexOf("(node.js:")!==-1}function d(){if(oe)try{throw new Error}catch(t){var e=t.stack.split("\n"),n=e[0].indexOf("@")>0?e[1]:e[2],r=_(n);if(!r)return;return se=r[0],r[1]}}function _(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function b(t,e,n,r,o,s){var u=Ke(t),c=u.length,a=Ke(e),h=a.length;if(c!==h&&!r)return!1;for(var f,l=c;l--;)if(f=u[l],!(r?f in e:He.call(e,f)))return!1;for(var p=r;++l<c;){f=u[l];var d,_=t[f],b=e[f];if(!(d===i?n(_,b,r,o,s):d))return!1;p||(p="constructor"===f)}if(!p){var v=t.constructor,y=e.constructor;if(v!==y&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y))return!1}return!0}function v(t,e,n){switch(n){case je:case Ee:return+t===+e;case Ce:return t.name===e.name&&t.message===e.message;case Se:return t!==+t?e!==+e:t===+e;case Ne:case Pe:return t===e+""}return!1}function y(t){return!!t&&"object"==typeof t}function m(t){return"number"==typeof t&&t>-1&&t%1===0&&t<=Je}function g(t){return y(t)&&m(t.length)&&!!We[$e.call(t)]}function w(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function x(t,e,n,r,o,s){var u=-1,c=t.length,a=e.length;if(c!==a&&!(r&&a>c))return!1;for(;++u<c;){var h,f=t[u],l=e[u];if(h!==i){if(h)continue;return!1}if(r){if(!w(e,function(t){return f===t||n(f,t,r,o,s)}))return!1}else if(f!==l&&!n(f,l,r,o,s))return!1}return!0}function j(t,e,n,r,o,i){var s=Ge(t),u=Ge(e),c=xe,a=xe;s||(c=$e.call(t),c===we?c=Ae:c!==Ae&&(s=g(t))),u||(a=$e.call(e),a===we&&(a=Ae));var h=c===Ae&&!Ze(t),f=a===Ae&&!Ze(e),l=c===a;if(l&&!s&&!h)return v(t,e,c);if(!r){var p=h&&He.call(t,"__wrapped__"),d=f&&He.call(e,"__wrapped__");if(p||d)return n(p?t.value():t,d?e.value():e,r,o,i)}if(!l)return!1;o||(o=[]),i||(i=[]);for(var _=o.length;_--;)if(o[_]===t)return i[_]===e;o.push(t),i.push(e);var y=(s?x:b)(t,e,n,r,o,i);return o.pop(),i.pop(),y}function E(t,e,n,r,o){return t===e||(null==t||null==e||!st(t)&&!y(e)?t!==t&&e!==e:j(t,e,E,n,r,o))}function C(t,e){for(var n=new Array(t),r=0;r<t;r++)n[r]=e();return n}function k(t,e){this.id=t,this.value=e}function O(t,e){this.scheduler=t,this.disposable=e,this.isDisposed=!1}function S(t,e){e.isDisposed||(e.isDisposed=!0,e.disposable.dispose())}function A(t){this._s=t,this.isDisposed=!1}function N(t){this._s=t}function D(t){this._s=t,this._l=t.length,this._i=0}function P(t){this._a=t}function q(t){this._a=t,this._l=F(t),this._i=0}function R(t){return"number"==typeof t&&Ht.isFinite(t)}function M(t){var e,n=t[_e];if(!n&&"string"==typeof t)return e=new N(t),e[_e]();if(!n&&t.length!==i)return e=new P(t),e[_e]();if(!n)throw new TypeError("Object is not iterable");return t[_e]()}function T(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}function F(t){var e=+t.length;return isNaN(e)?0:0!==e&&R(e)?(e=T(e)*Math.floor(Math.abs(e)),e<=0?0:e>vr?vr:e):e}function z(t,e){return wn(t)||(t=Sn),new mr(e,t)}function I(t,e){this.observer=t,this.parent=e}function L(t,e){return t.amb(e)}function Q(){return!1}function U(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}function Q(){return!1}function U(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}function Q(){return!1}function B(){return[]}function Q(){return!1}function B(){return[]}function U(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}function W(t){return function(e){return t.subscribe(e)}}function V(t){return t.toArray()}function H(t){return t.length>0}function $(t){return{"@@iterator":function(){return{next:function(){return{done:!1,value:t}}}}}}function $(t){return{"@@iterator":function(){return{next:function(){return{done:!1,value:t}}}}}}function J(t,e,n){var r=me(e,n,3);return t.map(function(e,n){var o=r(e,n,t);return te(o)&&(o=ar(o)),(ye(o)||ve(o))&&(o=yr(o)),o}).concatAll()}function K(t,e,n){for(var r=0,o=t.length;r<o;r++)if(n(t[r],e))return r;return-1}function Z(t){this.comparer=t,this.set=[]}function G(t,e){return function(n){for(var r=n,o=0;o<e;o++){var s=r[t[o]];if("undefined"==typeof s)return i;r=s}return r}}function Y(t){if(0===t.length)throw new ae;return t[0]}function X(t,e,n,r){var o=me(e,n,3);return new As(function(e){return t.subscribe(new pi(e,t,o,r))},t)}function tt(t){return t?Zn.isObservable(t)?t:te(t)?Zn.fromPromise(t):it(t)||ot(t)?xi.call(this,t):ee(t)?rt.call(this,t):ye(t)||ve(t)?et.call(this,t):st(t)?nt.call(this,t):t:t}function et(t){return Zn.from(t).concatMap(function(t){return Zn.isObservable(t)||st(t)?tt.call(null,t):$t.Observable.just(t)}).toArray()}function nt(t){function e(t,e){n[e]=i,o.push(t.map(function(t){n[e]=t}))}for(var n=new t.constructor,r=Object.keys(t),o=[],s=0,u=r.length;s<u;s++){var c=r[s],a=tt.call(this,t[c]);a&&Zn.isObservable(a)?e(a,c):n[c]=t[c]}return Zn.forkJoin.apply(Zn,o).map(function(){return n})}function rt(t){var e=this;return new As(function(n){t.call(e,function(){var t=arguments[0],e=arguments[1];if(t)return n.onError(t);if(arguments.length>2){for(var r=[],o=1,i=arguments.length;o<i;o++)r.push(arguments[o]);e=r}n.onNext(e),n.onCompleted()})})}function ot(t){return ee(t.next)&&ee(t["throw"])}function it(t){var e=t.constructor;return!!e&&("GeneratorFunction"===e.name||"GeneratorFunction"===e.displayName||ot(e.prototype))}function st(t){return Object==t.constructor}function ut(t,e,n,r){var o=new Rs;return r.push(ct(o,e,n)),t.apply(e,r),o.asObservable()}function ct(t,e,n){return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];if(ee(n)){if(o=re(n).apply(e,o),o===ne)return t.onError(o.e);t.onNext(o)}else o.length<=1?t.onNext(o[0]):t.onNext(o);t.onCompleted()}}function at(t,e,n,r){var o=new Rs;return r.push(ht(o,e,n)),t.apply(e,r),o.asObservable()}function ht(t,e,n){return function(){var r=arguments[0];if(r)return t.onError(r);for(var o=arguments.length,i=[],s=1;s<o;s++)i[s-1]=arguments[s];if(ee(n)){var i=re(n).apply(e,i);if(i===ne)return t.onError(i.e);t.onNext(i)}else i.length<=1?t.onNext(i[0]):t.onNext(i);t.onCompleted()}}function ft(t){return Ht.StaticNodeList?t instanceof Ht.StaticNodeList||t instanceof Ht.NodeList:"[object NodeList]"===Object.prototype.toString.call(t)}function lt(t,e,n){this._e=t,this._n=e,this._fn=n,this._e.addEventListener(this._n,this._fn,!1),this.isDisposed=!1}function pt(t,e,n){var r=new on,o=Object.prototype.toString.call(t);if(ft(t)||"[object HTMLCollection]"===o)for(var i=0,s=t.length;i<s;i++)r.add(pt(t.item(i),e,n));else t&&r.add(new lt(t,e,n));return r}function dt(t,e,n){return new As(function(r){function o(t,e){if(a[e]=t,s[e]=!0,u||(u=s.every(Kt))){if(i)return r.onError(i);var o=re(n).apply(null,a);if(o===ne)return r.onError(o.e);r.onNext(o)}c&&a[1]&&r.onCompleted()}var i,s=[!1,!1],u=!1,c=!1,a=new Array(2);return new _n(t.subscribe(function(t){o(t,0)},function(t){a[1]?r.onError(t):i=t},function(){c=!0,a[1]&&r.onCompleted()}),e.subscribe(function(t){o(t,1)},function(t){r.onError(t)},function(){c=!0,o(!0,1)}))},t)}function V(t){return t.toArray()}function _t(t,e){return t.groupJoin(this,e,_r,function(t,e){return e})}function bt(t){var e=this;return new As(function(n){var r=new qs,o=new on,i=new vn(o);return n.onNext(en(r,i)),o.add(e.subscribe(function(t){r.onNext(t)},function(t){r.onError(t),n.onError(t)},function(){r.onCompleted(),n.onCompleted()})),te(t)&&(t=ar(t)),o.add(t.subscribe(function(t){r.onCompleted(),r=new qs,n.onNext(en(r,i))},function(t){r.onError(t),n.onError(t)},function(){r.onCompleted(),n.onCompleted()})),i},e)}function vt(t){var e=this;return new As(function(n){function r(){var e;try{e=t()}catch(i){return void n.onError(i)}te(e)&&(e=ar(e));var c=new pn;o.setDisposable(c),c.setDisposable(e.take(1).subscribe(Jt,function(t){u.onError(t),n.onError(t)},function(){u.onCompleted(),u=new qs,n.onNext(en(u,s)),r()}))}var o=new dn,i=new on(o),s=new vn(i),u=new qs;return n.onNext(en(u,s)),i.add(e.subscribe(function(t){u.onNext(t)},function(t){u.onError(t),n.onError(t)},function(){u.onCompleted(),n.onCompleted()})),r(),s},e)}function yt(t,e){return new Ii(t,e)}function U(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}function mt(t){this.patterns=t}function gt(t,e){this.expression=t,this.selector=e}function wt(t){return function(e){t.onError(e)}}function xt(t,e){return function(){var n=re(t.selector).apply(t,arguments);return n===ne?e.onError(n.e):void e.onNext(n)}}function jt(t,e,n){var r=t.get(e);if(!r){var o=new $i(e,n);return t.set(e,o),o}return r}function Et(t,e,n){this.joinObserverArray=t,this.onNext=e,this.onCompleted=n,this.joinObservers=new Hi;for(var r=0,o=this.joinObserverArray.length;r<o;r++){var i=this.joinObserverArray[r];this.joinObservers.set(i,i)}}function Ct(t,e){return new Ji(t,e)}function kt(t,e,n){return new As(function(r){var o=t,i=gn(e);return n.scheduleRecursiveFuture(0,o,function(t,e){if(i>0){var s=n.now();o=new Date(o.getTime()+i),o.getTime()<=s&&(o=new Date(s+i))}r.onNext(t),e(t+1,new Date(o))})})}function Ot(t,e,n){return t===e?new As(function(t){return n.schedulePeriodic(0,e,function(e){return t.onNext(e),e+1})}):lr(function(){return kt(new Date(n.now()+t),e,n)})}function St(t,e,n){return new As(function(r){var o,i=!1,s=new dn,u=null,c=[],a=!1;return o=t.materialize().timestamp(n).subscribe(function(t){var o,h;"E"===t.value.kind?(c=[],c.push(t),u=t.value.error,h=!a):(c.push({value:t.value,timestamp:t.timestamp+e}),h=!i,i=!0),h&&(null!==u?r.onError(u):(o=new pn,s.setDisposable(o),o.setDisposable(n.scheduleRecursiveFuture(null,e,function(t,e){var o,s,h,f;if(null===u){a=!0;do h=null,c.length>0&&c[0].timestamp-n.now()<=0&&(h=c.shift().value),null!==h&&h.accept(r);while(null!==h);f=!1,s=0,c.length>0?(f=!0,s=Math.max(0,c[0].timestamp-n.now())):i=!1,o=u,a=!1,null!==o?r.onError(o):f&&e(null,s)}}))))}),new _n(o,s)},t)}function At(t,e,n){return lr(function(){return St(t,e-n.now(),n)})}function Nt(t,e,n){var r,o;return ee(e)?o=e:(r=e,o=n),new As(function(e){function n(){c.setDisposable(t.subscribe(function(t){var n=re(o)(t);if(n===ne)return e.onError(n.e);var r=new pn;s.add(r),r.setDisposable(n.subscribe(function(){e.onNext(t),s.remove(r),i()},function(t){e.onError(t)},function(){e.onNext(t),s.remove(r),i()}))},function(t){e.onError(t)},function(){u=!0,c.dispose(),i()}))}function i(){u&&0===s.length&&e.onCompleted()}var s=new on,u=!1,c=new dn;return r?c.setDisposable(r.subscribe(n,function(t){e.onError(t)},n)):n(),new _n(c,s)},t)}function Dt(t,e){return new As(function(n){var r,o=!1,i=new dn,s=0,u=t.subscribe(function(t){var u=re(e)(t);if(u===ne)return n.onError(u.e);te(u)&&(u=ar(u)),o=!0,r=t,s++;var c=s,a=new pn;i.setDisposable(a),a.setDisposable(u.subscribe(function(){o&&s===c&&n.onNext(r),o=!1,a.dispose()},function(t){n.onError(t)},function(){o&&s===c&&n.onNext(r),o=!1,a.dispose()}))},function(t){i.dispose(),n.onError(t),o=!1,s++},function(){i.dispose(),o&&n.onNext(r),n.onCompleted(),o=!1,s++});return new _n(u,i)},t)}function V(t){return t.toArray()}function V(t){return t.toArray()}function Pt(t,e,n,r){return ee(e)&&(r=n,n=e,e=Er()),Zn.isObservable(r)||(r=Nr(new is)),new As(function(o){function i(t){function e(){return f=n===h}var n=h,i=new pn;c.setDisposable(i),i.setDisposable(t.subscribe(function(){e()&&u.setDisposable(r.subscribe(o)),i.dispose()},function(t){e()&&o.onError(t)},function(){e()&&u.setDisposable(r.subscribe(o))}))}function s(){var t=!f;return t&&h++,t}var u=new dn,c=new dn,a=new pn;u.setDisposable(a);var h=0,f=!1;return i(e),a.setDisposable(t.subscribe(function(t){if(s()){o.onNext(t);var e=re(n)(t);if(e===ne)return o.onError(e.e);i(te(e)?ar(e):e)}},function(t){s()&&o.onError(t)},function(){s()&&o.onCompleted()})),new _n(u,c)},t)}function qt(t,e,n,r){return wn(n)&&(r=n,n=Nr(new is)),n instanceof Error&&(n=Nr(n)),wn(r)||(r=qn),Zn.isObservable(n)||(n=Nr(new is)),new As(function(o){function i(){var t=s;h.setDisposable(r.scheduleFuture(null,e,function(){a=s===t,a&&(te(n)&&(n=ar(n)),c.setDisposable(n.subscribe(o)))}))}var s=0,u=new pn,c=new dn,a=!1,h=new dn;return c.setDisposable(u),i(),u.setDisposable(t.subscribe(function(t){a||(s++,o.onNext(t),i())},function(t){a||(s++,o.onError(t))},function(){a||(s++,o.onCompleted())})),new _n(c,h)},t)}function Rt(t){return{"@@transducer/init":function(){return t},"@@transducer/step":function(t,e){return t.onNext(e)},"@@transducer/result":function(t){return t.onCompleted()}}}function Mt(t){this.predicate=t}function Tt(t){this.predicate=t}function Ft(t,e){var n=this;this.scheduler=t,this.messages=e,this.subscriptions=[],this.observers=[];for(var r=0,o=this.messages.length;r<o;r++){var i=this.messages[r],s=i.value;!function(e){t.scheduleAbsolute(null,i.time,function(){for(var t=n.observers.slice(0),r=0,o=t.length;r<o;r++)e.accept(t[r]);return an})}(s)}}var zt={"function":!0,object:!0},It=zt[typeof r]&&r&&!r.nodeType?r:null,Lt=zt[typeof n]&&n&&!n.nodeType?n:null,Qt=s(It&&Lt&&"object"==typeof o&&o),Ut=s(zt[typeof self]&&self),Bt=s(zt[typeof window]&&window),Wt=Lt&&Lt.exports===It?It:null,Vt=s(zt[typeof this]&&this),Ht=Qt||Bt!==(Vt&&Vt.window)&&Bt||Ut||Vt||Function("return this")(),$t={internals:{},config:{Promise:Ht.Promise},helpers:{}},Jt=$t.helpers.noop=function(){},Kt=$t.helpers.identity=function(t){return t},Zt=$t.helpers.defaultNow=Date.now,Gt=$t.helpers.defaultComparer=function(t,e){return Ye(t,e)},Yt=$t.helpers.defaultSubComparer=function(t,e){return t>e?1:t<e?-1:0},Xt=($t.helpers.defaultKeySerializer=function(t){return t.toString()},$t.helpers.defaultError=function(t){throw t}),te=$t.helpers.isPromise=function(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then},ee=$t.helpers.isFunction=function(){var t=function(t){return"function"==typeof t||!1};return t(/x/)&&(t=function(t){return"function"==typeof t&&"[object Function]"==toString.call(t)}),t}(),ne={e:{}},re=$t.internals.tryCatch=function(t){if(!ee(t))throw new TypeError("fn must be a function");return c(t)};$t.config.longStackSupport=!1;var oe=!1,ie=re(function(){throw new Error})();oe=!!ie.e&&!!ie.e.stack;var se,ue=d(),ce="From previous event:",ae=$t.EmptyError=function(){this.message="Sequence contains no elements.",Error.call(this)};ae.prototype=Object.create(Error.prototype),ae.prototype.name="EmptyError";var he=$t.ObjectDisposedError=function(){this.message="Object has been disposed",Error.call(this)};he.prototype=Object.create(Error.prototype),he.prototype.name="ObjectDisposedError";var fe=$t.ArgumentOutOfRangeError=function(){this.message="Argument out of range",Error.call(this)};fe.prototype=Object.create(Error.prototype),fe.prototype.name="ArgumentOutOfRangeError";var le=$t.NotSupportedError=function(t){this.message=t||"This operation is not supported",Error.call(this)};le.prototype=Object.create(Error.prototype),le.prototype.name="NotSupportedError";var pe=$t.NotImplementedError=function(t){this.message=t||"This operation is not implemented",Error.call(this)};pe.prototype=Object.create(Error.prototype),pe.prototype.name="NotImplementedError";var de=$t.helpers.notImplemented=function(){throw new pe},_e=($t.helpers.notSupported=function(){throw new le},"function"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_");Ht.Set&&"function"==typeof(new Ht.Set)["@@iterator"]&&(_e="@@iterator");var be=$t.doneEnumerator={done:!0,value:i},ve=$t.helpers.isIterable=function(t){return t&&t[_e]!==i},ye=$t.helpers.isArrayLike=function(t){return t&&t.length!==i};$t.helpers.iterator=_e;var me=$t.internals.bindCallback=function(t,e,n){if("undefined"==typeof e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},ge=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],we=(ge.length,"[object Arguments]"),xe="[object Array]",je="[object Boolean]",Ee="[object Date]",Ce="[object Error]",ke="[object Function]",Oe="[object Map]",Se="[object Number]",Ae="[object Object]",Ne="[object RegExp]",De="[object Set]",Pe="[object String]",qe="[object WeakMap]",Re="[object ArrayBuffer]",Me="[object Float32Array]",Te="[object Float64Array]",Fe="[object Int8Array]",ze="[object Int16Array]",Ie="[object Int32Array]",Le="[object Uint8Array]",Qe="[object Uint8ClampedArray]",Ue="[object Uint16Array]",Be="[object Uint32Array]",We={};We[Me]=We[Te]=We[Fe]=We[ze]=We[Ie]=We[Le]=We[Qe]=We[Ue]=We[Be]=!0,We[we]=We[xe]=We[Re]=We[je]=We[Ee]=We[Ce]=We[ke]=We[Oe]=We[Se]=We[Ae]=We[Ne]=We[De]=We[Pe]=We[qe]=!1;var Ve=Object.prototype,He=Ve.hasOwnProperty,$e=Ve.toString,Je=Math.pow(2,53)-1,Ke=Object.keys||function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var i,s,u=[];for(i in o)t.call(o,i)&&u.push(i);if(e)for(s=0;s<r;s++)t.call(o,n[s])&&u.push(n[s]);return u}}(),st=$t.internals.isObject=function(t){var e=typeof t;return!!t&&("object"===e||"function"===e)},Ze=function(){try{Object({toString:0}+"")}catch(t){return function(){return!1}}return function(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}}(),Ge=Array.isArray||function(t){return y(t)&&m(t.length)&&$e.call(t)===xe},Ye=$t.internals.isEqual=function(t,e){return E(t,e)},Xe=({}.hasOwnProperty,Array.prototype.slice,$t.internals.inherits=function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}),tn=$t.internals.addProperties=function(t){for(var e=[],n=1,r=arguments.length;n<r;n++)e.push(arguments[n]);for(var o=0,i=e.length;o<i;o++){var s=e[o];for(var u in s)t[u]=s[u]}},en=$t.internals.addRef=function(t,e){return new As(function(n){return new _n(e.getDisposable(),t.subscribe(n))})};k.prototype.compareTo=function(t){var e=this.value.compareTo(t.value);return 0===e&&(e=this.id-t.id),e};var nn=$t.internals.PriorityQueue=function(t){this.items=new Array(t),this.length=0},rn=nn.prototype;rn.isHigherPriority=function(t,e){return this.items[t].compareTo(this.items[e])<0},rn.percolate=function(t){if(!(t>=this.length||t<0)){var e=t-1>>1;if(!(e<0||e===t)&&this.isHigherPriority(t,e)){var n=this.items[t];this.items[t]=this.items[e],this.items[e]=n,this.percolate(e)}}},rn.heapify=function(t){if(+t||(t=0),!(t>=this.length||t<0)){var e=2*t+1,n=2*t+2,r=t;if(e<this.length&&this.isHigherPriority(e,r)&&(r=e),n<this.length&&this.isHigherPriority(n,r)&&(r=n),r!==t){var o=this.items[t];this.items[t]=this.items[r],this.items[r]=o,this.heapify(r)}}},rn.peek=function(){return this.items[0].value},rn.removeAt=function(t){this.items[t]=this.items[--this.length],this.items[this.length]=i,this.heapify()},rn.dequeue=function(){var t=this.peek();return this.removeAt(0),t},rn.enqueue=function(t){var e=this.length++;this.items[e]=new k((nn.count++),t),this.percolate(e)},rn.remove=function(t){for(var e=0;e<this.length;e++)if(this.items[e].value===t)return this.removeAt(e),!0;return!1},nn.count=0;var on=$t.CompositeDisposable=function(){var t,e,n=[];if(Array.isArray(arguments[0]))n=arguments[0];else for(e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];this.disposables=n,this.isDisposed=!1,this.length=n.length},sn=on.prototype;sn.add=function(t){this.isDisposed?t.dispose():(this.disposables.push(t),this.length++)},sn.remove=function(t){var e=!1;if(!this.isDisposed){var n=this.disposables.indexOf(t);n!==-1&&(e=!0,this.disposables.splice(n,1),this.length--,t.dispose())}return e},sn.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var t=this.disposables.length,e=new Array(t),n=0;n<t;n++)e[n]=this.disposables[n];for(this.disposables=[],this.length=0,n=0;n<t;n++)e[n].dispose()}};var un=$t.Disposable=function(t){this.isDisposed=!1,this.action=t||Jt};un.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var cn=un.create=function(t){return new un(t)},an=un.empty={dispose:Jt},hn=un.isDisposable=function(t){return t&&ee(t.dispose)},fn=un.checkDisposed=function(t){if(t.isDisposed)throw new he},ln=un._fixup=function(t){return hn(t)?t:an},pn=$t.SingleAssignmentDisposable=function(){this.isDisposed=!1,this.current=null};pn.prototype.getDisposable=function(){return this.current},pn.prototype.setDisposable=function(t){if(this.current)throw new Error("Disposable has already been assigned");var e=this.isDisposed;!e&&(this.current=t),e&&t&&t.dispose()},pn.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this.current;this.current=null,t&&t.dispose()}};var dn=$t.SerialDisposable=function(){this.isDisposed=!1,this.current=null};dn.prototype.getDisposable=function(){return this.current},dn.prototype.setDisposable=function(t){var e=this.isDisposed;if(!e){var n=this.current;this.current=t}n&&n.dispose(),e&&t&&t.dispose()},dn.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this.current;this.current=null}t&&t.dispose()};var _n=$t.BinaryDisposable=function(t,e){
this._first=t,this._second=e,this.isDisposed=!1};_n.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this._first;this._first=null,t&&t.dispose();var e=this._second;this._second=null,e&&e.dispose()}};var bn=$t.NAryDisposable=function(t){this._disposables=t,this.isDisposed=!1};bn.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var t=0,e=this._disposables.length;t<e;t++)this._disposables[t].dispose();this._disposables.length=0}};var vn=$t.RefCountDisposable=function(){function t(t){this.disposable=t,this.disposable.count++,this.isInnerDisposed=!1}function e(t){this.underlyingDisposable=t,this.isDisposed=!1,this.isPrimaryDisposed=!1,this.count=0}return t.prototype.dispose=function(){this.disposable.isDisposed||this.isInnerDisposed||(this.isInnerDisposed=!0,this.disposable.count--,0===this.disposable.count&&this.disposable.isPrimaryDisposed&&(this.disposable.isDisposed=!0,this.disposable.underlyingDisposable.dispose()))},e.prototype.dispose=function(){this.isDisposed||this.isPrimaryDisposed||(this.isPrimaryDisposed=!0,0===this.count&&(this.isDisposed=!0,this.underlyingDisposable.dispose()))},e.prototype.getDisposable=function(){return this.isDisposed?an:new t(this)},e}();O.prototype.dispose=function(){this.scheduler.schedule(this,S)};var yn=$t.internals.ScheduledItem=function(t,e,n,r,o){this.scheduler=t,this.state=e,this.action=n,this.dueTime=r,this.comparer=o||Yt,this.disposable=new pn};yn.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())},yn.prototype.compareTo=function(t){return this.comparer(this.dueTime,t.dueTime)},yn.prototype.isCancelled=function(){return this.disposable.isDisposed},yn.prototype.invokeCore=function(){return ln(this.action(this.scheduler,this.state))};var mn=$t.Scheduler=function(){function t(){}t.isScheduler=function(e){return e instanceof t};var e=t.prototype;return e.schedule=function(t,e){throw new pe},e.scheduleFuture=function(e,n,r){var o=n;return o instanceof Date&&(o-=this.now()),o=t.normalize(o),0===o?this.schedule(e,r):this._scheduleFuture(e,o,r)},e._scheduleFuture=function(t,e,n){throw new pe},t.now=Zt,t.prototype.now=Zt,t.normalize=function(t){return t<0&&(t=0),t},t}(),gn=mn.normalize,wn=mn.isScheduler;!function(t){function e(t,e){function n(e){function r(t,e){return s?i.remove(c):u=!0,o(e,n),an}var s=!1,u=!1,c=t.schedule(e,r);u||(i.add(c),s=!0)}var r=e[0],o=e[1],i=new on;return o(r,n),i}function n(t,e){function n(e,r){function s(t,e){return u?i.remove(a):c=!0,o(e,n),an}var u=!1,c=!1,a=t.scheduleFuture(e,r,s);c||(i.add(a),u=!0)}var r=e[0],o=e[1],i=new on;return o(r,n),i}t.scheduleRecursive=function(t,n){return this.schedule([t,n],e)},t.scheduleRecursiveFuture=function(t,e,r){return this.scheduleFuture([t,r],e,n)}}(mn.prototype),function(t){t.schedulePeriodic=function(t,e,n){if("undefined"==typeof Ht.setInterval)throw new le;e=gn(e);var r=t,o=Ht.setInterval(function(){r=n(r)},e);return cn(function(){Ht.clearInterval(o)})}}(mn.prototype),function(t){t.catchError=t["catch"]=function(t){return new Rn(this,t)}}(mn.prototype);var xn,jn,En=$t.internals.SchedulePeriodicRecursive=function(){function t(t){return function(e,n){n(0,t._period);var r=re(t._action)(t._state);r===ne&&(t._cancel.dispose(),a(r.e)),t._state=r}}function e(t,e,n,r){this._scheduler=t,this._state=e,this._period=n,this._action=r}return e.prototype.start=function(){var e=new pn;return this._cancel=e,e.setDisposable(this._scheduler.scheduleRecursiveFuture(0,this._period,t(this))),e},e}(),Cn=function(t){function e(){t.call(this)}return Xe(e,t),e.prototype.schedule=function(t,e){return ln(e(this,t))},e}(mn),kn=mn.immediate=new Cn,On=function(t){function e(){for(;r.length>0;){var t=r.dequeue();!t.isCancelled()&&t.invoke()}}function n(){t.call(this)}var r;return Xe(n,t),n.prototype.schedule=function(t,n){var o=new yn(this,t,n,this.now());if(r)r.enqueue(o);else{r=new nn(4),r.enqueue(o);var i=re(e)();r=null,i===ne&&a(i.e)}return o.disposable},n.prototype.scheduleRequired=function(){return!r},n}(mn),Sn=mn.currentThread=new On,An=function(){var t,e=Jt;if(Ht.setTimeout)t=Ht.setTimeout,e=Ht.clearTimeout;else{if(!Ht.WScript)throw new le;t=function(t,e){Ht.WScript.Sleep(e),t()}}return{setTimeout:t,clearTimeout:e}}(),Nn=An.setTimeout,Dn=An.clearTimeout;!function(){function t(e){if(i)Nn(function(){t(e)},0);else{var n=o[e];if(n){i=!0;var r=re(n)();jn(e),i=!1,r===ne&&a(r.e)}}}function n(){if(!Ht.postMessage||Ht.importScripts)return!1;var t=!1,e=Ht.onmessage;return Ht.onmessage=function(){t=!0},Ht.postMessage("","*"),Ht.onmessage=e,t}var r=1,o={},i=!1;jn=function(t){delete o[t]};var s=new RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),u="function"==typeof(u=Qt&&Wt&&Qt.setImmediate)&&!s.test(u)&&u;if(ee(u))xn=function(e){var n=r++;return o[n]=e,u(function(){t(n)}),n};else if("undefined"!=typeof e&&"[object process]"==={}.toString.call(e))xn=function(n){var i=r++;return o[i]=n,e.nextTick(function(){t(i)}),i};else if(n()){var c="ms.rx.schedule"+Math.random(),h=function(e){"string"==typeof e.data&&e.data.substring(0,c.length)===c&&t(e.data.substring(c.length))};Ht.addEventListener("message",h,!1),xn=function(t){var e=r++;return o[e]=t,Ht.postMessage(c+e,"*"),e}}else if(Ht.MessageChannel){var f=new Ht.MessageChannel;f.port1.onmessage=function(e){t(e.data)},xn=function(t){var e=r++;return o[e]=t,f.port2.postMessage(e),e}}else xn="document"in Ht&&"onreadystatechange"in Ht.document.createElement("script")?function(e){var n=Ht.document.createElement("script"),i=r++;return o[i]=e,n.onreadystatechange=function(){t(i),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},Ht.document.documentElement.appendChild(n),i}:function(e){var n=r++;return o[n]=e,Nn(function(){t(n)},0),n}}();var Pn=function(t){function e(){t.call(this)}function n(t,e,n,r){return function(){t.setDisposable(un._fixup(e(n,r)))}}function r(t){this._id=t,this.isDisposed=!1}function o(t){this._id=t,this.isDisposed=!1}function i(t,e,n){return function(){e(t,n)}}return Xe(e,t),r.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,jn(this._id))},o.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,Dn(this._id))},e.prototype.schedule=function(t,e){var o=new pn,i=xn(n(o,e,this,t));return new _n(o,new r(i))},e.prototype._scheduleFuture=function(t,e,r){if(0===e)return this.schedule(t,r);var i=new pn,s=Nn(n(i,r,this,t),e);return new _n(i,new o(s))},e.prototype.scheduleLongRunning=function(t,e){var n=cn(Jt);return xn(i(t,e,n)),n},e}(mn),qn=mn["default"]=mn.async=new Pn,Rn=function(t){function e(e,n){this._scheduler=e,this._handler=n,this._recursiveOriginal=null,this._recursiveWrapper=null,t.call(this)}return Xe(e,t),e.prototype.schedule=function(t,e){return this._scheduler.schedule(t,this._wrap(e))},e.prototype._scheduleFuture=function(t,e,n){return this._scheduler.schedule(t,e,this._wrap(n))},e.prototype.now=function(){return this._scheduler.now()},e.prototype._clone=function(t){return new e(t,this._handler)},e.prototype._wrap=function(t){var e=this;return function(n,r){var o=re(t)(e._getRecursiveWrapper(n),r);return o===ne?(e._handler(o.e)||a(o.e),an):ln(o)}},e.prototype._getRecursiveWrapper=function(t){if(this._recursiveOriginal!==t){this._recursiveOriginal=t;var e=this._clone(t);e._recursiveOriginal=t,e._recursiveWrapper=e,this._recursiveWrapper=e}return this._recursiveWrapper},e.prototype.schedulePeriodic=function(t,e,n){var r=this,o=!1,i=new pn;return i.setDisposable(this._scheduler.schedulePeriodic(t,e,function(t){if(o)return null;var e=re(n)(t);return e===ne?(o=!0,r._handler(e.e)||a(e.e),i.dispose(),null):e})),i},e}(mn),Mn=$t.Notification=function(){function t(){}return t.prototype._accept=function(t,e,n){throw new pe},t.prototype._acceptObserver=function(t,e,n){throw new pe},t.prototype.accept=function(t,e,n){return t&&"object"==typeof t?this._acceptObserver(t):this._accept(t,e,n)},t.prototype.toObservable=function(t){var e=this;return wn(t)||(t=kn),new As(function(n){return t.schedule(e,function(t,e){e._acceptObserver(n),"N"===e.kind&&n.onCompleted()})})},t}(),Tn=function(t){function e(t){this.value=t,this.kind="N"}return Xe(e,t),e.prototype._accept=function(t){return t(this.value)},e.prototype._acceptObserver=function(t){return t.onNext(this.value)},e.prototype.toString=function(){return"OnNext("+this.value+")"},e}(Mn),Fn=function(t){function e(t){this.error=t,this.kind="E"}return Xe(e,t),e.prototype._accept=function(t,e){return e(this.error)},e.prototype._acceptObserver=function(t){return t.onError(this.error)},e.prototype.toString=function(){return"OnError("+this.error+")"},e}(Mn),zn=function(t){function e(){this.kind="C"}return Xe(e,t),e.prototype._accept=function(t,e,n){return n()},e.prototype._acceptObserver=function(t){return t.onCompleted()},e.prototype.toString=function(){return"OnCompleted()"},e}(Mn),In=Mn.createOnNext=function(t){return new Tn(t)},Ln=Mn.createOnError=function(t){return new Fn(t)},Qn=Mn.createOnCompleted=function(){return new zn},Un=$t.Observer=function(){};Un.prototype.toNotifier=function(){var t=this;return function(e){return e.accept(t)}},Un.prototype.asObserver=function(){var t=this;return new Hn(function(e){t.onNext(e)},function(e){t.onError(e)},function(){t.onCompleted()})},Un.prototype.checked=function(){return new $n(this)};var Bn=Un.create=function(t,e,n){return t||(t=Jt),e||(e=Xt),n||(n=Jt),new Hn(t,e,n)};Un.fromNotifier=function(t,e){var n=me(t,e,1);return new Hn(function(t){return n(In(t))},function(t){return n(Ln(t))},function(){return n(Qn())})},Un.prototype.notifyOn=function(t){return new Kn(t,this)},Un.prototype.makeSafe=function(t){return new AnonymousSafeObserver(this._onNext,this._onError,this._onCompleted,t)};var Wn,Vn=$t.internals.AbstractObserver=function(t){function e(){this.isStopped=!1}return Xe(e,t),e.prototype.next=de,e.prototype.error=de,e.prototype.completed=de,e.prototype.onNext=function(t){!this.isStopped&&this.next(t)},e.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.error(t))},e.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())},e.prototype.dispose=function(){this.isStopped=!0},e.prototype.fail=function(t){return!this.isStopped&&(this.isStopped=!0,this.error(t),!0)},e}(Un),Hn=$t.AnonymousObserver=function(t){function e(e,n,r){t.call(this),this._onNext=e,this._onError=n,this._onCompleted=r}return Xe(e,t),e.prototype.next=function(t){this._onNext(t)},e.prototype.error=function(t){this._onError(t)},e.prototype.completed=function(){this._onCompleted()},e}(Vn),$n=function(t){function e(e){t.call(this),this._observer=e,this._state=0}Xe(e,t);var n=e.prototype;return n.onNext=function(t){this.checkAccess();var e=re(this._observer.onNext).call(this._observer,t);this._state=0,e===ne&&a(e.e)},n.onError=function(t){this.checkAccess();var e=re(this._observer.onError).call(this._observer,t);this._state=2,e===ne&&a(e.e)},n.onCompleted=function(){this.checkAccess();var t=re(this._observer.onCompleted).call(this._observer);this._state=2,t===ne&&a(t.e)},n.checkAccess=function(){if(1===this._state)throw new Error("Re-entrancy detected");if(2===this._state)throw new Error("Observer completed");0===this._state&&(this._state=1)},e}(Un),Jn=$t.internals.ScheduledObserver=function(t){function e(e,n){t.call(this),this.scheduler=e,this.observer=n,this.isAcquired=!1,this.hasFaulted=!1,this.queue=[],this.disposable=new dn}function n(t,e){return function(){t.onNext(e)}}function r(t,e){return function(){t.onError(e)}}function o(t){return function(){t.onCompleted()}}function i(t,e){var n;if(!(t.queue.length>0))return void(t.isAcquired=!1);n=t.queue.shift();var r=re(n)();return r===ne?(t.queue=[],t.hasFaulted=!0,a(r.e)):void e(t)}return Xe(e,t),e.prototype.next=function(t){this.queue.push(n(this.observer,t))},e.prototype.error=function(t){this.queue.push(r(this.observer,t))},e.prototype.completed=function(){this.queue.push(o(this.observer))},e.prototype.ensureActive=function(){var t=!1;!this.hasFaulted&&this.queue.length>0&&(t=!this.isAcquired,this.isAcquired=!0),t&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(this,i))},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.disposable.dispose()},e}(Vn),Kn=function(t){function e(e,n,r){t.call(this,e,n),this._cancel=r}return Xe(e,t),e.prototype.next=function(e){t.prototype.next.call(this,e),this.ensureActive()},e.prototype.error=function(e){t.prototype.error.call(this,e),this.ensureActive()},e.prototype.completed=function(){t.prototype.completed.call(this),this.ensureActive()},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._cancel&&this._cancel.dispose(),this._cancel=null},e}(Jn),Zn=$t.Observable=function(){function t(t,e){return function(n){var r=n.onError;return n.onError=function(e){h(e,t),r.call(n,e)},e.call(t,n)}}function e(){if($t.config.longStackSupport&&oe){var e=this._subscribe,n=re(a)(new Error).e;this.stack=n.stack.substring(n.stack.indexOf("\n")+1),this._subscribe=t(this,e)}}return Wn=e.prototype,e.isObservable=function(t){return t&&ee(t.subscribe)},Wn.subscribe=Wn.forEach=function(t,e,n){return this._subscribe("object"==typeof t?t:Bn(t,e,n))},Wn.subscribeOnNext=function(t,e){return this._subscribe(Bn("undefined"!=typeof e?function(n){t.call(e,n)}:t))},Wn.subscribeOnError=function(t,e){return this._subscribe(Bn(null,"undefined"!=typeof e?function(n){t.call(e,n)}:t))},Wn.subscribeOnCompleted=function(t,e){return this._subscribe(Bn(null,null,"undefined"!=typeof e?function(){t.call(e)}:t))},e}(),Gn=$t.ObservableBase=function(t){function e(t){return t&&ee(t.dispose)?t:ee(t)?cn(t):an}function n(t,n){var r=n[0],o=n[1],i=re(o.subscribeCore).call(o,r);i!==ne||r.fail(ne.e)||a(ne.e),r.setDisposable(e(i))}function r(){t.call(this)}return Xe(r,t),r.prototype._subscribe=function(t){var e=new Ns(t),r=[e,this];return Sn.scheduleRequired()?Sn.schedule(r,n):n(null,r),e},r.prototype.subscribeCore=de,r}(Zn),Yn=$t.FlatMapObservable=function(t){function e(e,n,r,o){this.resultSelector=ee(r)?r:null,this.selector=me(ee(n)?n:function(){return n},o,3),this.source=e,t.call(this)}function n(t,e,n,r){this.i=0,this.selector=e,this.resultSelector=n,this.source=r,this.o=t,Vn.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this.selector,this.resultSelector,this))},Xe(n,Vn),n.prototype._wrapResult=function(t,e,n){return this.resultSelector?t.map(function(t,r){return this.resultSelector(e,t,n,r)},this):t},n.prototype.next=function(t){var e=this.i++,n=re(this.selector)(t,e,this.source);return n===ne?this.o.onError(n.e):(te(n)&&(n=ar(n)),(ye(n)||ve(n))&&(n=Zn.from(n)),void this.o.onNext(this._wrapResult(n,t,e)))},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.o.onCompleted()},e}(Gn),Xn=$t.internals.Enumerable=function(){};A.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.isDisposed=!0)};var tr=function(t){function e(e){this.sources=e,t.call(this)}function n(t,e){if(!t.isDisposed){var n=re(t.e.next).call(t.e);if(n===ne)return t.o.onError(n.e);if(n.done)return t.o.onCompleted();var o=n.value;te(o)&&(o=ar(o));var i=new pn;t.subscription.setDisposable(i),i.setDisposable(o.subscribe(new r(t,e)))}}function r(t,e){this._state=t,this._recurse=e,Vn.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){var e=new dn,r={isDisposed:!1,o:t,subscription:e,e:this.sources[_e]()},o=Sn.scheduleRecursive(r,n);return new bn([e,o,new A(r)])},Xe(r,Vn),r.prototype.next=function(t){this._state.o.onNext(t)},r.prototype.error=function(t){this._state.o.onError(t)},r.prototype.completed=function(){this._recurse(this._state)},e}(Gn);Xn.prototype.concat=function(){return new tr(this)};var er=function(t){function e(e){this.sources=e,t.call(this)}function n(t,e){if(!t.isDisposed){var n=re(t.e.next).call(t.e);if(n===ne)return t.o.onError(n.e);if(n.done)return null!==t.lastError?t.o.onError(t.lastError):t.o.onCompleted();var o=n.value;te(o)&&(o=ar(o));var i=new pn;t.subscription.setDisposable(i),i.setDisposable(o.subscribe(new r(t,e)))}}function r(t,e){this._state=t,this._recurse=e,Vn.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){var e=new dn,r={isDisposed:!1,e:this.sources[_e](),subscription:e,lastError:null,o:t},o=Sn.scheduleRecursive(r,n);return new bn([e,o,new A(r)])},Xe(r,Vn),r.prototype.next=function(t){this._state.o.onNext(t)},r.prototype.error=function(t){this._state.lastError=t,this._recurse(this._state)},r.prototype.completed=function(){this._state.o.onCompleted()},e}(Gn);Xn.prototype.catchError=function(){return new er(this)};var nr=function(t){function e(t,e){this.v=t,this.c=null==e?-1:e}function n(t){this.v=t.v,this.l=t.c}return Xe(e,t),e.prototype[_e]=function(){return new n(this)},n.prototype.next=function(){return 0===this.l?be:(this.l>0&&this.l--,{done:!1,value:this.v})},e}(Xn),rr=Xn.repeat=function(t,e){return new nr(t,e)},or=function(t){function e(t,e,n){this.s=t,this.fn=e?me(e,n,3):null}function n(t){this.i=-1,this.s=t.s,this.l=this.s.length,this.fn=t.fn}return Xe(e,t),e.prototype[_e]=function(){return new n(this)},n.prototype.next=function(){return++this.i<this.l?{done:!1,value:this.fn?this.fn(this.s[this.i],this.i,this.s):this.s[this.i]}:be},e}(Xn),ir=Xn.of=function(t,e,n){return new or(t,e,n)},sr=function(t){function e(e,n){this.source=e,this._s=n,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Kn(this._s,t))},e}(Gn);Wn.observeOn=function(t){return new sr(this,t)};var ur=function(t){function e(e,n){this.source=e,this._s=n,t.call(this)}function n(t,e){var n=e[0],r=e[1],o=e[2];r.setDisposable(new O(t,n.subscribe(o)))}return Xe(e,t),e.prototype.subscribeCore=function(t){var e=new pn,r=new dn;return r.setDisposable(e),e.setDisposable(this._s.schedule([this.source,r,t],n)),r},e}(Gn);Wn.subscribeOn=function(t){return new ur(this,t)};var cr=function(t){function e(e,n){this._p=e,this._s=n,t.call(this)}function n(t,e){var n=e[0],r=e[1];n.onNext(r),n.onCompleted()}function r(t,e){var n=e[0],r=e[1];n.onError(r)}return Xe(e,t),e.prototype.subscribeCore=function(t){var e=new pn,o=this,i=this._p;return ee(i)&&(i=re(i)(),i===ne)?(t.onError(i.e),e):(i.then(function(r){e.setDisposable(o._s.schedule([t,r],n))},function(n){e.setDisposable(o._s.schedule([t,n],r))}),e)},e}(Gn),ar=Zn.fromPromise=function(t,e){return e||(e=qn),new cr(t,e)};Wn.toPromise=function(t){if(t||(t=$t.config.Promise),!t)throw new le("Promise type not provided nor in Rx.config.Promise");var e=this;return new t(function(t,n){var r;e.subscribe(function(t){r=t},n,function(){t(r)})})};var hr=function(t){function e(e){this.source=e,t.call(this)}function n(t){this.o=t,this.a=[],Vn.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t))},Xe(n,Vn),n.prototype.next=function(t){this.a.push(t)},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.o.onNext(this.a),this.o.onCompleted()},e}(Gn);Wn.toArray=function(){return new hr(this)},Zn.create=function(t,e){return new As(t,e)};var fr=function(t){function e(e){this._f=e,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){var e=re(this._f)();return e===ne?Nr(e.e).subscribe(t):(te(e)&&(e=ar(e)),e.subscribe(t))},e}(Gn),lr=Zn.defer=function(t){return new fr(t)},pr=function(t){function e(e){this.scheduler=e,t.call(this)}function n(t,e){this.observer=t,this.scheduler=e}function r(t,e){return e.onCompleted(),an}return Xe(e,t),e.prototype.subscribeCore=function(t){var e=new n(t,this.scheduler);return e.run()},n.prototype.run=function(){var t=this.observer;return this.scheduler===kn?r(null,t):this.scheduler.schedule(t,r)},e}(Gn),dr=new pr(kn),_r=Zn.empty=function(t){return wn(t)||(t=kn),t===kn?dr:new pr(t)},br=function(t){function e(e,n,r){this._iterable=e,this._fn=n,this._scheduler=r,t.call(this)}function n(t,e,n){return function(r,o){var i=re(e.next).call(e);if(i===ne)return t.onError(i.e);if(i.done)return t.onCompleted();var s=i.value;return ee(n)&&(s=re(n)(s,r),s===ne)?t.onError(s.e):(t.onNext(s),void o(r+1))}}return Xe(e,t),e.prototype.subscribeCore=function(t){var e=Object(this._iterable),r=M(e);return this._scheduler.scheduleRecursive(0,n(t,r,this._fn))},e}(Gn),vr=Math.pow(2,53)-1;N.prototype[_e]=function(){return new D(this._s)},D.prototype[_e]=function(){return this},D.prototype.next=function(){return this._i<this._l?{done:!1,value:this._s.charAt(this._i++)}:be},P.prototype[_e]=function(){return new q(this._a)},q.prototype[_e]=function(){return this},q.prototype.next=function(){return this._i<this._l?{done:!1,value:this._a[this._i++]}:be};var yr=Zn.from=function(t,e,n,r){if(null==t)throw new Error("iterable cannot be null.");if(e&&!ee(e))throw new Error("mapFn when provided must be a function");if(e)var o=me(e,n,2);return wn(r)||(r=Sn),new br(t,o,r)},mr=function(t){function e(e,n){this._args=e,this._scheduler=n,t.call(this)}function n(t,e){var n=e.length;return function(r,o){r<n?(t.onNext(e[r]),o(r+1)):t.onCompleted()}}return Xe(e,t),e.prototype.subscribeCore=function(t){return this._scheduler.scheduleRecursive(0,n(t,this._args))},e}(Gn),gr=Zn.fromArray=function(t,e){return wn(e)||(e=Sn),new mr(t,e)},wr=function(t){function e(e,n,r,o,i){this._initialState=e,this._cndFn=n,this._itrFn=r,this._resFn=o,this._s=i,t.call(this)}function n(t,e){if(t.first)t.first=!1;else if(t.newState=re(t.self._itrFn)(t.newState),t.newState===ne)return t.o.onError(t.newState.e);var n=re(t.self._cndFn)(t.newState);if(n===ne)return t.o.onError(n.e);if(n){var r=re(t.self._resFn)(t.newState);if(r===ne)return t.o.onError(r.e);t.o.onNext(r),e(t)}else t.o.onCompleted()}return Xe(e,t),e.prototype.subscribeCore=function(t){var e={o:t,self:this,first:!0,newState:this._initialState};return this._s.scheduleRecursive(e,n)},e}(Gn);Zn.generate=function(t,e,n,r,o){return wn(o)||(o=Sn),new wr(t,e,n,r,o)},Zn.of=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new mr(e,Sn)},Zn.ofWithScheduler=function(t){for(var e=arguments.length,n=new Array(e-1),r=1;r<e;r++)n[r-1]=arguments[r];return new mr(n,t)},Zn.ofArrayChanges=function(t){if(!Array.isArray(t))throw new TypeError("Array.observe only accepts arrays.");if("function"!=typeof Array.observe&&"function"!=typeof Array.unobserve)throw new TypeError("Array.observe is not supported on your platform");return new As(function(e){function n(t){for(var n=0,r=t.length;n<r;n++)e.onNext(t[n])}return Array.observe(t,n),function(){Array.unobserve(t,n)}})},Zn.ofObjectChanges=function(t){if(null==t)throw new TypeError("object must not be null or undefined.");if("function"!=typeof Object.observe&&"function"!=typeof Object.unobserve)throw new TypeError("Object.observe is not supported on your platform");return new As(function(e){function n(t){for(var n=0,r=t.length;n<r;n++)e.onNext(t[n])}return Object.observe(t,n),function(){Object.unobserve(t,n)}})};var xr=function(t){function e(){t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return an},e}(Gn),jr=new xr,Er=Zn.never=function(){return jr},Cr=function(t){function e(e,n){this._o=e,this._keys=Object.keys(e),this._scheduler=n,t.call(this)}function n(t,e,n){return function(r,o){if(r<n.length){var i=n[r];t.onNext([i,e[i]]),o(r+1)}else t.onCompleted()}}return Xe(e,t),e.prototype.subscribeCore=function(t){return this._scheduler.scheduleRecursive(0,n(t,this._o,this._keys))},e}(Gn);Zn.pairs=function(t,e){return e||(e=Sn),new Cr(t,e)};var kr=function(t){function e(e,n,r){this.start=e,this.rangeCount=n,this.scheduler=r,t.call(this)}function n(t,e,n){return function(r,o){r<e?(n.onNext(t+r),o(r+1)):n.onCompleted()}}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.scheduler.scheduleRecursive(0,n(this.start,this.rangeCount,t))},e}(Gn);Zn.range=function(t,e,n){return wn(n)||(n=Sn),new kr(t,e,n)};var Or=function(t){function e(e,n,r){this.value=e,this.repeatCount=null==n?-1:n,this.scheduler=r,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){var e=new I(t,this);return e.run()},e}(Gn);I.prototype.run=function(){function t(t,r){return(t===-1||t>0)&&(e.onNext(n),t>0&&t--),0===t?e.onCompleted():void r(t)}var e=this.observer,n=this.parent.value;return this.parent.scheduler.scheduleRecursive(this.parent.repeatCount,t)},Zn.repeat=function(t,e,n){return wn(n)||(n=Sn),new Or(t,e,n)};var Sr=function(t){function e(e,n){this._value=e,this._scheduler=n,t.call(this)}function n(t,e){var n=e[0],r=e[1];return r.onNext(n),r.onCompleted(),an}return Xe(e,t),e.prototype.subscribeCore=function(t){var e=[this._value,t];return this._scheduler===kn?n(null,e):this._scheduler.schedule(e,n)},e}(Gn),Ar=(Zn["return"]=Zn.just=function(t,e){return wn(e)||(e=kn),new Sr(t,e)},function(t){function e(e,n){this._error=e,this._scheduler=n,t.call(this)}function n(t,e){var n=e[0],r=e[1];return r.onError(n),an}return Xe(e,t),e.prototype.subscribeCore=function(t){var e=[this._error,t];return this._scheduler===kn?n(null,e):this._scheduler.schedule(e,n)},e}(Gn)),Nr=Zn["throw"]=function(t,e){return wn(e)||(e=kn),new Ar(t,e)},Dr=function(t){function e(e,n){this._resFn=e,this._obsFn=n,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){var e=an,n=re(this._resFn)();if(n===ne)return new _n(Nr(n.e).subscribe(t),e);n&&(e=n);var r=re(this._obsFn)(n);return r===ne?new _n(Nr(r.e).subscribe(t),e):new _n(r.subscribe(t),e)},e}(Gn);Zn.using=function(t,e){return new Dr(t,e)},Wn.amb=function(t){var e=this;return new As(function(n){function r(){i||(i=s,a.dispose())}function o(){i||(i=u,c.dispose())}var i,s="L",u="R",c=new pn,a=new pn;te(t)&&(t=ar(t));var h=Bn(function(t){r(),i===s&&n.onNext(t)},function(t){r(),i===s&&n.onError(t)},function(){r(),i===s&&n.onCompleted()}),f=Bn(function(t){o(),i===u&&n.onNext(t)},function(t){o(),i===u&&n.onError(t)},function(){o(),i===u&&n.onCompleted()});return c.setDisposable(e.subscribe(h)),a.setDisposable(t.subscribe(f)),new _n(c,a)})},Zn.amb=function(){var t,e=Er();if(Array.isArray(arguments[0]))t=arguments[0];else{var n=arguments.length;t=new Array(t);for(var r=0;r<n;r++)t[r]=arguments[r]}for(var r=0,n=t.length;r<n;r++)e=L(e,t[r]);return e};var Pr=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){var e=new pn,n=new dn;return n.setDisposable(e),e.setDisposable(this.source.subscribe(new qr(t,n,this._fn))),n},e}(Gn),qr=function(t){function e(e,n,r){this._o=e,this._s=n,this._fn=r,t.call(this)}return Xe(e,t),e.prototype.next=function(t){this._o.onNext(t)},e.prototype.completed=function(){return this._o.onCompleted()},e.prototype.error=function(t){var e=re(this._fn)(t);if(e===ne)return this._o.onError(e.e);te(e)&&(e=ar(e));var n=new pn;this._s.setDisposable(n),n.setDisposable(e.subscribe(this._o))},e}(Vn);Wn["catch"]=function(t){return ee(t)?new Pr(this,t):Rr([this,t])};var Rr=Zn["catch"]=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var n=0;n<e;n++)t[n]=arguments[n]}return ir(t).catchError()};Wn.combineLatest=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Array.isArray(e[0])?e[0].unshift(this):e.unshift(this),Fr.apply(this,e)};var Mr=function(t){function e(e,n){this._params=e,this._cb=n,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){for(var e=this._params.length,n=new Array(e),r={hasValue:C(e,Q),hasValueAll:!1,isDone:C(e,Q),values:new Array(e)},o=0;o<e;o++){var i=this._params[o],s=new pn;n[o]=s,te(i)&&(i=ar(i)),s.setDisposable(i.subscribe(new Tr(t,o,this._cb,r)))}return new bn(n)},e}(Gn),Tr=function(t){function e(e,n,r,o){this._o=e,this._i=n,this._cb=r,this._state=o,t.call(this)}function n(t){return function(e,n){return n!==t}}return Xe(e,t),e.prototype.next=function(t){if(this._state.values[this._i]=t,this._state.hasValue[this._i]=!0,this._state.hasValueAll||(this._state.hasValueAll=this._state.hasValue.every(Kt))){var e=re(this._cb).apply(null,this._state.values);if(e===ne)return this._o.onError(e.e);this._o.onNext(e)}else this._state.isDone.filter(n(this._i)).every(Kt)&&this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._state.isDone[this._i]=!0,this._state.isDone.every(Kt)&&this._o.onCompleted()},e}(Vn),Fr=Zn.combineLatest=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=ee(e[t-1])?e.pop():U;return Array.isArray(e[0])&&(e=e[0]),new Mr(e,r)};Wn.concat=function(){for(var t=[],e=0,n=arguments.length;e<n;e++)t.push(arguments[e]);return t.unshift(this),Lr.apply(null,t)};var zr=function(t){function e(e,n){this._s=e,this._fn=n,t.call(this)}return Xe(e,t),e.prototype.next=function(t){this._s.o.onNext(t)},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.i++,this._fn(this._s)},e}(Vn),Ir=function(t){function e(e){this._sources=e,t.call(this)}function n(t,e){if(!t.disposable.isDisposed){if(t.i===t.sources.length)return t.o.onCompleted();var n=t.sources[t.i];te(n)&&(n=ar(n));var r=new pn;t.subscription.setDisposable(r),r.setDisposable(n.subscribe(new zr(t,e)))}}return Xe(e,t),e.prototype.subscribeCore=function(t){var e=new dn,r=cn(Jt),o={o:t,i:0,subscription:e,disposable:r,sources:this._sources},i=kn.scheduleRecursive(o,n);return new bn([e,r,i])},e}(Gn),Lr=Zn.concat=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(arguments.length);for(var e=0,n=arguments.length;e<n;e++)t[e]=arguments[e]}return new Ir(t)};Wn.concatAll=function(){return this.merge(1)};var Qr=function(t){function e(e,n){this.source=e,this.maxConcurrent=n,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){var e=new on;return e.add(this.source.subscribe(new Ur(t,this.maxConcurrent,e))),e},e}(Gn),Ur=function(t){function e(e,n,r){this.o=e,this.max=n,this.g=r,this.done=!1,this.q=[],this.activeCount=0,t.call(this)}function n(e,n){this.parent=e,this.sad=n,t.call(this)}return Xe(e,t),e.prototype.handleSubscribe=function(t){var e=new pn;this.g.add(e),te(t)&&(t=ar(t)),e.setDisposable(t.subscribe(new n(this,e)))},e.prototype.next=function(t){this.activeCount<this.max?(this.activeCount++,this.handleSubscribe(t)):this.q.push(t)},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.done=!0,0===this.activeCount&&this.o.onCompleted()},Xe(n,t),n.prototype.next=function(t){this.parent.o.onNext(t)},n.prototype.error=function(t){this.parent.o.onError(t)},n.prototype.completed=function(){this.parent.g.remove(this.sad),this.parent.q.length>0?this.parent.handleSubscribe(this.parent.q.shift()):(this.parent.activeCount--,this.parent.done&&0===this.parent.activeCount&&this.parent.o.onCompleted())},e}(Vn);Wn.merge=function(t){return"number"!=typeof t?Br(this,t):new Qr(this,t)};var Br=Zn.merge=function(){var t,e,n=[],r=arguments.length;if(arguments[0])if(wn(arguments[0]))for(t=arguments[0],e=1;e<r;e++)n.push(arguments[e]);else for(t=kn,e=0;e<r;e++)n.push(arguments[e]);else for(t=kn,e=1;e<r;e++)n.push(arguments[e]);return Array.isArray(n[0])&&(n=n[0]),z(t,n).mergeAll()},Wr=function(t){function e(e){this.source=e,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){var e=new on,n=new pn;return e.add(n),n.setDisposable(this.source.subscribe(new Vr(t,e))),e},e}(Gn),Vr=function(t){function e(e,n){this.o=e,this.g=n,this.done=!1,t.call(this)}function n(e,n){this.parent=e,this.sad=n,t.call(this)}return Xe(e,t),e.prototype.next=function(t){var e=new pn;this.g.add(e),te(t)&&(t=ar(t)),e.setDisposable(t.subscribe(new n(this,e)))},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.done=!0,1===this.g.length&&this.o.onCompleted()},Xe(n,t),n.prototype.next=function(t){this.parent.o.onNext(t)},n.prototype.error=function(t){this.parent.o.onError(t)},n.prototype.completed=function(){this.parent.g.remove(this.sad),this.parent.done&&1===this.parent.g.length&&this.parent.o.onCompleted()},e}(Vn);Wn.mergeAll=function(){
return new Wr(this)};var Hr=$t.CompositeError=function(t){this.innerErrors=t,this.message="This contains multiple errors. Check the innerErrors",Error.call(this)};Hr.prototype=Object.create(Error.prototype),Hr.prototype.name="CompositeError";var $r=function(t){function e(e){this.source=e,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){var e=new on,n=new pn,r={isStopped:!1,errors:[],o:t};return e.add(n),n.setDisposable(this.source.subscribe(new Jr(e,r))),e},e}(Gn),Jr=function(t){function e(e,n){this._group=e,this._state=n,t.call(this)}function n(t,e){0===e.length?t.onCompleted():1===e.length?t.onError(e[0]):t.onError(new Hr(e))}function r(e,n,r){this._inner=e,this._group=n,this._state=r,t.call(this)}return Xe(e,t),e.prototype.next=function(t){var e=new pn;this._group.add(e),te(t)&&(t=ar(t)),e.setDisposable(t.subscribe(new r(e,this._group,this._state)))},e.prototype.error=function(t){this._state.errors.push(t),this._state.isStopped=!0,1===this._group.length&&n(this._state.o,this._state.errors)},e.prototype.completed=function(){this._state.isStopped=!0,1===this._group.length&&n(this._state.o,this._state.errors)},Xe(r,t),r.prototype.next=function(t){this._state.o.onNext(t)},r.prototype.error=function(t){this._state.errors.push(t),this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&n(this._state.o,this._state.errors)},r.prototype.completed=function(){this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&n(this._state.o,this._state.errors)},e}(Vn);Zn.mergeDelayError=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var n=0;n<e;n++)t[n]=arguments[n]}var r=z(null,t);return new $r(r)},Wn.onErrorResumeNext=function(t){if(!t)throw new Error("Second observable is required");return Gr([this,t])};var Kr=function(t){function e(e){this.sources=e,t.call(this)}function n(t,e){if(t.pos<t.sources.length){var n=t.sources[t.pos++];te(n)&&(n=ar(n));var r=new pn;t.subscription.setDisposable(r),r.setDisposable(n.subscribe(new Zr(t,e)))}else t.o.onCompleted()}return Xe(e,t),e.prototype.subscribeCore=function(t){var e=new dn,r={pos:0,subscription:e,o:t,sources:this.sources},o=kn.scheduleRecursive(r,n);return new _n(e,o)},e}(Gn),Zr=function(t){function e(e,n){this._state=e,this._recurse=n,t.call(this)}return Xe(e,t),e.prototype.next=function(t){this._state.o.onNext(t)},e.prototype.error=function(){this._recurse(this._state)},e.prototype.completed=function(){this._recurse(this._state)},e}(Vn),Gr=Zn.onErrorResumeNext=function(){var t=[];if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var n=0;n<e;n++)t[n]=arguments[n]}return new Kr(t)},Yr=function(t){function e(e,n){this._s=e,this._o=te(n)?ar(n):n,this._open=!1,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){var e=new pn;e.setDisposable(this._s.subscribe(new Xr(t,this))),te(this._o)&&(this._o=ar(this._o));var n=new pn;return n.setDisposable(this._o.subscribe(new to(t,this,n))),new _n(e,n)},e}(Gn),Xr=function(t){function e(e,n){this._o=e,this._p=n,t.call(this)}return Xe(e,t),e.prototype.next=function(t){this._p._open&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=function(){this._p._open&&this._o.onCompleted()},e}(Vn),to=function(t){function e(e,n,r){this._o=e,this._p=n,this._r=r,t.call(this)}return Xe(e,t),e.prototype.next=function(){this._p._open=!0,this._r.dispose()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=function(){this._r.dispose()},e}(Vn);Wn.skipUntil=function(t){return new Yr(this,t)};var eo=function(t){function e(e){this.source=e,t.call(this)}function n(t,e){this.o=t,this.inner=e,this.stopped=!1,this.latest=0,this.hasLatest=!1,Vn.call(this)}function r(t,e){this.parent=t,this.id=e,Vn.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){var e=new dn,r=this.source.subscribe(new n(t,e));return new _n(r,e)},Xe(n,Vn),n.prototype.next=function(t){var e=new pn,n=++this.latest;this.hasLatest=!0,this.inner.setDisposable(e),te(t)&&(t=ar(t)),e.setDisposable(t.subscribe(new r(this,n)))},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.stopped=!0,!this.hasLatest&&this.o.onCompleted()},Xe(r,Vn),r.prototype.next=function(t){this.parent.latest===this.id&&this.parent.o.onNext(t)},r.prototype.error=function(t){this.parent.latest===this.id&&this.parent.o.onError(t)},r.prototype.completed=function(){this.parent.latest===this.id&&(this.parent.hasLatest=!1,this.parent.stopped&&this.parent.o.onCompleted())},e}(Gn);Wn["switch"]=Wn.switchLatest=function(){return new eo(this)};var no=function(t){function e(e,n){this.source=e,this.other=te(n)?ar(n):n,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return new _n(this.source.subscribe(t),this.other.subscribe(new ro(t)))},e}(Gn),ro=function(t){function e(e){this._o=e,t.call(this)}return Xe(e,t),e.prototype.next=function(){this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=Jt,e}(Vn);Wn.takeUntil=function(t){return new no(this,t)};var oo=function(t){function e(e,n,r){this._s=e,this._ss=n,this._cb=r,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){for(var e=this._ss.length,n={hasValue:C(e,Q),hasValueAll:!1,values:new Array(e)},r=this._ss.length,o=new Array(r+1),i=0;i<r;i++){var s=this._ss[i],u=new pn;te(s)&&(s=ar(s)),u.setDisposable(s.subscribe(new io(t,i,n))),o[i]=u}var c=new pn;return c.setDisposable(this._s.subscribe(new so(t,this._cb,n))),o[r]=c,new bn(o)},e}(Gn),io=function(t){function e(e,n,r){this._o=e,this._i=n,this._state=r,t.call(this)}return Xe(e,t),e.prototype.next=function(t){this._state.values[this._i]=t,this._state.hasValue[this._i]=!0,this._state.hasValueAll=this._state.hasValue.every(Kt)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=Jt,e}(Vn),so=function(t){function e(e,n,r){this._o=e,this._cb=n,this._state=r,t.call(this)}return Xe(e,t),e.prototype.next=function(t){var e=[t].concat(this._state.values);if(this._state.hasValueAll){var n=re(this._cb).apply(null,e);return n===ne?this._o.onError(n.e):void this._o.onNext(n)}},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Vn);Wn.withLatestFrom=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=ee(e[t-1])?e.pop():U;return Array.isArray(e[0])&&(e=e[0]),new oo(this,e,r)};var uo=function(t){function e(e,n){this._s=e,this._cb=n,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){for(var e=this._s.length,n=new Array(e),r=C(e,Q),o=C(e,B),i=0;i<e;i++){var s=this._s[i],u=new pn;n[i]=u,te(s)&&(s=ar(s)),u.setDisposable(s.subscribe(new co(t,i,this,o,r)))}return new bn(n)},e}(Gn),co=function(t){function e(e,n,r,o,i){this._o=e,this._i=n,this._p=r,this._q=o,this._d=i,t.call(this)}function n(t){return t.length>0}function r(t){return t.shift()}function o(t){return function(e,n){return n!==t}}return Xe(e,t),e.prototype.next=function(t){if(this._q[this._i].push(t),this._q.every(n)){var e=this._q.map(r),i=re(this._p._cb).apply(null,e);if(i===ne)return this._o.onError(i.e);this._o.onNext(i)}else this._d.filter(o(this._i)).every(Kt)&&this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._d[this._i]=!0,this._d.every(Kt)&&this._o.onCompleted()},e}(Vn);Wn.zip=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=ee(e[t-1])?e.pop():U;Array.isArray(e[0])&&(e=e[0]);var o=this;return e.unshift(o),new uo(e,r)},Zn.zip=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Array.isArray(e[0])&&(e=ee(e[1])?e[0].concat(e[1]):e[0]);var r=e.shift();return r.zip.apply(r,e)};var ao=function(t){function e(e,n){this.sources=e,this._cb=n,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){for(var e=this.sources,n=e.length,r=new Array(n),o={q:C(n,B),done:C(n,Q),cb:this._cb,o:t},i=0;i<n;i++)!function(t){var n=e[t],i=new pn;(ye(n)||ve(n))&&(n=yr(n)),r[t]=i,i.setDisposable(n.subscribe(new ho(o,t)))}(i);return new bn(r)},e}(Gn),ho=function(t){function e(e,n){this._s=e,this._i=n,t.call(this)}function n(t){return t.length>0}function r(t){return t.shift()}function o(t){return function(e,n){return n!==t}}return Xe(e,t),e.prototype.next=function(t){if(this._s.q[this._i].push(t),this._s.q.every(n)){var e=this._s.q.map(r),i=re(this._s.cb).apply(null,e);if(i===ne)return this._s.o.onError(i.e);this._s.o.onNext(i)}else this._s.done.filter(o(this._i)).every(Kt)&&this._s.o.onCompleted()},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.done[this._i]=!0,this._s.done.every(Kt)&&this._s.o.onCompleted()},e}(Vn);Wn.zipIterable=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=ee(e[t-1])?e.pop():U,o=this;return e.unshift(o),new ao(e,r)},Wn.asObservable=function(){return new As(W(this),this)},Wn.bufferWithCount=Wn.bufferCount=function(t,e){return"number"!=typeof e&&(e=t),this.windowWithCount(t,e).flatMap(V).filter(H)};var fo=function(t){function e(e){this.source=e,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new lo(t))},e}(Gn),lo=function(t){function e(e){this._o=e,t.call(this)}return Xe(e,t),e.prototype.next=function(t){t.accept(this._o)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Vn);Wn.dematerialize=function(){return new fo(this)};var po=function(t){function e(e,n,r){this.source=e,this.keyFn=n,this.comparer=r,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new _o(t,this.keyFn,this.comparer))},e}(Gn),_o=function(t){function e(e,n,r){this.o=e,this.keyFn=n,this.comparer=r,this.hasCurrentKey=!1,this.currentKey=null,t.call(this)}return Xe(e,t),e.prototype.next=function(t){var e,n=t;return ee(this.keyFn)&&(n=re(this.keyFn)(t),n===ne)?this.o.onError(n.e):this.hasCurrentKey&&(e=re(this.comparer)(this.currentKey,n),e===ne)?this.o.onError(e.e):void(this.hasCurrentKey&&e||(this.hasCurrentKey=!0,this.currentKey=n,this.o.onNext(t)))},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.o.onCompleted()},e}(Vn);Wn.distinctUntilChanged=function(t,e){return e||(e=Gt),new po(this,t,e)};var bo=function(t){function e(e,n,r,o){this.source=e,this._oN=n,this._oE=r,this._oC=o,t.call(this)}function n(t,e){this.o=t,this.t=!e._oN||ee(e._oN)?Bn(e._oN||Jt,e._oE||Jt,e._oC||Jt):e._oN,this.isStopped=!1,Vn.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this))},Xe(n,Vn),n.prototype.next=function(t){var e=re(this.t.onNext).call(this.t,t);e===ne&&this.o.onError(e.e),this.o.onNext(t)},n.prototype.error=function(t){var e=re(this.t.onError).call(this.t,t);return e===ne?this.o.onError(e.e):void this.o.onError(t)},n.prototype.completed=function(){var t=re(this.t.onCompleted).call(this.t);return t===ne?this.o.onError(t.e):void this.o.onCompleted()},e}(Gn);Wn["do"]=Wn.tap=Wn.doAction=function(t,e,n){return new bo(this,t,e,n)},Wn.doOnNext=Wn.tapOnNext=function(t,e){return this.tap("undefined"!=typeof e?function(n){t.call(e,n)}:t)},Wn.doOnError=Wn.tapOnError=function(t,e){return this.tap(Jt,"undefined"!=typeof e?function(n){t.call(e,n)}:t)},Wn.doOnCompleted=Wn.tapOnCompleted=function(t,e){return this.tap(Jt,null,"undefined"!=typeof e?function(){t.call(e)}:t)};var vo=function(t){function e(e,n,r){this.source=e,this._fn=me(n,r,0),t.call(this)}function n(t,e){this.isDisposed=!1,this._s=t,this._fn=e}return Xe(e,t),e.prototype.subscribeCore=function(t){var e=re(this.source.subscribe).call(this.source,t);return e===ne&&(this._fn(),a(e.e)),new n(e,this._fn)},n.prototype.dispose=function(){if(!this.isDisposed){var t=re(this._s.dispose).call(this._s);this._fn(),t===ne&&a(t.e)}},e}(Gn);Wn["finally"]=function(t,e){return new vo(this,t,e)};var yo=function(t){function e(e){this.source=e,t.call(this)}function n(t){this.o=t,this.isStopped=!1}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t))},n.prototype.onNext=Jt,n.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return!this.isStopped&&(this.isStopped=!0,this.observer.onError(t),!0)},e}(Gn);Wn.ignoreElements=function(){return new yo(this)};var mo=function(t){function e(e,n){this.source=e,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new go(t))},e}(Gn),go=function(t){function e(e){this._o=e,t.call(this)}return Xe(e,t),e.prototype.next=function(t){this._o.onNext(In(t))},e.prototype.error=function(t){this._o.onNext(Ln(t)),this._o.onCompleted()},e.prototype.completed=function(){this._o.onNext(Qn()),this._o.onCompleted()},e}(Vn);Wn.materialize=function(){return new mo(this)},Wn.repeat=function(t){return rr(this,t).concat()},Wn.retry=function(t){return rr(this,t).catchError()};var wo=function(t){function e(t){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,t.isDisposed=!0)}}}function n(e,n){this.source=e,this._notifier=n,t.call(this)}return Xe(n,t),n.prototype.subscribeCore=function(t){var n,r=new qs,o=new qs,i=this._notifier(r),s=i.subscribe(o),u=this.source["@@iterator"](),c={isDisposed:!1},a=new dn,h=Sn.scheduleRecursive(null,function(e,i){if(!c.isDisposed){var s=u.next();if(s.done)return void(n?t.onError(n):t.onCompleted());var h=s.value;te(h)&&(h=ar(h));var f=new pn,l=new pn;a.setDisposable(new _n(l,f)),f.setDisposable(h.subscribe(function(e){t.onNext(e)},function(e){l.setDisposable(o.subscribe(i,function(e){t.onError(e)},function(){t.onCompleted()})),r.onNext(e),f.dispose()},function(){t.onCompleted()}))}});return new bn([s,a,h,e(c)])},n}(Gn);Wn.retryWhen=function(t){return new wo($(this),t)};var xo=function(t){function e(t){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,t.isDisposed=!0)}}}function n(e,n){this.source=e,this._notifier=n,t.call(this)}return Xe(n,t),n.prototype.subscribeCore=function(t){var n,r=new qs,o=new qs,i=this._notifier(r),s=i.subscribe(o),u=this.source["@@iterator"](),c={isDisposed:!1},a=new dn,h=Sn.scheduleRecursive(null,function(e,i){if(!c.isDisposed){var s=u.next();if(s.done)return void(n?t.onError(n):t.onCompleted());var h=s.value;te(h)&&(h=ar(h));var f=new pn,l=new pn;a.setDisposable(new _n(l,f)),f.setDisposable(h.subscribe(function(e){t.onNext(e)},function(e){t.onError(e)},function(){l.setDisposable(o.subscribe(i,function(e){t.onError(e)},function(){t.onCompleted()})),r.onNext(null),f.dispose()}))}});return new bn([s,a,h,e(c)])},n}(Gn);Wn.repeatWhen=function(t){return new xo($(this),t)};var jo=function(t){function e(e,n,r,o){this.source=e,this.accumulator=n,this.hasSeed=r,this.seed=o,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Eo(t,this))},e}(Gn),Eo=function(t){function e(e,n){this._o=e,this._p=n,this._fn=n.accumulator,this._hs=n.hasSeed,this._s=n.seed,this._ha=!1,this._a=null,this._hv=!1,this._i=0,t.call(this)}return Xe(e,t),e.prototype.next=function(t){return!this._hv&&(this._hv=!0),this._ha?this._a=re(this._fn)(this._a,t,this._i,this._p):(this._a=this._hs?re(this._fn)(this._s,t,this._i,this._p):t,this._ha=!0),this._a===ne?this._o.onError(this._a.e):(this._o.onNext(this._a),void this._i++)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){!this._hv&&this._hs&&this._o.onNext(this._s),this._o.onCompleted()},e}(Vn);Wn.scan=function(){var t,e=!1,n=arguments[0];return 2===arguments.length&&(e=!0,t=arguments[1]),new jo(this,n,e,t)};var Co=function(t){function e(e,n){this.source=e,this._c=n,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new ko(t,this._c))},e}(Gn),ko=function(t){function e(e,n){this._o=e,this._c=n,this._q=[],t.call(this)}return Xe(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._o.onNext(this._q.shift())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Vn);Wn.skipLast=function(t){if(t<0)throw new fe;return new Co(this,t)},Wn.startWith=function(){var t,e=0;arguments.length&&wn(arguments[0])?(t=arguments[0],e=1):t=kn;for(var n=[],r=e,o=arguments.length;r<o;r++)n.push(arguments[r]);return Lr.apply(null,[gr(n,t),this])};var Oo=function(t){function e(e,n){this._o=e,this._c=n,this._q=[],t.call(this)}return Xe(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._q.shift()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){for(;this._q.length>0;)this._o.onNext(this._q.shift());this._o.onCompleted()},e}(Vn);Wn.takeLast=function(t){if(t<0)throw new fe;var e=this;return new As(function(n){return e.subscribe(new Oo(n,t))},e)};var So=function(t){function e(e,n){this._o=e,this._c=n,this._q=[],t.call(this)}return Xe(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._q.shift()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._q),this._o.onCompleted()},e}(Vn);Wn.takeLastBuffer=function(t){if(t<0)throw new fe;var e=this;return new As(function(n){return e.subscribe(new So(n,t))},e)},Wn.windowWithCount=Wn.windowCount=function(t,e){var n=this;if(+t||(t=0),Math.abs(t)===1/0&&(t=0),t<=0)throw new fe;if(null==e&&(e=t),+e||(e=0),Math.abs(e)===1/0&&(e=0),e<=0)throw new fe;return new As(function(r){function o(){var t=new qs;c.push(t),r.onNext(en(t,s))}var i=new pn,s=new vn(i),u=0,c=[];return o(),i.setDisposable(n.subscribe(function(n){for(var r=0,i=c.length;r<i;r++)c[r].onNext(n);var s=u-t+1;s>=0&&s%e===0&&c.shift().onCompleted(),++u%e===0&&o()},function(t){for(;c.length>0;)c.shift().onError(t);r.onError(t)},function(){for(;c.length>0;)c.shift().onCompleted();r.onCompleted()})),s},n)},Wn.selectConcat=Wn.concatMap=function(t,e,n){return ee(t)&&ee(e)?this.concatMap(function(n,r){var o=t(n,r);return te(o)&&(o=ar(o)),(ye(o)||ve(o))&&(o=yr(o)),o.map(function(t,o){return e(n,t,r,o)})}):ee(t)?J(this,t,n):J(this,function(){return t})},Wn.concatMapObserver=Wn.selectConcatObserver=function(t,e,n,r){var o=this,i=me(t,r,2),s=me(e,r,1),u=me(n,r,0);return new As(function(t){var e=0;return o.subscribe(function(n){var r;try{r=i(n,e++)}catch(o){return void t.onError(o)}te(r)&&(r=ar(r)),t.onNext(r)},function(e){var n;try{n=s(e)}catch(r){return void t.onError(r)}te(n)&&(n=ar(n)),t.onNext(n),t.onCompleted()},function(){var e;try{e=u()}catch(n){return void t.onError(n)}te(e)&&(e=ar(e)),t.onNext(e),t.onCompleted()})},this).concatAll()};var Ao=function(t){function e(e,n){this._o=e,this._d=n,this._f=!1,t.call(this)}return Xe(e,t),e.prototype.next=function(t){this._f=!0,this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){!this._f&&this._o.onNext(this._d),this._o.onCompleted()},e}(Vn);Wn.defaultIfEmpty=function(t){var e=this;return t===i&&(t=null),new As(function(n){return e.subscribe(new Ao(n,t))},e)},Z.prototype.push=function(t){var e=K(this.set,t,this.comparer)===-1;return e&&this.set.push(t),e};var No=function(t){function e(e,n,r){this.source=e,this._keyFn=n,this._cmpFn=r,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Do(t,this._keyFn,this._cmpFn))},e}(Gn),Do=function(t){function e(e,n,r){this._o=e,this._keyFn=n,this._h=new Z(r),t.call(this)}return Xe(e,t),e.prototype.next=function(t){var e=t;return ee(this._keyFn)&&(e=re(this._keyFn)(t),e===ne)?this._o.onError(e.e):void(this._h.push(e)&&this._o.onNext(t))},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Vn);Wn.distinct=function(t,e){return e||(e=Gt),new No(this,t,e)},Wn.groupBy=function(t,e){return this.groupByUntil(t,e,Er)},Wn.groupByUntil=function(t,e,n){var r=this;return new As(function(o){var s=new Hi,u=new on,c=new vn(u),a=function(t){return function(e){e.onError(t)}};return u.add(r.subscribe(function(r){var h=re(t)(r);if(h===ne)return s.forEach(a(h.e)),o.onError(h.e);var f=!1,l=s.get(h);if(l===i&&(l=new qs,s.set(h,l),f=!0),f){var p=new Ps(h,l,c),d=new Ps(h,l),_=re(n)(d);if(_===ne)return s.forEach(a(_.e)),o.onError(_.e);o.onNext(p);var b=new pn;u.add(b),b.setDisposable(_.take(1).subscribe(Jt,function(t){s.forEach(a(t)),o.onError(t)},function(){s["delete"](h)&&l.onCompleted(),u.remove(b)}))}var v=r;return ee(e)&&(v=re(e)(r),v===ne)?(s.forEach(a(v.e)),o.onError(v.e)):void l.onNext(v)},function(t){s.forEach(a(t)),o.onError(t)},function(){s.forEach(function(t){t.onCompleted()}),o.onCompleted()})),c},r)};var Po=function(t){function e(e,n,r){this.source=e,this.selector=me(n,r,3),t.call(this)}function n(t,e){return function(n,r,o){return t.call(this,e.selector(n,r,o),r,o)}}function r(t,e,n){this.o=t,this.selector=e,this.source=n,this.i=0,Vn.call(this)}return Xe(e,t),e.prototype.internalMap=function(t,r){return new e(this.source,n(t,this),r)},e.prototype.subscribeCore=function(t){return this.source.subscribe(new r(t,this.selector,this))},Xe(r,Vn),r.prototype.next=function(t){var e=re(this.selector)(t,this.i++,this.source);return e===ne?this.o.onError(e.e):void this.o.onNext(e)},r.prototype.error=function(t){this.o.onError(t)},r.prototype.completed=function(){this.o.onCompleted()},e}(Gn);Wn.map=Wn.select=function(t,e){var n="function"==typeof t?t:function(){return t};return this instanceof Po?this.internalMap(n,e):new Po(this,n,e)},Wn.pluck=function(){var t=arguments.length,e=new Array(t);if(0===t)throw new Error("List of properties cannot be empty.");for(var n=0;n<t;n++)e[n]=arguments[n];return this.map(G(e,t))},Wn.flatMap=Wn.selectMany=Wn.mergeMap=function(t,e,n){return new Yn(this,t,e,n).mergeAll()},Wn.flatMapObserver=Wn.selectManyObserver=function(t,e,n,r){var o=this;return new As(function(i){var s=0;return o.subscribe(function(e){var n;try{n=t.call(r,e,s++)}catch(o){return void i.onError(o)}te(n)&&(n=ar(n)),i.onNext(n)},function(t){var n;try{n=e.call(r,t)}catch(o){return void i.onError(o)}te(n)&&(n=ar(n)),i.onNext(n),i.onCompleted()},function(){var t;try{t=n.call(r)}catch(e){return void i.onError(e)}te(t)&&(t=ar(t)),i.onNext(t),i.onCompleted()})},o).mergeAll()},Wn.flatMapLatest=Wn.switchMap=function(t,e,n){return new Yn(this,t,e,n).switchLatest()};var qo=function(t){function e(e,n){this.source=e,this._count=n,t.call(this)}function n(t,e){this._o=t,this._r=e,Vn.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this._count))},Xe(n,Vn),n.prototype.next=function(t){this._r<=0?this._o.onNext(t):this._r--},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._o.onCompleted()},e}(Gn);Wn.skip=function(t){if(t<0)throw new fe;return new qo(this,t)};var Ro=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Mo(t,this))},e}(Gn),Mo=function(t){function e(e,n){this._o=e,this._p=n,this._i=0,this._r=!1,t.call(this)}return Xe(e,t),e.prototype.next=function(t){if(!this._r){var e=re(this._p._fn)(t,this._i++,this._p);if(e===ne)return this._o.onError(e.e);this._r=!e}this._r&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Vn);Wn.skipWhile=function(t,e){var n=me(t,e,3);return new Ro(this,n)};var To=function(t){function e(e,n){this.source=e,this._count=n,t.call(this)}function n(t,e){this._o=t,this._c=e,this._r=e,Vn.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this._count))},Xe(n,Vn),n.prototype.next=function(t){this._r-- >0&&(this._o.onNext(t),this._r<=0&&this._o.onCompleted())},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._o.onCompleted()},e}(Gn);Wn.take=function(t,e){if(t<0)throw new fe;return 0===t?_r(e):new To(this,t)};var Fo=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new zo(t,this))},e}(Gn),zo=function(t){function e(e,n){this._o=e,this._p=n,this._i=0,this._r=!0,t.call(this)}return Xe(e,t),e.prototype.next=function(t){return this._r&&(this._r=re(this._p._fn)(t,this._i++,this._p),this._r===ne)?this._o.onError(this._r.e):void(this._r?this._o.onNext(t):this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Vn);Wn.takeWhile=function(t,e){var n=me(t,e,3);return new Fo(this,n)};var Io=function(t){function e(e,n,r){this.source=e,this.predicate=me(n,r,3),t.call(this)}function n(t,e){return function(n,r,o){return e.predicate(n,r,o)&&t.call(this,n,r,o)}}function r(t,e,n){this.o=t,this.predicate=e,this.source=n,this.i=0,Vn.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new r(t,this.predicate,this))},e.prototype.internalFilter=function(t,r){return new e(this.source,n(t,this),r)},Xe(r,Vn),r.prototype.next=function(t){var e=re(this.predicate)(t,this.i++,this.source);return e===ne?this.o.onError(e.e):void(e&&this.o.onNext(t))},r.prototype.error=function(t){this.o.onError(t)},r.prototype.completed=function(){this.o.onCompleted()},e}(Gn);Wn.filter=Wn.where=function(t,e){return this instanceof Io?this.internalFilter(t,e):new Io(this,t,e)};var Lo=function(t){function e(e,n,r){this.source=e,this._k=n,this._c=r,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Qo(t,this._k,this._c))},e}(Gn),Qo=function(t){function e(e,n,r){this._o=e,this._k=n,this._c=r,this._v=null,this._hv=!1,this._l=[],t.call(this)}return Xe(e,t),e.prototype.next=function(t){var e=re(this._k)(t);if(e===ne)return this._o.onError(e.e);var n=0;if(this._hv){if(n=re(this._c)(e,this._v),n===ne)return this._o.onError(n.e)}else this._hv=!0,this._v=e;n>0&&(this._v=e,this._l=[]),n>=0&&this._l.push(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._l),this._o.onCompleted()},e}(Vn),Uo=function(t){function e(e,n,r,o){this.source=e,this.accumulator=n,this.hasSeed=r,this.seed=o,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Bo(t,this))},e}(Gn),Bo=function(t){function e(e,n){this._o=e,this._p=n,this._fn=n.accumulator,this._hs=n.hasSeed,this._s=n.seed,this._ha=!1,this._a=null,this._hv=!1,this._i=0,t.call(this)}return Xe(e,t),e.prototype.next=function(t){return!this._hv&&(this._hv=!0),this._ha?this._a=re(this._fn)(this._a,t,this._i,this._p):(this._a=this._hs?re(this._fn)(this._s,t,this._i,this._p):t,this._ha=!0),this._a===ne?this._o.onError(this._a.e):void this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._hv&&this._o.onNext(this._a),!this._hv&&this._hs&&this._o.onNext(this._s),!this._hv&&!this._hs&&this._o.onError(new ae),this._o.onCompleted()},e}(Vn);Wn.reduce=function(){var t,e=!1,n=arguments[0];return 2===arguments.length&&(e=!0,t=arguments[1]),new Uo(this,n,e,t)};var Wo=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Vo(t,this._fn,this.source))},e}(Gn),Vo=function(t){function e(e,n,r){this._o=e,this._fn=n,this._s=r,this._i=0,t.call(this)}return Xe(e,t),e.prototype.next=function(t){var e=re(this._fn)(t,this._i++,this._s);return e===ne?this._o.onError(e.e):void(Boolean(e)&&(this._o.onNext(!0),this._o.onCompleted()))},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!1),this._o.onCompleted()},e}(Vn);Wn.some=function(t,e){var n=me(t,e,3);return new Wo(this,n)};var Ho=function(t){function e(e){this.source=e,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new $o(t))},e}(Gn),$o=function(t){function e(e){this._o=e,t.call(this)}return Xe(e,t),e.prototype.next=function(){this._o.onNext(!1),this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!0),this._o.onCompleted()},e}(Vn);Wn.isEmpty=function(){return new Ho(this)};var Jo=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Ko(t,this._fn,this.source))},e}(Gn),Ko=function(t){function e(e,n,r){this._o=e,this._fn=n,this._s=r,this._i=0,t.call(this)}return Xe(e,t),e.prototype.next=function(t){var e=re(this._fn)(t,this._i++,this._s);return e===ne?this._o.onError(e.e):void(Boolean(e)||(this._o.onNext(!1),this._o.onCompleted()))},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!0),this._o.onCompleted()},e}(Vn);Wn.every=function(t,e){var n=me(t,e,3);return new Jo(this,n)};var Zo=function(t){function e(e,n,r){var o=+r||0;Math.abs(o)===1/0&&(o=0),this.source=e,this._elem=n,this._n=o,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this._n<0?(t.onNext(!1),t.onCompleted(),an):this.source.subscribe(new Go(t,this._elem,this._n))},e}(Gn),Go=function(t){function e(e,n,r){this._o=e,this._elem=n,this._n=r,this._i=0,t.call(this)}function n(t,e){return 0===t&&0===e||t===e||isNaN(t)&&isNaN(e)}return Xe(e,t),e.prototype.next=function(t){this._i++>=this._n&&n(t,this._elem)&&(this._o.onNext(!0),this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!1),this._o.onCompleted()},e}(Vn);Wn.includes=function(t,e){return new Zo(this,t,e)};var Yo=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Xo(t,this._fn,this.source))},e}(Gn),Xo=function(t){function e(e,n,r){this._o=e,this._fn=n,this._s=r,this._i=0,this._c=0,t.call(this)}return Xe(e,t),e.prototype.next=function(t){if(this._fn){var e=re(this._fn)(t,this._i++,this._s);if(e===ne)return this._o.onError(e.e);Boolean(e)&&this._c++}else this._c++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._c),this._o.onCompleted()},e}(Vn);Wn.count=function(t,e){var n=me(t,e,3);return new Yo(this,n)};var ti=function(t){function e(e,n,r){this.source=e,this._e=n,this._n=r,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this._n<0?(t.onNext(-1),t.onCompleted(),an):this.source.subscribe(new ei(t,this._e,this._n))},e}(Gn),ei=function(t){function e(e,n,r){this._o=e,this._e=n,this._n=r,this._i=0,t.call(this)}return Xe(e,t),e.prototype.next=function(t){this._i>=this._n&&t===this._e&&(this._o.onNext(this._i),this._o.onCompleted()),this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(-1),this._o.onCompleted()},e}(Vn);Wn.indexOf=function(t,e){var n=+e||0;return Math.abs(n)===1/0&&(n=0),new ti(this,t,n)};var ni=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new ri(t,this._fn,this.source))},e}(Gn),ri=function(t){function e(e,n,r){this._o=e,this._fn=n,this._s=r,this._i=0,this._c=0,t.call(this)}return Xe(e,t),e.prototype.next=function(t){if(this._fn){var e=re(this._fn)(t,this._i++,this._s);if(e===ne)return this._o.onError(e.e);this._c+=e}else this._c+=t},e.prototype.error=function(t){this._o.onError(t);
},e.prototype.completed=function(){this._o.onNext(this._c),this._o.onCompleted()},e}(Vn);Wn.sum=function(t,e){var n=me(t,e,3);return new ni(this,n)},Wn.minBy=function(t,e){return e||(e=Yt),new Lo(this,t,function(t,n){return e(t,n)*-1})},Wn.min=function(t){return this.minBy(Kt,t).map(Y)},Wn.maxBy=function(t,e){return e||(e=Yt),new Lo(this,t,e)},Wn.max=function(t){return this.maxBy(Kt,t).map(Y)};var oi=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new ii(t,this._fn,this.source))},e}(Gn),ii=function(t){function e(e,n,r){this._o=e,this._fn=n,this._s=r,this._c=0,this._t=0,t.call(this)}return Xe(e,t),e.prototype.next=function(t){if(this._fn){var e=re(this._fn)(t,this._c++,this._s);if(e===ne)return this._o.onError(e.e);this._t+=e}else this._c++,this._t+=t},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){return 0===this._c?this._o.onError(new ae):(this._o.onNext(this._t/this._c),void this._o.onCompleted())},e}(Vn);Wn.average=function(t,e){var n,r=this;return ee(t)&&(n=me(t,e,3)),new oi(r,n)},Wn.sequenceEqual=function(t,e){var n=this;return e||(e=Gt),new As(function(r){var o=!1,i=!1,s=[],u=[],c=n.subscribe(function(t){if(u.length>0){var n=u.shift(),o=re(e)(n,t);if(o===ne)return r.onError(o.e);o||(r.onNext(!1),r.onCompleted())}else i?(r.onNext(!1),r.onCompleted()):s.push(t)},function(t){r.onError(t)},function(){o=!0,0===s.length&&(u.length>0?(r.onNext(!1),r.onCompleted()):i&&(r.onNext(!0),r.onCompleted()))});(ye(t)||ve(t))&&(t=yr(t)),te(t)&&(t=ar(t));var a=t.subscribe(function(t){if(s.length>0){var n=s.shift(),i=re(e)(n,t);if(i===ne)return r.onError(i.e);i||(r.onNext(!1),r.onCompleted())}else o?(r.onNext(!1),r.onCompleted()):u.push(t)},function(t){r.onError(t)},function(){i=!0,0===u.length&&(s.length>0?(r.onNext(!1),r.onCompleted()):o&&(r.onNext(!0),r.onCompleted()))});return new _n(c,a)},n)};var si=function(t){function e(e,n,r){this.source=e,this._i=n,this._d=r,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new ui(t,this._i,this._d))},e}(Gn),ui=function(t){function e(e,n,r){this._o=e,this._i=n,this._d=r,t.call(this)}return Xe(e,t),e.prototype.next=function(t){0===this._i--&&(this._o.onNext(t),this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._d===i?this._o.onError(new fe):(this._o.onNext(this._d),this._o.onCompleted())},e}(Vn);Wn.elementAt=function(t,e){if(t<0)throw new fe;return new si(this,t,e)};var ci=function(t){function e(e,n,r){this._o=e,this._obj=n,this._s=r,this._i=0,this._hv=!1,this._v=null,t.call(this)}return Xe(e,t),e.prototype.next=function(t){var e=!1;if(this._obj.predicate){var n=re(this._obj.predicate)(t,this._i++,this._s);if(n===ne)return this._o.onError(n.e);Boolean(n)&&(e=!0)}else this._obj.predicate||(e=!0);if(e){if(this._hv)return this._o.onError(new Error("Sequence contains more than one matching element"));this._hv=!0,this._v=t}},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._hv?(this._o.onNext(this._v),this._o.onCompleted()):this._obj.defaultValue===i?this._o.onError(new ae):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},e}(Vn);Wn.single=function(t,e){var n={},r=this;if(n="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},ee(n.predicate)){var o=n.predicate;n.predicate=me(o,n.thisArg,3)}return new As(function(t){return r.subscribe(new ci(t,n,r))},r)};var ai=function(t){function e(e,n){this.source=e,this._obj=n,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new hi(t,this._obj,this.source))},e}(Gn),hi=function(t){function e(e,n,r){this._o=e,this._obj=n,this._s=r,this._i=0,t.call(this)}return Xe(e,t),e.prototype.next=function(t){if(this._obj.predicate){var e=re(this._obj.predicate)(t,this._i++,this._s);if(e===ne)return this._o.onError(e.e);Boolean(e)&&(this._o.onNext(t),this._o.onCompleted())}else this._obj.predicate||(this._o.onNext(t),this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._obj.defaultValue===i?this._o.onError(new ae):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},e}(Vn);Wn.first=function(){var t={};if(t="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},ee(t.predicate)){var e=t.predicate;t.predicate=me(e,t.thisArg,3)}return new ai(this,t)};var fi=function(t){function e(e,n){this.source=e,this._obj=n,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new li(t,this._obj,this.source))},e}(Gn),li=function(t){function e(e,n,r){this._o=e,this._obj=n,this._s=r,this._i=0,this._hv=!1,this._v=null,t.call(this)}return Xe(e,t),e.prototype.next=function(t){var e=!1;if(this._obj.predicate){var n=re(this._obj.predicate)(t,this._i++,this._s);if(n===ne)return this._o.onError(n.e);Boolean(n)&&(e=!0)}else this._obj.predicate||(e=!0);e&&(this._hv=!0,this._v=t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._hv?(this._o.onNext(this._v),this._o.onCompleted()):this._obj.defaultValue===i?this._o.onError(new ae):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},e}(Vn);Wn.last=function(){var t={};if(t="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},ee(t.predicate)){var e=t.predicate;t.predicate=me(e,t.thisArg,3)}return new fi(this,t)};var pi=function(t){function e(e,n,r,o){this._o=e,this._s=n,this._cb=r,this._y=o,this._i=0,t.call(this)}return Xe(e,t),e.prototype.next=function(t){var e=re(this._cb)(t,this._i,this._s);return e===ne?this._o.onError(e.e):void(e?(this._o.onNext(this._y?this._i:t),this._o.onCompleted()):this._i++)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._y&&this._o.onNext(-1),this._o.onCompleted()},e}(Vn);Wn.find=function(t,e){return X(this,t,e,!1)},Wn.findIndex=function(t,e){return X(this,t,e,!0)};var di=function(t){function e(e){this.source=e,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new _i(t))},e}(Gn),_i=function(t){function e(e){this._o=e,this._s=new Ht.Set,t.call(this)}return Xe(e,t),e.prototype.next=function(t){this._s.add(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._s),this._o.onCompleted()},e}(Vn);Wn.toSet=function(){if("undefined"==typeof Ht.Set)throw new TypeError;return new di(this)};var bi=function(t){function e(e,n,r){this.source=e,this._k=n,this._e=r,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new vi(t,this._k,this._e))},e}(Gn),vi=function(t){function e(e,n,r){this._o=e,this._k=n,this._e=r,this._m=new Ht.Map,t.call(this)}return Xe(e,t),e.prototype.next=function(t){var e=re(this._k)(t);if(e===ne)return this._o.onError(e.e);var n=t;return this._e&&(n=re(this._e)(t),n===ne)?this._o.onError(n.e):void this._m.set(e,n)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._m),this._o.onCompleted()},e}(Vn);Wn.toMap=function(t,e){if("undefined"==typeof Ht.Map)throw new TypeError;return new bi(this,t,e)};var yi=function(t){function e(e,n,r){this.source=e,this._b=n,this._e=r,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new mi(t,this._b,this._e))},e}(Gn),mi=function(t){function e(e,n,r){this._o=e,this._b=n,this._e=r,this._i=0,t.call(this)}return Xe(e,t),e.prototype.next=function(t){this._i>=this._b&&(this._e===this._i?this._o.onCompleted():this._o.onNext(t)),this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Vn);Wn.slice=function(t,e){var n=t||0;if(n<0)throw new $t.ArgumentOutOfRangeError;if("number"==typeof e&&e<n)throw new $t.ArgumentOutOfRangeError;return new yi(this,n,e)};var gi=function(t){function e(e,n,r){this.source=e,this._e=n,this._n=r,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this._n<0?(t.onNext(-1),t.onCompleted(),an):this.source.subscribe(new wi(t,this._e,this._n))},e}(Gn),wi=function(t){function e(e,n,r){this._o=e,this._e=n,this._n=r,this._v=0,this._hv=!1,this._i=0,t.call(this)}return Xe(e,t),e.prototype.next=function(t){this._i>=this._n&&t===this._e&&(this._hv=!0,this._v=this._i),this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._hv?this._o.onNext(this._v):this._o.onNext(-1),this._o.onCompleted()},e}(Vn);Wn.lastIndexOf=function(t,e){var n=+e||0;return Math.abs(n)===1/0&&(n=0),new gi(this,t,n)},Zn.wrap=function(t){function e(){return Zn.spawn.call(this,t.apply(this,arguments))}return e.__generatorFunction__=t,e};var xi=Zn.spawn=function(){for(var t=arguments[0],e=this,n=[],r=1,o=arguments.length;r<o;r++)n.push(arguments[r]);return new As(function(r){function o(e){var n=re(t.next).call(t,e);return n===ne?r.onError(n.e):void s(n)}function i(e){var n=re(t.next).call(t,e);return n===ne?r.onError(n.e):void s(n)}function s(t){if(t.done)return r.onNext(t.value),void r.onCompleted();var n=tt.call(e,t.value),s=null,c=!1;Zn.isObservable(n)?u.add(n.subscribe(function(t){c=!0,s=t},i,function(){c&&o(s)})):i(new TypeError("type not supported"))}var u=new on;return ee(t)&&(t=t.apply(e,n)),t&&ee(t.next)?(o(),u):(r.onNext(t),r.onCompleted())})};Zn.start=function(t,e,n){return ji(t,e,n)()};var ji=Zn.toAsync=function(t,e,n){return wn(n)||(n=qn),function(){var r=arguments,o=new Rs;return n.schedule(null,function(){var n;try{n=t.apply(e,r)}catch(i){return void o.onError(i)}o.onNext(n),o.onCompleted()}),o.asObservable()}};Zn.fromCallback=function(t,e,n){return function(){"undefined"==typeof e&&(e=this);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return ut(t,e,n,o)}},Zn.fromNodeCallback=function(t,e,n){return function(){"undefined"==typeof e&&(e=this);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return at(t,e,n,o)}},lt.prototype.dispose=function(){this.isDisposed||(this._e.removeEventListener(this._n,this._fn,!1),this.isDisposed=!0)},$t.config.useNativeEvents=!1;var Ei=function(t){function e(e,n,r){this._el=e,this._n=n,this._fn=r,t.call(this)}function n(t,e){return function(){var n=arguments[0];return ee(e)&&(n=re(e).apply(null,arguments),n===ne)?t.onError(n.e):void t.onNext(n)}}return Xe(e,t),e.prototype.subscribeCore=function(t){return pt(this._el,this._n,n(t,this._fn))},e}(Gn);Zn.fromEvent=function(t,e,n){return t.addListener?ki(function(n){t.addListener(e,n)},function(n){t.removeListener(e,n)},n):$t.config.useNativeEvents||"function"!=typeof t.on||"function"!=typeof t.off?new Ei(t,e,n).publish().refCount():ki(function(n){t.on(e,n)},function(n){t.off(e,n)},n)};var Ci=function(t){function e(e,n,r){this._add=e,this._del=n,this._fn=r,t.call(this)}function n(t,e){return function(){var n=arguments[0];return ee(e)&&(n=re(e).apply(null,arguments),n===ne)?t.onError(n.e):void t.onNext(n)}}function r(t,e,n){this._del=t,this._fn=e,this._ret=n,this.isDisposed=!1}return Xe(e,t),e.prototype.subscribeCore=function(t){var e=n(t,this._fn),o=this._add(e);return new r(this._del,e,o)},r.prototype.dispose=function(){this.isDisposed||(ee(this._del)&&this._del(this._fn,this._ret),this.isDisposed=!0)},e}(Gn),ki=Zn.fromEventPattern=function(t,e,n){return new Ci(t,e,n).publish().refCount()};Zn.startAsync=function(t){var e=re(t)();return e===ne?Nr(e.e):ar(e)};var Oi=function(t){function e(e,n){this.source=e,this.controller=new qs,this.paused=!0,n&&n.subscribe?this.pauser=this.controller.merge(n):this.pauser=this.controller,t.call(this)}return Xe(e,t),e.prototype._subscribe=function(t){var e=this.source.publish(),n=e.subscribe(t),r=an,o=this.pauser.startWith(!this.paused).distinctUntilChanged().subscribe(function(t){t?r=e.connect():(r.dispose(),r=an)});return new bn([n,r,o])},e.prototype.pause=function(){this.paused=!0,this.controller.onNext(!1)},e.prototype.resume=function(){this.paused=!1,this.controller.onNext(!0)},e}(Zn);Wn.pausable=function(t){return new Oi(this,t)};var Si=function(t){function e(e,n){this.source=e,this.controller=new qs,this.paused=!0,n&&n.subscribe?this.pauser=this.controller.merge(n):this.pauser=this.controller,t.call(this)}return Xe(e,t),e.prototype._subscribe=function(t){function e(){for(;r.length>0;)t.onNext(r.shift())}var n,r=[],o=dt(this.source,this.pauser.startWith(!this.paused).distinctUntilChanged(),function(t,e){return{data:t,shouldFire:e}}).subscribe(function(o){n!==i&&o.shouldFire!==n?(n=o.shouldFire,o.shouldFire&&e()):(n=o.shouldFire,o.shouldFire?t.onNext(o.data):r.push(o.data))},function(n){e(),t.onError(n)},function(){e(),t.onCompleted()});return o},e.prototype.pause=function(){this.paused=!0,this.controller.onNext(!1)},e.prototype.resume=function(){this.paused=!1,this.controller.onNext(!0)},e}(Zn);Wn.pausableBuffered=function(t){return new Si(this,t)};var Ai=function(t){function e(e,n,r){t.call(this),this.subject=new Ni(n,r),this.source=e.multicast(this.subject).refCount()}return Xe(e,t),e.prototype._subscribe=function(t){return this.source.subscribe(t)},e.prototype.request=function(t){return this.subject.request(null==t?-1:t)},e}(Zn),Ni=function(t){function e(e,n){null==e&&(e=!0),t.call(this),this.subject=new qs,this.enableQueue=e,this.queue=e?[]:null,this.requestedCount=0,this.requestedDisposable=null,this.error=null,this.hasFailed=!1,this.hasCompleted=!1,this.scheduler=n||Sn}return Xe(e,t),tn(e.prototype,Un,{_subscribe:function(t){return this.subject.subscribe(t)},onCompleted:function(){this.hasCompleted=!0,this.enableQueue&&0!==this.queue.length?this.queue.push(Mn.createOnCompleted()):(this.subject.onCompleted(),this.disposeCurrentRequest())},onError:function(t){this.hasFailed=!0,this.error=t,this.enableQueue&&0!==this.queue.length?this.queue.push(Mn.createOnError(t)):(this.subject.onError(t),this.disposeCurrentRequest())},onNext:function(t){this.requestedCount<=0?this.enableQueue&&this.queue.push(Mn.createOnNext(t)):(0===this.requestedCount--&&this.disposeCurrentRequest(),this.subject.onNext(t))},_processRequest:function(t){if(this.enableQueue)for(;this.queue.length>0&&(t>0||"N"!==this.queue[0].kind);){var e=this.queue.shift();e.accept(this.subject),"N"===e.kind?t--:(this.disposeCurrentRequest(),this.queue=[])}return t},request:function(t){this.disposeCurrentRequest();var e=this;return this.requestedDisposable=this.scheduler.schedule(t,function(t,n){var r=e._processRequest(n),o=e.hasCompleted||e.hasFailed;if(!o&&r>0)return e.requestedCount=r,cn(function(){e.requestedCount=0})}),this.requestedDisposable},disposeCurrentRequest:function(){this.requestedDisposable&&(this.requestedDisposable.dispose(),this.requestedDisposable=null)}}),e}(Zn);Wn.controlled=function(t,e){return t&&wn(t)&&(e=t,t=!0),null==t&&(t=!0),new Ai(this,t,e)};var Di=function(t){function e(e){t.call(this),this.source=e}function n(t,e){return e.source.request(1)}Xe(e,t),e.prototype._subscribe=function(t){return this.subscription=this.source.subscribe(new r(t,this,this.subscription)),new _n(this.subscription,qn.schedule(this,n))};var r=function(t){function e(e,n,r){t.call(this),this.observer=e,this.observable=n,this.cancel=r,this.scheduleDisposable=null}function n(t,e){return e.observable.source.request(1)}return Xe(e,t),e.prototype.completed=function(){this.observer.onCompleted(),this.dispose()},e.prototype.error=function(t){this.observer.onError(t),this.dispose()},e.prototype.next=function(t){this.observer.onNext(t),this.scheduleDisposable=qn.schedule(this,n)},e.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),this.scheduleDisposable&&(this.scheduleDisposable.dispose(),this.scheduleDisposable=null),t.prototype.dispose.call(this)},e}(Vn);return e}(Zn);Ai.prototype.stopAndWait=function(){return new Di(this)};var Pi=function(t){function e(e,n){t.call(this),this.source=e,this.windowSize=n}function n(t,e){return e.source.request(e.windowSize)}Xe(e,t),e.prototype._subscribe=function(t){return this.subscription=this.source.subscribe(new r(t,this,this.subscription)),new _n(this.subscription,qn.schedule(this,n))};var r=function(t){function e(e,n,r){this.observer=e,this.observable=n,this.cancel=r,this.received=0,this.scheduleDisposable=null,t.call(this)}function n(t,e){return e.observable.source.request(e.observable.windowSize)}return Xe(e,t),e.prototype.completed=function(){this.observer.onCompleted(),this.dispose()},e.prototype.error=function(t){this.observer.onError(t),this.dispose()},e.prototype.next=function(t){this.observer.onNext(t),this.received=++this.received%this.observable.windowSize,0===this.received&&(this.scheduleDisposable=qn.schedule(this,n))},e.prototype.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),this.scheduleDisposable&&(this.scheduleDisposable.dispose(),this.scheduleDisposable=null),t.prototype.dispose.call(this)},e}(Vn);return e}(Zn);Ai.prototype.windowed=function(t){return new Pi(this,t)},Wn.pipe=function(t){function e(){n.resume()}var n=this.pausableBuffered();return t.addListener("drain",e),n.subscribe(function(e){!t.write(e)&&n.pause()},function(e){t.emit("error",e)},function(){!t._isStdio&&t.end(),t.removeListener("drain",e)}),n.resume(),t};var qi=function(t){function e(e,n,r){this.source=e,this._fn1=n,this._fn2=r,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){var e=this.source.multicast(this._fn1());return new _n(this._fn2(e).subscribe(t),e.connect())},e}(Gn);Wn.multicast=function(t,e){return ee(t)?new qi(this,t,e):new Ti(this,t)},Wn.publish=function(t){return t&&ee(t)?this.multicast(function(){return new qs},t):this.multicast(new qs)},Wn.share=function(){return this.publish().refCount()},Wn.publishLast=function(t){return t&&ee(t)?this.multicast(function(){return new Rs},t):this.multicast(new Rs)},Wn.publishValue=function(t,e){return 2===arguments.length?this.multicast(function(){return new Ms(e)},t):this.multicast(new Ms(t))},Wn.shareValue=function(t){return this.publishValue(t).refCount()},Wn.replay=function(t,e,n,r){return t&&ee(t)?this.multicast(function(){return new Ts(e,n,r)},t):this.multicast(new Ts(e,n,r))},Wn.shareReplay=function(t,e,n){return this.replay(null,t,e,n).refCount()};var Ri=function(t,e){this._s=t,this._o=e};Ri.prototype.dispose=function(){if(!this._s.isDisposed&&null!==this._o){var t=this._s.observers.indexOf(this._o);this._s.observers.splice(t,1),this._o=null}};var Mi=function(t){function e(e){this.source=e,this._count=0,this._connectableSubscription=null,t.call(this)}function n(t,e){this._p=t,this._s=e,this.isDisposed=!1}return Xe(e,t),e.prototype.subscribeCore=function(t){var e=this.source.subscribe(t);return 1===++this._count&&(this._connectableSubscription=this.source.connect()),new n(this,e)},n.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.dispose(),0===--this._p._count&&this._p._connectableSubscription.dispose())},e}(Gn),Ti=$t.ConnectableObservable=function(t){function e(e,n){this.source=e,this._connection=null,this._source=e.asObservable(),this._subject=n,t.call(this)}function n(t,e){this._p=t,this._s=e}return Xe(e,t),n.prototype.dispose=function(){this._s&&(this._s.dispose(),this._s=null,this._p._connection=null)},e.prototype.connect=function(){if(!this._connection){if(this._subject.isStopped)return an;var t=this._source.subscribe(this._subject);this._connection=new n(this,t)}return this._connection},e.prototype._subscribe=function(t){return this._subject.subscribe(t)},e.prototype.refCount=function(){return new Mi(this)},e}(Zn);Wn.singleInstance=function(){function t(){return r||(r=!0,e=n["finally"](function(){r=!1}).publish().refCount()),e}var e,n=this,r=!1;return new As(function(e){return t().subscribe(e)})},Wn.join=function(t,e,n,r){var o=this;return new As(function(i){var s=new on,u=!1,c=!1,a=0,h=0,f=new Hi,l=new Hi,p=function(t){i.onError(t)};return s.add(o.subscribe(function(t){var n=a++,o=new pn;f.set(n,t),s.add(o);var c=re(e)(t);return c===ne?i.onError(c.e):(o.setDisposable(c.take(1).subscribe(Jt,p,function(){f["delete"](n)&&0===f.size&&u&&i.onCompleted(),s.remove(o)})),void l.forEach(function(e){var n=re(r)(t,e);return n===ne?i.onError(n.e):void i.onNext(n)}))},p,function(){u=!0,(c||0===f.size)&&i.onCompleted()})),s.add(t.subscribe(function(t){var e=h++,o=new pn;l.set(e,t),s.add(o);var u=re(n)(t);return u===ne?i.onError(u.e):(o.setDisposable(u.take(1).subscribe(Jt,p,function(){l["delete"](e)&&0===l.size&&c&&i.onCompleted(),s.remove(o)})),void f.forEach(function(e){var n=re(r)(e,t);return n===ne?i.onError(n.e):void i.onNext(n)}))},p,function(){c=!0,(u||0===l.size)&&i.onCompleted()})),s},o)},Wn.groupJoin=function(t,e,n,r){var o=this;return new As(function(i){function s(t){}var u=new on,c=new vn(u),a=new Hi,h=new Hi,f=0,l=0,s=function(t){return function(e){e.onError(t)}};return u.add(o.subscribe(function(t){var n=new qs,o=f++;a.set(o,n);var l=re(r)(t,en(n,c));if(l===ne)return a.forEach(s(l.e)),i.onError(l.e);i.onNext(l),h.forEach(function(t){n.onNext(t)});var p=new pn;u.add(p);var d=re(e)(t);return d===ne?(a.forEach(s(d.e)),i.onError(d.e)):void p.setDisposable(d.take(1).subscribe(Jt,function(t){a.forEach(s(t)),i.onError(t)},function(){a["delete"](o)&&n.onCompleted(),u.remove(p)}))},function(t){a.forEach(s(t)),i.onError(t)},function(){i.onCompleted()})),u.add(t.subscribe(function(t){var e=l++;h.set(e,t);var r=new pn;u.add(r);var o=re(n)(t);return o===ne?(a.forEach(s(o.e)),i.onError(o.e)):(r.setDisposable(o.take(1).subscribe(Jt,function(t){a.forEach(s(t)),i.onError(t)},function(){h["delete"](e),u.remove(r)})),void a.forEach(function(e){e.onNext(t)}))},function(t){a.forEach(s(t)),i.onError(t)})),c},o)},Wn.buffer=function(){return this.window.apply(this,arguments).flatMap(V)},Wn.window=function(t,e){return 1===arguments.length&&"function"!=typeof arguments[0]?bt.call(this,t):"function"==typeof t?vt.call(this,t):_t.call(this,t,e)};var Fi=function(t){function e(e){this.source=e,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new zi(t))},e}(Gn),zi=function(t){function e(e){this._o=e,this._p=null,this._hp=!1,t.call(this)}return Xe(e,t),e.prototype.next=function(t){this._hp?this._o.onNext([this._p,t]):this._hp=!0,this._p=t},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Vn);Wn.pairwise=function(){return new Fi(this)},Wn.partition=function(t,e){var n=me(t,e,3);return[this.filter(t,e),this.filter(function(t,e,r){return!n(t,e,r)})]};var Ii=function(t){function e(t,e){this.c=t,this.s=e}return Xe(e,t),e.prototype[_e]=function(){var t=this;return{next:function(){return t.c()?{done:!1,value:t.s}:{done:!0,value:void 0}}}},e}(Xn);Wn.letBind=Wn["let"]=function(t){return t(this)},Zn["if"]=function(t,e,n){return lr(function(){return n||(n=_r()),te(e)&&(e=ar(e)),te(n)&&(n=ar(n)),"function"==typeof n.now&&(n=_r(n)),t()?e:n})},Zn["for"]=Zn.forIn=function(t,e,n){return ir(t,e,n).concat()};var Li=Zn["while"]=Zn.whileDo=function(t,e){return te(e)&&(e=ar(e)),yt(t,e).concat()};Wn.doWhile=function(t){return Lr([this,Li(t,this)])},Zn["case"]=function(t,e,n){return lr(function(){te(n)&&(n=ar(n)),n||(n=_r()),wn(n)&&(n=_r(n));var r=e[t()];return te(r)&&(r=ar(r)),r||n})};var Qi=function(t){function e(e,n,r){this.source=e,this._fn=n,this._scheduler=r,t.call(this)}function n(t,e){var n,r=t[0],o=t[1];if(!(r.q.length>0))return void(r.isAcquired=!1);n=r.q.shift();var i=new pn;r.d.add(i),i.setDisposable(n.subscribe(new Ui(r,o,i))),e([r,o])}return Xe(e,t),e.prototype._ensureActive=function(t){var e=!1;t.q.length>0&&(e=!t.isAcquired,t.isAcquired=!0),e&&t.m.setDisposable(this._scheduler.scheduleRecursive([t,this],n))},e.prototype.subscribeCore=function(t){var e=new dn,n=new on(e),r={q:[],m:e,d:n,activeCount:0,isAcquired:!1,o:t};return r.q.push(this.source),r.activeCount++,this._ensureActive(r),n},e}(Gn),Ui=function(t){function e(e,n,r){this._s=e,this._p=n,this._m1=r,t.call(this)}return Xe(e,t),e.prototype.next=function(t){this._s.o.onNext(t);var e=re(this._p._fn)(t);return e===ne?this._s.o.onError(e.e):(this._s.q.push(e),this._s.activeCount++,void this._p._ensureActive(this._s))},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.d.remove(this._m1),this._s.activeCount--,0===this._s.activeCount&&this._s.o.onCompleted()},e}(Vn);Wn.expand=function(t,e){return wn(e)||(e=Sn),new Qi(this,t,e)};var Bi=function(t){function e(e,n){this._sources=e,this._cb=n,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){if(0===this._sources.length)return t.onCompleted(),an;for(var e=this._sources.length,n={finished:!1,hasResults:new Array(e),hasCompleted:new Array(e),results:new Array(e)},r=new on,o=0,i=this._sources.length;o<i;o++){var s=this._sources[o];te(s)&&(s=ar(s)),r.add(s.subscribe(new Wi(t,n,o,this._cb,r)))}return r},e}(Gn),Wi=function(t){function e(e,n,r,o,i){this._o=e,this._s=n,this._i=r,this._cb=o,this._subs=i,t.call(this)}return Xe(e,t),e.prototype.next=function(t){this._s.finished||(this._s.hasResults[this._i]=!0,this._s.results[this._i]=t)},e.prototype.error=function(t){this._s.finished=!0,this._o.onError(t),this._subs.dispose()},e.prototype.completed=function(){if(!this._s.finished){if(!this._s.hasResults[this._i])return this._o.onCompleted();this._s.hasCompleted[this._i]=!0;for(var t=0;t<this._s.results.length;t++)if(!this._s.hasCompleted[t])return;this._s.finished=!0;var e=re(this._cb).apply(null,this._s.results);if(e===ne)return this._o.onError(e.e);this._o.onNext(e),this._o.onCompleted()}},e}(Vn);Zn.forkJoin=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=ee(e[t-1])?e.pop():U;return Array.isArray(e[0])&&(e=e[0]),new Bi(e,r)},Wn.forkJoin=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Array.isArray(e[0])?e[0].unshift(this):e.unshift(this),Zn.forkJoin.apply(null,e)},Wn.manySelect=Wn.extend=function(t,e){wn(e)||(e=$t.Scheduler.immediate);var n=this;return lr(function(){var r;return n.map(function(t){var e=new Vi(t);return r&&r.onNext(t),r=e,e}).tap(Jt,function(t){r&&r.onError(t)},function(){r&&r.onCompleted()}).observeOn(e).map(t)},n)};var Vi=function(t){function e(e){t.call(this),this.head=e,this.tail=new Rs}return Xe(e,t),tn(e.prototype,Un,{_subscribe:function(t){var e=new on;return e.add(Sn.schedule(this,function(n,r){t.onNext(r.head),e.add(r.tail.mergeAll().subscribe(t))})),e},onCompleted:function(){this.onNext(Zn.empty())},onError:function(t){this.onNext(Zn["throw"](t))},onNext:function(t){this.tail.onNext(t),this.tail.onCompleted()}}),e}(Zn),Hi=Ht.Map||function(){function t(){this.size=0,this._values=[],this._keys=[]}return t.prototype["delete"]=function(t){var e=this._keys.indexOf(t);return e!==-1&&(this._values.splice(e,1),this._keys.splice(e,1),this.size--,!0)},t.prototype.get=function(t){var e=this._keys.indexOf(t);return e===-1?i:this._values[e]},t.prototype.set=function(t,e){var n=this._keys.indexOf(t);return n===-1?(this._keys.push(t),this._values.push(e),this.size++):this._values[n]=e,this},t.prototype.forEach=function(t,e){for(var n=0;n<this.size;n++)t.call(e,this._values[n],this._keys[n])},t}();mt.prototype.and=function(t){return new mt(this.patterns.concat(t))},mt.prototype.thenDo=function(t){return new gt(this,t)},gt.prototype.activate=function(t,e,n){for(var r=[],o=wt(e),i=0,s=this.expression.patterns.length;i<s;i++)r.push(jt(t,this.expression.patterns[i],o));var u=new Et(r,xt(this,e),function(){for(var t=0,e=r.length;t<e;t++)r[t].removeActivePlan(u);n(u)});for(i=0,s=r.length;i<s;i++)r[i].addActivePlan(u);return u},Et.prototype.dequeue=function(){this.joinObservers.forEach(function(t){t.queue.shift()})},Et.prototype.match=function(){var t,e,n=!0;for(t=0,e=this.joinObserverArray.length;t<e;t++)if(0===this.joinObserverArray[t].queue.length){n=!1;break}if(n){var r=[],o=!1;for(t=0,e=this.joinObserverArray.length;t<e;t++)r.push(this.joinObserverArray[t].queue[0]),"C"===this.joinObserverArray[t].queue[0].kind&&(o=!0);if(o)this.onCompleted();else{this.dequeue();var i=[];for(t=0,e=r.length;t<r.length;t++)i.push(r[t].value);this.onNext.apply(this,i)}}};var $i=function(t){function e(e,n){t.call(this),this.source=e,this.onError=n,this.queue=[],this.activePlans=[],this.subscription=new pn,this.isDisposed=!1}Xe(e,t);var n=e.prototype;return n.next=function(t){if(!this.isDisposed){if("E"===t.kind)return this.onError(t.error);this.queue.push(t);for(var e=this.activePlans.slice(0),n=0,r=e.length;n<r;n++)e[n].match()}},n.error=Jt,n.completed=Jt,n.addActivePlan=function(t){this.activePlans.push(t)},n.subscribe=function(){this.subscription.setDisposable(this.source.materialize().subscribe(this))},n.removeActivePlan=function(t){this.activePlans.splice(this.activePlans.indexOf(t),1),0===this.activePlans.length&&this.dispose()},n.dispose=function(){t.prototype.dispose.call(this),this.isDisposed||(this.isDisposed=!0,this.subscription.dispose())},e}(Vn);Wn.and=function(t){return new mt([this,t])},Wn.thenDo=function(t){return new mt([this]).thenDo(t)},Zn.when=function(){var t,e=arguments.length;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(e);for(var n=0;n<e;n++)t[n]=arguments[n]}return new As(function(e){var n=[],r=new Hi,o=Bn(function(t){e.onNext(t)},function(t){r.forEach(function(e){e.onError(t)}),e.onError(t)},function(t){e.onCompleted()});try{for(var i=0,s=t.length;i<s;i++)n.push(t[i].activate(r,o,function(t){var r=n.indexOf(t);n.splice(r,1),0===n.length&&e.onCompleted()}))}catch(u){return Nr(u).subscribe(e)}var c=new on;return r.forEach(function(t){t.subscribe(),c.add(t)}),c})};var Ji=function(t){function e(e,n){this._dt=e,this._s=n,t.call(this)}function n(t,e){e.onNext(0),e.onCompleted()}return Xe(e,t),e.prototype.subscribeCore=function(t){return this._s.scheduleFuture(t,this._dt,n)},e}(Gn),Ki=Zn.interval=function(t,e){return Ot(t,t,wn(e)?e:qn)};Zn.timer=function(t,e,n){var r;return wn(n)||(n=qn),null!=e&&"number"==typeof e?r=e:wn(e)&&(n=e),(t instanceof Date||"number"==typeof t)&&r===i?Ct(t,n):t instanceof Date&&r!==i?kt(t,e,n):Ot(t,r,n)};Wn.delay=function(){var t=arguments[0];if("number"==typeof t||t instanceof Date){var e=t,n=arguments[1];return wn(n)||(n=qn),e instanceof Date?At(this,e,n):St(this,e,n)}if(Zn.isObservable(t)||ee(t))return Nt(this,t,arguments[1]);throw new Error("Invalid arguments")};var Zi=function(t){function e(e,n,r){wn(r)||(r=qn),this.source=e,this._dt=n,this._s=r,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){var e=new dn;return new _n(this.source.subscribe(new Gi(t,this._dt,this._s,e)),e)},e}(Gn),Gi=function(t){function e(e,n,r,o){this._o=e,this._d=n,this._scheduler=r,this._c=o,this._v=null,this._hv=!1,this._id=0,t.call(this)}return Xe(e,t),e.prototype.next=function(t){this._hv=!0,this._v=t;var e=++this._id,n=new pn;this._c.setDisposable(n),n.setDisposable(this._scheduler.scheduleFuture(this,this._d,function(n,r){r._hv&&r._id===e&&r._o.onNext(t),r._hv=!1}))},e.prototype.error=function(t){this._c.dispose(),this._o.onError(t),this._hv=!1,this._id++},e.prototype.completed=function(){this._c.dispose(),this._hv&&this._o.onNext(this._v),this._o.onCompleted(),this._hv=!1,this._id++},e}(Vn);Wn.debounce=function(){if(ee(arguments[0]))return Dt(this,arguments[0]);if("number"==typeof arguments[0])return new Zi(this,arguments[0],arguments[1]);throw new Error("Invalid arguments")},Wn.windowWithTime=Wn.windowTime=function(t,e,n){var r,o=this;return null==e&&(r=t),wn(n)||(n=qn),"number"==typeof e?r=e:wn(e)&&(r=t,n=e),new As(function(e){function i(){var t=new pn,o=!1,s=!1;f.setDisposable(t),a===c?(o=!0,s=!0):a<c?o=!0:s=!0;var p=o?a:c,d=p-l;l=p,o&&(a+=r),s&&(c+=r),t.setDisposable(n.scheduleFuture(null,d,function(){if(s){var t=new qs;h.push(t),
e.onNext(en(t,u))}o&&h.shift().onCompleted(),i()}))}var s,u,c=r,a=t,h=[],f=new dn,l=0;return s=new on(f),u=new vn(s),h.push(new qs),e.onNext(en(h[0],u)),i(),s.add(o.subscribe(function(t){for(var e=0,n=h.length;e<n;e++)h[e].onNext(t)},function(t){for(var n=0,r=h.length;n<r;n++)h[n].onError(t);e.onError(t)},function(){for(var t=0,n=h.length;t<n;t++)h[t].onCompleted();e.onCompleted()})),u},o)},Wn.windowWithTimeOrCount=Wn.windowTimeOrCount=function(t,e,n){var r=this;return wn(n)||(n=qn),new As(function(o){function i(e){var r=new pn;s.setDisposable(r),r.setDisposable(n.scheduleFuture(null,t,function(){if(e===h){a=0;var t=++h;f.onCompleted(),f=new qs,o.onNext(en(f,c)),i(t)}}))}var s=new dn,u=new on(s),c=new vn(u),a=0,h=0,f=new qs;return o.onNext(en(f,c)),i(0),u.add(r.subscribe(function(t){var n=0,r=!1;f.onNext(t),++a===e&&(r=!0,a=0,n=++h,f.onCompleted(),f=new qs,o.onNext(en(f,c))),r&&i(n)},function(t){f.onError(t),o.onError(t)},function(){f.onCompleted(),o.onCompleted()})),c},r)},Wn.bufferWithTime=Wn.bufferTime=function(t,e,n){return this.windowWithTime(t,e,n).flatMap(V)},Wn.bufferWithTimeOrCount=Wn.bufferTimeOrCount=function(t,e,n){return this.windowWithTimeOrCount(t,e,n).flatMap(V)};var Yi=function(t){function e(e,n){this.source=e,this._s=n,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Xi(t,this._s))},e}(Gn),Xi=function(t){function e(e,n){this._o=e,this._s=n,this._l=n.now(),t.call(this)}return Xe(e,t),e.prototype.next=function(t){var e=this._s.now(),n=e-this._l;this._l=e,this._o.onNext({value:t,interval:n})},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Vn);Wn.timeInterval=function(t){return wn(t)||(t=qn),new Yi(this,t)};var ts=function(t){function e(e,n){this.source=e,this._s=n,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new es(t,this._s))},e}(Gn),es=function(t){function e(e,n){this._o=e,this._s=n,t.call(this)}return Xe(e,t),e.prototype.next=function(t){this._o.onNext({value:t,timestamp:this._s.now()})},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Vn);Wn.timestamp=function(t){return wn(t)||(t=qn),new ts(this,t)};var ns=function(t){function e(e,n){this.source=e,this._sampler=n,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){var e={o:t,atEnd:!1,value:null,hasValue:!1,sourceSubscription:new pn};return e.sourceSubscription.setDisposable(this.source.subscribe(new os(e))),new _n(e.sourceSubscription,this._sampler.subscribe(new rs(e)))},e}(Gn),rs=function(t){function e(e){this._s=e,t.call(this)}return Xe(e,t),e.prototype._handleMessage=function(){this._s.hasValue&&(this._s.hasValue=!1,this._s.o.onNext(this._s.value)),this._s.atEnd&&this._s.o.onCompleted()},e.prototype.next=function(){this._handleMessage()},e.prototype.error=function(t){this._s.onError(t)},e.prototype.completed=function(){this._handleMessage()},e}(Vn),os=function(t){function e(e){this._s=e,t.call(this)}return Xe(e,t),e.prototype.next=function(t){this._s.hasValue=!0,this._s.value=t},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.atEnd=!0,this._s.sourceSubscription.dispose()},e}(Vn);Wn.sample=function(t,e){return wn(e)||(e=qn),"number"==typeof t?new ns(this,Ki(t,e)):new ns(this,t)};var is=$t.TimeoutError=function(t){this.message=t||"Timeout has occurred",this.name="TimeoutError",Error.call(this)};is.prototype=Object.create(Error.prototype),Wn.timeout=function(){var t=arguments[0];if(t instanceof Date||"number"==typeof t)return qt(this,t,arguments[1],arguments[2]);if(Zn.isObservable(t)||ee(t))return Pt(this,t,arguments[1],arguments[2]);throw new Error("Invalid arguments")};var ss=function(t){function e(e,n,r,o,i,s){this._state=e,this._cndFn=n,this._itrFn=r,this._resFn=o,this._timeFn=i,this._s=s,t.call(this)}function n(t,e){if(t.hasResult&&t.o.onNext(t.result),t.first)t.first=!1;else if(t.newState=re(t.self._itrFn)(t.newState),t.newState===ne)return t.o.onError(t.newState.e);if(t.hasResult=re(t.self._cndFn)(t.newState),t.hasResult===ne)return t.o.onError(t.hasResult.e);if(t.hasResult){if(t.result=re(t.self._resFn)(t.newState),t.result===ne)return t.o.onError(t.result.e);var n=re(t.self._timeFn)(t.newState);if(n===ne)return t.o.onError(n.e);e(t,n)}else t.o.onCompleted()}return Xe(e,t),e.prototype.subscribeCore=function(t){var e={o:t,self:this,newState:this._state,first:!0,hasResult:!1};return this._s.scheduleRecursiveFuture(e,new Date(this._s.now()),n)},e}(Gn);Zn.generateWithAbsoluteTime=function(t,e,n,r,o,i){return wn(i)||(i=qn),new ss(t,e,n,r,o,i)};var us=function(t){function e(e,n,r,o,i,s){this._state=e,this._cndFn=n,this._itrFn=r,this._resFn=o,this._timeFn=i,this._s=s,t.call(this)}function n(t,e){if(t.hasResult&&t.o.onNext(t.result),t.first)t.first=!1;else if(t.newState=re(t.self._itrFn)(t.newState),t.newState===ne)return t.o.onError(t.newState.e);if(t.hasResult=re(t.self._cndFn)(t.newState),t.hasResult===ne)return t.o.onError(t.hasResult.e);if(t.hasResult){if(t.result=re(t.self._resFn)(t.newState),t.result===ne)return t.o.onError(t.result.e);var n=re(t.self._timeFn)(t.newState);if(n===ne)return t.o.onError(n.e);e(t,n)}else t.o.onCompleted()}return Xe(e,t),e.prototype.subscribeCore=function(t){var e={o:t,self:this,newState:this._state,first:!0,hasResult:!1};return this._s.scheduleRecursiveFuture(e,0,n)},e}(Gn);Zn.generateWithRelativeTime=function(t,e,n,r,o,i){return wn(i)||(i=qn),new us(t,e,n,r,o,i)};var cs=function(t){function e(e,n,r){this.source=e,this._dt=n,this._s=r,t.call(this)}function n(t,e){var n=e[0],r=e[1],o=e[2];o.setDisposable(n.subscribe(r))}return Xe(e,t),e.prototype.subscribeCore=function(t){var e=new dn;return e.setDisposable(this._s.scheduleFuture([this.source,t,e],this._dt,n)),e},e}(Gn);Wn.delaySubscription=function(t,e){return wn(e)||(e=qn),new cs(this,t,e)};var as=function(t){function e(e,n,r){this.source=e,this._d=n,this._s=r,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new hs(t,this))},e}(Gn),hs=function(t){function e(e,n){this._o=e,this._s=n._s,this._d=n._d,this._q=[],t.call(this)}return Xe(e,t),e.prototype.next=function(t){var e=this._s.now();for(this._q.push({interval:e,value:t});this._q.length>0&&e-this._q[0].interval>=this._d;)this._o.onNext(this._q.shift().value)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){for(var t=this._s.now();this._q.length>0&&t-this._q[0].interval>=this._d;)this._o.onNext(this._q.shift().value);this._o.onCompleted()},e}(Vn);Wn.skipLastWithTime=function(t,e){return wn(e)||(e=qn),new as(this,t,e)};var fs=function(t){function e(e,n,r){this.source=e,this._d=n,this._s=r,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new ls(t,this._d,this._s))},e}(Gn),ls=function(t){function e(e,n,r){this._o=e,this._d=n,this._s=r,this._q=[],t.call(this)}return Xe(e,t),e.prototype.next=function(t){var e=this._s.now();for(this._q.push({interval:e,value:t});this._q.length>0&&e-this._q[0].interval>=this._d;)this._q.shift()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){for(var t=this._s.now();this._q.length>0;){var e=this._q.shift();t-e.interval<=this._d&&this._o.onNext(e.value)}this._o.onCompleted()},e}(Vn);Wn.takeLastWithTime=function(t,e){return wn(e)||(e=qn),new fs(this,t,e)},Wn.takeLastBufferWithTime=function(t,e){var n=this;return wn(e)||(e=qn),new As(function(r){var o=[];return n.subscribe(function(n){var r=e.now();for(o.push({interval:r,value:n});o.length>0&&r-o[0].interval>=t;)o.shift()},function(t){r.onError(t)},function(){for(var n=e.now(),i=[];o.length>0;){var s=o.shift();n-s.interval<=t&&i.push(s.value)}r.onNext(i),r.onCompleted()})},n)};var ps=function(t){function e(e,n,r){this.source=e,this._d=n,this._s=r,t.call(this)}function n(t,e){e.onCompleted()}return Xe(e,t),e.prototype.subscribeCore=function(t){return new _n(this._s.scheduleFuture(t,this._d,n),this.source.subscribe(t))},e}(Gn);Wn.takeWithTime=function(t,e){return wn(e)||(e=qn),new ps(this,t,e)};var ds=function(t){function e(e,n,r){this.source=e,this._d=n,this._s=r,this._open=!1,t.call(this)}function n(t,e){e._open=!0}return Xe(e,t),e.prototype.subscribeCore=function(t){return new _n(this._s.scheduleFuture(this,this._d,n),this.source.subscribe(new _s(t,this)))},e}(Gn),_s=function(t){function e(e,n){this._o=e,this._p=n,t.call(this)}return Xe(e,t),e.prototype.next=function(t){this._p._open&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Vn);Wn.skipWithTime=function(t,e){return wn(e)||(e=qn),new ds(this,t,e)};var bs=function(t){function e(e,n,r){this.source=e,this._st=n,this._s=r,t.call(this)}function n(t,e){e._open=!0}return Xe(e,t),e.prototype.subscribeCore=function(t){return this._open=!1,new _n(this._s.scheduleFuture(this,this._st,n),this.source.subscribe(new vs(t,this)))},e}(Gn),vs=function(t){function e(e,n){this._o=e,this._p=n,t.call(this)}return Xe(e,t),e.prototype.next=function(t){this._p._open&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Vn);Wn.skipUntilWithTime=function(t,e){return wn(e)||(e=qn),new bs(this,t,e)},Wn.takeUntilWithTime=function(t,e){wn(e)||(e=qn);var n=this;return new As(function(r){return new _n(e.scheduleFuture(r,t,function(t,e){e.onCompleted()}),n.subscribe(r))},n)},Wn.throttle=function(t,e){wn(e)||(e=qn);var n=+t||0;if(n<=0)throw new RangeError("windowDuration cannot be less or equal zero.");var r=this;return new As(function(t){var o=0;return r.subscribe(function(r){var i=e.now();(0===o||i-o>=n)&&(o=i,t.onNext(r))},function(e){t.onError(e)},function(){t.onCompleted()})},r)};var ys=function(t){function e(e,n){this._o=e,this._xform=n,t.call(this)}return Xe(e,t),e.prototype.next=function(t){var e=re(this._xform["@@transducer/step"]).call(this._xform,this._o,t);e===ne&&this._o.onError(e.e)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._xform["@@transducer/result"](this._o)},e}(Vn);Wn.transduce=function(t){var e=this;return new As(function(n){var r=t(Rt(n));return e.subscribe(new ys(n,r))},e)};var ms=function(t){function e(e){this.source=e,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){var e=new pn,n=new on,r={hasCurrent:!1,isStopped:!1,o:t,g:n};return n.add(e),e.setDisposable(this.source.subscribe(new gs(r))),n},e}(Gn),gs=function(t){function e(e){this._s=e,t.call(this)}function n(e,n){this._s=e,this._i=n,t.call(this)}return Xe(e,t),e.prototype.next=function(t){if(!this._s.hasCurrent){this._s.hasCurrent=!0,te(t)&&(t=ar(t));var e=new pn;this._s.g.add(e),e.setDisposable(t.subscribe(new n(this._s,e)))}},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.isStopped=!0,!this._s.hasCurrent&&1===this._s.g.length&&this._s.o.onCompleted()},Xe(n,t),n.prototype.next=function(t){this._s.o.onNext(t)},n.prototype.error=function(t){this._s.o.onError(t)},n.prototype.completed=function(){this._s.g.remove(this._i),this._s.hasCurrent=!1,this._s.isStopped&&1===this._s.g.length&&this._s.o.onCompleted()},e}(Vn);Wn.switchFirst=function(){return new ms(this)},Wn.flatMapFirst=Wn.exhaustMap=function(t,e,n){return new Yn(this,t,e,n).switchFirst()},Wn.flatMapWithMaxConcurrent=Wn.flatMapMaxConcurrent=function(t,e,n,r){return new Yn(this,e,n,r).merge(t)};var ws=$t.VirtualTimeScheduler=function(t){function e(e,n){this.clock=e,this.comparer=n,this.isEnabled=!1,this.queue=new nn(1024),t.call(this)}Xe(e,t);var n=e.prototype;return n.now=function(){return this.toAbsoluteTime(this.clock)},n.schedule=function(t,e){return this.scheduleAbsolute(t,this.clock,e)},n.scheduleFuture=function(t,e,n){var r=e instanceof Date?this.toRelativeTime(e-this.now()):this.toRelativeTime(e);return this.scheduleRelative(t,r,n)},n.add=de,n.toAbsoluteTime=de,n.toRelativeTime=de,n.schedulePeriodic=function(t,e,n){var r=new En(this,t,e,n);return r.start()},n.scheduleRelative=function(t,e,n){var r=this.add(this.clock,e);return this.scheduleAbsolute(t,r,n)},n.start=function(){if(!this.isEnabled){this.isEnabled=!0;do{var t=this.getNext();null!==t?(this.comparer(t.dueTime,this.clock)>0&&(this.clock=t.dueTime),t.invoke()):this.isEnabled=!1}while(this.isEnabled)}},n.stop=function(){this.isEnabled=!1},n.advanceTo=function(t){var e=this.comparer(this.clock,t);if(this.comparer(this.clock,t)>0)throw new fe;if(0!==e&&!this.isEnabled){this.isEnabled=!0;do{var n=this.getNext();null!==n&&this.comparer(n.dueTime,t)<=0?(this.comparer(n.dueTime,this.clock)>0&&(this.clock=n.dueTime),n.invoke()):this.isEnabled=!1}while(this.isEnabled);this.clock=t}},n.advanceBy=function(t){var e=this.add(this.clock,t),n=this.comparer(this.clock,e);if(n>0)throw new fe;0!==n&&this.advanceTo(e)},n.sleep=function(t){var e=this.add(this.clock,t);if(this.comparer(this.clock,e)>=0)throw new fe;this.clock=e},n.getNext=function(){for(;this.queue.length>0;){var t=this.queue.peek();if(!t.isCancelled())return t;this.queue.dequeue()}return null},n.scheduleAbsolute=function(t,e,n){function r(t,e){return o.queue.remove(i),n(t,e)}var o=this,i=new yn(this,t,r,e,this.comparer);return this.queue.enqueue(i),i.disposable},e}(mn);$t.HistoricalScheduler=function(t){function e(e,n){var r=null==e?0:e,o=n||Yt;t.call(this,r,o)}Xe(e,t);var n=e.prototype;return n.add=function(t,e){return t+e},n.toAbsoluteTime=function(t){return new Date(t).getTime()},n.toRelativeTime=function(t){return t},e}($t.VirtualTimeScheduler),Mt.prototype.equals=function(t){return t===this||null!=t&&("N"===t.kind&&this.predicate(t.value))},Tt.prototype.equals=function(t){return t===this||null!=t&&("E"===t.kind&&this.predicate(t.error))};var xs=$t.ReactiveTest={created:100,subscribed:200,disposed:1e3,onNext:function(t,e){return"function"==typeof e?new js(t,new Mt(e)):new js(t,Mn.createOnNext(e))},onError:function(t,e){return"function"==typeof e?new js(t,new Tt(e)):new js(t,Mn.createOnError(e))},onCompleted:function(t){return new js(t,Mn.createOnCompleted())},subscribe:function(t,e){return new Es(t,e)}},js=$t.Recorded=function(t,e,n){this.time=t,this.value=e,this.comparer=n||Gt};js.prototype.equals=function(t){return this.time===t.time&&this.comparer(this.value,t.value)},js.prototype.toString=function(){return this.value.toString()+"@"+this.time};var Es=$t.Subscription=function(t,e){this.subscribe=t,this.unsubscribe=e||Number.MAX_VALUE};Es.prototype.equals=function(t){return this.subscribe===t.subscribe&&this.unsubscribe===t.unsubscribe},Es.prototype.toString=function(){return"("+this.subscribe+", "+(this.unsubscribe===Number.MAX_VALUE?"Infinite":this.unsubscribe)+")"};var Cs=$t.MockDisposable=function(t){this.scheduler=t,this.disposes=[],this.disposes.push(this.scheduler.clock)};Cs.prototype.dispose=function(){this.disposes.push(this.scheduler.clock)};var ks=function(t){function e(e){t.call(this),this.scheduler=e,this.messages=[]}Xe(e,t);var n=e.prototype;return n.onNext=function(t){this.messages.push(new js(this.scheduler.clock,Mn.createOnNext(t)))},n.onError=function(t){this.messages.push(new js(this.scheduler.clock,Mn.createOnError(t)))},n.onCompleted=function(){this.messages.push(new js(this.scheduler.clock,Mn.createOnCompleted()))},e}(Un);Ft.prototype.then=function(t,e){var n=this;this.subscriptions.push(new Es(this.scheduler.clock));var r,o=this.subscriptions.length-1,s=$t.Observer.create(function(e){var u=t(e);if(u&&"function"==typeof u.then)r=u;else{var c=n.scheduler.clock;r=new Ft(n.scheduler,[$t.ReactiveTest.onNext(c,i),$t.ReactiveTest.onCompleted(c)])}var a=n.observers.indexOf(s);n.observers.splice(a,1),n.subscriptions[o]=new Es(n.subscriptions[o].subscribe,n.scheduler.clock)},function(t){e(t);var r=n.observers.indexOf(s);n.observers.splice(r,1),n.subscriptions[o]=new Es(n.subscriptions[o].subscribe,n.scheduler.clock)});return this.observers.push(s),r||new Ft(this.scheduler,this.messages)};var Os=function(t){function e(e,n){t.call(this);var r,o,i=this;this.scheduler=e,this.messages=n,this.subscriptions=[],this.observers=[];for(var s=0,u=this.messages.length;s<u;s++)r=this.messages[s],o=r.value,function(t){e.scheduleAbsolute(null,r.time,function(){for(var e=i.observers.slice(0),n=0,r=e.length;n<r;n++)t.accept(e[n]);return an})}(o)}return Xe(e,t),e.prototype._subscribe=function(t){var e=this;this.observers.push(t),this.subscriptions.push(new Es(this.scheduler.clock));var n=this.subscriptions.length-1;return cn(function(){var r=e.observers.indexOf(t);e.observers.splice(r,1),e.subscriptions[n]=new Es(e.subscriptions[n].subscribe,e.scheduler.clock)})},e}(Zn),Ss=function(t){function e(e,n){t.call(this),this.scheduler=e,this.messages=n,this.subscriptions=[]}return Xe(e,t),e.prototype._subscribe=function(t){var e,n,r=this;this.subscriptions.push(new Es(this.scheduler.clock));for(var o=this.subscriptions.length-1,i=new on,s=0,u=this.messages.length;s<u;s++)e=this.messages[s],n=e.value,function(n){i.add(r.scheduler.scheduleRelative(null,e.time,function(){return n.accept(t),an}))}(n);return cn(function(){r.subscriptions[o]=new Es(r.subscriptions[o].subscribe,r.scheduler.clock),i.dispose()})},e}(Zn);$t.TestScheduler=function(t){function e(t,e){return t>e?1:t<e?-1:0}function n(){t.call(this,0,e)}return Xe(n,t),n.prototype.scheduleAbsolute=function(e,n,r){return n<=this.clock&&(n=this.clock+1),t.prototype.scheduleAbsolute.call(this,e,n,r)},n.prototype.add=function(t,e){return t+e},n.prototype.toAbsoluteTime=function(t){return new Date(t).getTime()},n.prototype.toRelativeTime=function(t){return t},n.prototype.startScheduler=function(t,e){e||(e={}),null==e.created&&(e.created=xs.created),null==e.subscribed&&(e.subscribed=xs.subscribed),null==e.disposed&&(e.disposed=xs.disposed);var n,r,o=this.createObserver();return this.scheduleAbsolute(null,e.created,function(){return n=t(),an}),this.scheduleAbsolute(null,e.subscribed,function(){return r=n.subscribe(o),an}),this.scheduleAbsolute(null,e.disposed,function(){return r.dispose(),an}),this.start(),o},n.prototype.createHotObservable=function(){var t,e=arguments.length;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(e);for(var n=0;n<e;n++)t[n]=arguments[n]}return new Os(this,t)},n.prototype.createColdObservable=function(){var t,e=arguments.length;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(e);for(var n=0;n<e;n++)t[n]=arguments[n]}return new Ss(this,t)},n.prototype.createResolvedPromise=function(t,e){return new Ft(this,[$t.ReactiveTest.onNext(t,e),$t.ReactiveTest.onCompleted(t)])},n.prototype.createRejectedPromise=function(t,e){return new Ft(this,[$t.ReactiveTest.onError(t,e)])},n.prototype.createObserver=function(){return new ks(this)},n}(ws);var As=$t.AnonymousObservable=function(t){function e(t){return t&&ee(t.dispose)?t:ee(t)?cn(t):an}function n(t,n){var r=n[0],o=n[1],i=re(o.__subscribe).call(o,r);i!==ne||r.fail(ne.e)||a(ne.e),r.setDisposable(e(i))}function r(e,n){this.source=n,this.__subscribe=e,t.call(this)}return Xe(r,t),r.prototype._subscribe=function(t){var e=new Ns(t),r=[e,this];return Sn.scheduleRequired()?Sn.schedule(r,n):n(null,r),e},r}(Zn),Ns=function(t){function e(e){t.call(this),this.observer=e,this.m=new pn}Xe(e,t);var n=e.prototype;return n.next=function(t){var e=re(this.observer.onNext).call(this.observer,t);e===ne&&(this.dispose(),a(e.e))},n.error=function(t){var e=re(this.observer.onError).call(this.observer,t);this.dispose(),e===ne&&a(e.e)},n.completed=function(){var t=re(this.observer.onCompleted).call(this.observer);this.dispose(),t===ne&&a(t.e)},n.setDisposable=function(t){this.m.setDisposable(t)},n.getDisposable=function(){return this.m.getDisposable()},n.dispose=function(){t.prototype.dispose.call(this),this.m.dispose()},e}(Vn),Ds=function(t){function e(e,n){this._m=e,this._u=n,t.call(this)}return Xe(e,t),e.prototype.subscribeCore=function(t){return new _n(this._m.getDisposable(),this._u.subscribe(t))},e}(Gn),Ps=function(t){function e(e,n,r){t.call(this),this.key=e,this.underlyingObservable=r?new Ds(r,n):n}return Xe(e,t),e.prototype._subscribe=function(t){return this.underlyingObservable.subscribe(t)},e}(Zn),qs=$t.Subject=function(t){function e(){t.call(this),this.isDisposed=!1,this.isStopped=!1,this.observers=[],this.hasError=!1}return Xe(e,t),tn(e.prototype,Un.prototype,{_subscribe:function(t){return fn(this),this.isStopped?this.hasError?(t.onError(this.error),an):(t.onCompleted(),an):(this.observers.push(t),new Ri(this,t))},hasObservers:function(){return fn(this),this.observers.length>0},onCompleted:function(){if(fn(this),!this.isStopped){this.isStopped=!0;for(var t=0,e=u(this.observers),n=e.length;t<n;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(fn(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;for(var e=0,n=u(this.observers),r=n.length;e<r;e++)n[e].onError(t);this.observers.length=0}},onNext:function(t){if(fn(this),!this.isStopped)for(var e=0,n=u(this.observers),r=n.length;e<r;e++)n[e].onNext(t)},dispose:function(){this.isDisposed=!0,this.observers=null}}),e.create=function(t,e){return new Fs(t,e)},e}(Zn),Rs=$t.AsyncSubject=function(t){function e(){t.call(this),this.isDisposed=!1,this.isStopped=!1,this.hasValue=!1,this.observers=[],this.hasError=!1}return Xe(e,t),tn(e.prototype,Un.prototype,{_subscribe:function(t){return fn(this),this.isStopped?(this.hasError?t.onError(this.error):this.hasValue?(t.onNext(this.value),t.onCompleted()):t.onCompleted(),an):(this.observers.push(t),new Ri(this,t))},hasObservers:function(){return fn(this),this.observers.length>0},onCompleted:function(){var t,e;if(fn(this),!this.isStopped){this.isStopped=!0;var n=u(this.observers),e=n.length;if(this.hasValue)for(t=0;t<e;t++){var r=n[t];r.onNext(this.value),r.onCompleted()}else for(t=0;t<e;t++)n[t].onCompleted();this.observers.length=0}},onError:function(t){if(fn(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var e=0,n=u(this.observers),r=n.length;e<r;e++)n[e].onError(t);this.observers.length=0}},onNext:function(t){fn(this),this.isStopped||(this.value=t,this.hasValue=!0)},dispose:function(){this.isDisposed=!0,this.observers=null,this.error=null,this.value=null}}),e}(Zn),Ms=$t.BehaviorSubject=function(t){function e(e){t.call(this),this.value=e,this.observers=[],this.isDisposed=!1,this.isStopped=!1,this.hasError=!1}return Xe(e,t),tn(e.prototype,Un.prototype,{_subscribe:function(t){return fn(this),this.isStopped?(this.hasError?t.onError(this.error):t.onCompleted(),an):(this.observers.push(t),t.onNext(this.value),new Ri(this,t))},getValue:function(){return fn(this),this.hasError&&a(this.error),this.value},hasObservers:function(){return fn(this),this.observers.length>0},onCompleted:function(){if(fn(this),!this.isStopped){this.isStopped=!0;for(var t=0,e=u(this.observers),n=e.length;t<n;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(fn(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var e=0,n=u(this.observers),r=n.length;e<r;e++)n[e].onError(t);this.observers.length=0}},onNext:function(t){if(fn(this),!this.isStopped){this.value=t;for(var e=0,n=u(this.observers),r=n.length;e<r;e++)n[e].onNext(t)}},dispose:function(){this.isDisposed=!0,this.observers=null,this.value=null,this.error=null}}),e}(Zn),Ts=$t.ReplaySubject=function(t){function e(t,e){return cn(function(){e.dispose(),!t.isDisposed&&t.observers.splice(t.observers.indexOf(e),1)})}function n(e,n,o){this.bufferSize=null==e?r:e,this.windowSize=null==n?r:n,this.scheduler=o||Sn,this.q=[],this.observers=[],this.isStopped=!1,this.isDisposed=!1,this.hasError=!1,this.error=null,t.call(this)}var r=Math.pow(2,53)-1;return Xe(n,t),tn(n.prototype,Un.prototype,{_subscribe:function(t){fn(this);var n=new Jn(this.scheduler,t),r=e(this,n);this._trim(this.scheduler.now()),this.observers.push(n);for(var o=0,i=this.q.length;o<i;o++)n.onNext(this.q[o].value);return this.hasError?n.onError(this.error):this.isStopped&&n.onCompleted(),n.ensureActive(),r},hasObservers:function(){return fn(this),this.observers.length>0},_trim:function(t){for(;this.q.length>this.bufferSize;)this.q.shift();for(;this.q.length>0&&t-this.q[0].interval>this.windowSize;)this.q.shift()},onNext:function(t){if(fn(this),!this.isStopped){var e=this.scheduler.now();this.q.push({interval:e,value:t}),this._trim(e);for(var n=0,r=u(this.observers),o=r.length;n<o;n++){var i=r[n];i.onNext(t),i.ensureActive()}}},onError:function(t){if(fn(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;var e=this.scheduler.now();this._trim(e);for(var n=0,r=u(this.observers),o=r.length;n<o;n++){var i=r[n];i.onError(t),i.ensureActive()}this.observers.length=0}},onCompleted:function(){if(fn(this),!this.isStopped){this.isStopped=!0;var t=this.scheduler.now();this._trim(t);for(var e=0,n=u(this.observers),r=n.length;e<r;e++){var o=n[e];o.onCompleted(),o.ensureActive()}this.observers.length=0}},dispose:function(){this.isDisposed=!0,this.observers=null}}),n}(Zn),Fs=$t.AnonymousSubject=function(t){function e(e,n){this.observer=e,this.observable=n,t.call(this)}return Xe(e,t),tn(e.prototype,Un.prototype,{_subscribe:function(t){return this.observable.subscribe(t)},onCompleted:function(){this.observer.onCompleted()},onError:function(t){this.observer.onError(t)},onNext:function(t){this.observer.onNext(t)}}),e}(Zn);$t.Pauser=function(t){function e(){t.call(this)}return Xe(e,t),e.prototype.pause=function(){this.onNext(!1)},e.prototype.resume=function(){this.onNext(!0)},e}(qs),"function"==typeof t&&"object"==typeof t.amd&&t.amd?(Ht.Rx=$t,t(function(){return $t})):It&&Lt?Wt?(Lt.exports=$t).Rx=$t:It.Rx=$t:Ht.Rx=$t;var zs=d()}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:1}],5:[function(e,n,r){!function(e,r){"use strict";"object"==typeof n&&n.exports?n.exports=r():"function"==typeof t&&t.amd?t(r):e.IPv6=r(e)}(this,function(t){"use strict";function e(t){var e=t.toLowerCase(),n=e.split(":"),r=n.length,o=8;""===n[0]&&""===n[1]&&""===n[2]?(n.shift(),n.shift()):""===n[0]&&""===n[1]?n.shift():""===n[r-1]&&""===n[r-2]&&n.pop(),r=n.length,n[r-1].indexOf(".")!==-1&&(o=7);var i;for(i=0;i<r&&""!==n[i];i++);if(i<o)for(n.splice(i,1,"0000");n.length<o;)n.splice(i,0,"0000");for(var s,u=0;u<o;u++){s=n[u].split("");for(var c=0;c<3&&("0"===s[0]&&s.length>1);c++)s.splice(0,1);n[u]=s.join("")}var a=-1,h=0,f=0,l=-1,p=!1;for(u=0;u<o;u++)p?"0"===n[u]?f+=1:(p=!1,f>h&&(a=l,h=f)):"0"===n[u]&&(p=!0,l=u,f=1);f>h&&(a=l,h=f),h>1&&n.splice(a,h,""),r=n.length;var d="";for(""===n[0]&&(d=":"),u=0;u<r&&(d+=n[u],u!==r-1);u++)d+=":";return""===n[r-1]&&(d+=":"),d}function n(){return t.IPv6===this&&(t.IPv6=r),this}var r=t&&t.IPv6;return{best:e,noConflict:n}})},{}],6:[function(e,n,r){!function(e,r){"use strict";"object"==typeof n&&n.exports?n.exports=r():"function"==typeof t&&t.amd?t(r):e.SecondLevelDomains=r(e)}(this,function(t){"use strict";var e=t&&t.SecondLevelDomains,n={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ","do":" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ","in":" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",
qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch "},has:function(t){var e=t.lastIndexOf(".");if(e<=0||e>=t.length-1)return!1;var r=t.lastIndexOf(".",e-1);if(r<=0||r>=e-1)return!1;var o=n.list[t.slice(e+1)];return!!o&&o.indexOf(" "+t.slice(r+1,e)+" ")>=0},is:function(t){var e=t.lastIndexOf(".");if(e<=0||e>=t.length-1)return!1;var r=t.lastIndexOf(".",e-1);if(r>=0)return!1;var o=n.list[t.slice(e+1)];return!!o&&o.indexOf(" "+t.slice(0,e)+" ")>=0},get:function(t){var e=t.lastIndexOf(".");if(e<=0||e>=t.length-1)return null;var r=t.lastIndexOf(".",e-1);if(r<=0||r>=e-1)return null;var o=n.list[t.slice(e+1)];return o?o.indexOf(" "+t.slice(r+1,e)+" ")<0?null:t.slice(r+1):null},noConflict:function(){return t.SecondLevelDomains===this&&(t.SecondLevelDomains=e),this}};return n})},{}],7:[function(e,n,r){!function(r,o){"use strict";"object"==typeof n&&n.exports?n.exports=o(e("./punycode"),e("./IPv6"),e("./SecondLevelDomains")):"function"==typeof t&&t.amd?t(["./punycode","./IPv6","./SecondLevelDomains"],o):r.URI=o(r.punycode,r.IPv6,r.SecondLevelDomains,r)}(this,function(t,e,n,r){"use strict";function o(t,e){var n=arguments.length>=1,r=arguments.length>=2;if(!(this instanceof o))return n?r?new o(t,e):new o(t):new o;if(void 0===t){if(n)throw new TypeError("undefined is not a valid argument for URI");t="undefined"!=typeof location?location.href+"":""}return this.href(t),void 0!==e?this.absoluteTo(e):this}function i(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function s(t){return void 0===t?"Undefined":String(Object.prototype.toString.call(t)).slice(8,-1)}function u(t){return"Array"===s(t)}function c(t,e){var n,r,o={};if("RegExp"===s(e))o=null;else if(u(e))for(n=0,r=e.length;n<r;n++)o[e[n]]=!0;else o[e]=!0;for(n=0,r=t.length;n<r;n++){var i=o&&void 0!==o[t[n]]||!o&&e.test(t[n]);i&&(t.splice(n,1),r--,n--)}return t}function a(t,e){var n,r;if(u(e)){for(n=0,r=e.length;n<r;n++)if(!a(t,e[n]))return!1;return!0}var o=s(e);for(n=0,r=t.length;n<r;n++)if("RegExp"===o){if("string"==typeof t[n]&&t[n].match(e))return!0}else if(t[n]===e)return!0;return!1}function h(t,e){if(!u(t)||!u(e))return!1;if(t.length!==e.length)return!1;t.sort(),e.sort();for(var n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function f(t){var e=/^\/+|\/+$/g;return t.replace(e,"")}function l(t){return escape(t)}function p(t){return encodeURIComponent(t).replace(/[!'()*]/g,l).replace(/\*/g,"%2A")}function d(t){return function(e,n){return void 0===e?this._parts[t]||"":(this._parts[t]=e||null,this.build(!n),this)}}function _(t,e){return function(n,r){return void 0===n?this._parts[t]||"":(null!==n&&(n+="",n.charAt(0)===e&&(n=n.substring(1))),this._parts[t]=n,this.build(!r),this)}}var b=r&&r.URI;o.version="1.18.4";var v=o.prototype,y=Object.prototype.hasOwnProperty;o._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:o.duplicateQueryParameters,escapeQuerySpace:o.escapeQuerySpace}},o.duplicateQueryParameters=!1,o.escapeQuerySpace=!0,o.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,o.idn_expression=/[^a-z0-9\.-]/i,o.punycode_expression=/(xn--)/i,o.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,o.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?]))/gi,o.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},o.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},o.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,o.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},o.getDomAttribute=function(t){if(t&&t.nodeName){var e=t.nodeName.toLowerCase();if("input"!==e||"image"===t.type)return o.domAttributes[e]}},o.encode=p,o.decode=decodeURIComponent,o.iso8859=function(){o.encode=escape,o.decode=unescape},o.unicode=function(){o.encode=p,o.decode=decodeURIComponent},o.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},o.encodeQuery=function(t,e){var n=o.encode(t+"");return void 0===e&&(e=o.escapeQuerySpace),e?n.replace(/%20/g,"+"):n},o.decodeQuery=function(t,e){t+="",void 0===e&&(e=o.escapeQuerySpace);try{return o.decode(e?t.replace(/\+/g,"%20"):t)}catch(n){return t}};var m,g={encode:"encode",decode:"decode"},w=function(t,e){return function(n){try{return o[e](n+"").replace(o.characters[t][e].expression,function(n){return o.characters[t][e].map[n]})}catch(r){return n}}};for(m in g)o[m+"PathSegment"]=w("pathname",g[m]),o[m+"UrnPathSegment"]=w("urnpath",g[m]);var x=function(t,e,n){return function(r){var i;i=n?function(t){return o[e](o[n](t))}:o[e];for(var s=(r+"").split(t),u=0,c=s.length;u<c;u++)s[u]=i(s[u]);return s.join(t)}};o.decodePath=x("/","decodePathSegment"),o.decodeUrnPath=x(":","decodeUrnPathSegment"),o.recodePath=x("/","encodePathSegment","decode"),o.recodeUrnPath=x(":","encodeUrnPathSegment","decode"),o.encodeReserved=w("reserved","encode"),o.parse=function(t,e){var n;return e||(e={}),n=t.indexOf("#"),n>-1&&(e.fragment=t.substring(n+1)||null,t=t.substring(0,n)),n=t.indexOf("?"),n>-1&&(e.query=t.substring(n+1)||null,t=t.substring(0,n)),"//"===t.substring(0,2)?(e.protocol=null,t=t.substring(2),t=o.parseAuthority(t,e)):(n=t.indexOf(":"),n>-1&&(e.protocol=t.substring(0,n)||null,e.protocol&&!e.protocol.match(o.protocol_expression)?e.protocol=void 0:"//"===t.substring(n+1,n+3)?(t=t.substring(n+3),t=o.parseAuthority(t,e)):(t=t.substring(n+1),e.urn=!0))),e.path=t,e},o.parseHost=function(t,e){t=t.replace(/\\/g,"/");var n,r,o=t.indexOf("/");if(o===-1&&(o=t.length),"["===t.charAt(0))n=t.indexOf("]"),e.hostname=t.substring(1,n)||null,e.port=t.substring(n+2,o)||null,"/"===e.port&&(e.port=null);else{var i=t.indexOf(":"),s=t.indexOf("/"),u=t.indexOf(":",i+1);u!==-1&&(s===-1||u<s)?(e.hostname=t.substring(0,o)||null,e.port=null):(r=t.substring(0,o).split(":"),e.hostname=r[0]||null,e.port=r[1]||null)}return e.hostname&&"/"!==t.substring(o).charAt(0)&&(o++,t="/"+t),t.substring(o)||"/"},o.parseAuthority=function(t,e){return t=o.parseUserinfo(t,e),o.parseHost(t,e)},o.parseUserinfo=function(t,e){var n,r=t.indexOf("/"),i=t.lastIndexOf("@",r>-1?r:t.length-1);return i>-1&&(r===-1||i<r)?(n=t.substring(0,i).split(":"),e.username=n[0]?o.decode(n[0]):null,n.shift(),e.password=n[0]?o.decode(n.join(":")):null,t=t.substring(i+1)):(e.username=null,e.password=null),t},o.parseQuery=function(t,e){if(!t)return{};if(t=t.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!t)return{};for(var n,r,i,s={},u=t.split("&"),c=u.length,a=0;a<c;a++)n=u[a].split("="),r=o.decodeQuery(n.shift(),e),i=n.length?o.decodeQuery(n.join("="),e):null,y.call(s,r)?("string"!=typeof s[r]&&null!==s[r]||(s[r]=[s[r]]),s[r].push(i)):s[r]=i;return s},o.build=function(t){var e="";return t.protocol&&(e+=t.protocol+":"),t.urn||!e&&!t.hostname||(e+="//"),e+=o.buildAuthority(t)||"","string"==typeof t.path&&("/"!==t.path.charAt(0)&&"string"==typeof t.hostname&&(e+="/"),e+=t.path),"string"==typeof t.query&&t.query&&(e+="?"+t.query),"string"==typeof t.fragment&&t.fragment&&(e+="#"+t.fragment),e},o.buildHost=function(t){var e="";return t.hostname?(e+=o.ip6_expression.test(t.hostname)?"["+t.hostname+"]":t.hostname,t.port&&(e+=":"+t.port),e):""},o.buildAuthority=function(t){return o.buildUserinfo(t)+o.buildHost(t)},o.buildUserinfo=function(t){var e="";return t.username&&(e+=o.encode(t.username)),t.password&&(e+=":"+o.encode(t.password)),e&&(e+="@"),e},o.buildQuery=function(t,e,n){var r,i,s,c,a="";for(i in t)if(y.call(t,i)&&i)if(u(t[i]))for(r={},s=0,c=t[i].length;s<c;s++)void 0!==t[i][s]&&void 0===r[t[i][s]+""]&&(a+="&"+o.buildQueryParameter(i,t[i][s],n),e!==!0&&(r[t[i][s]+""]=!0));else void 0!==t[i]&&(a+="&"+o.buildQueryParameter(i,t[i],n));return a.substring(1)},o.buildQueryParameter=function(t,e,n){return o.encodeQuery(t,n)+(null!==e?"="+o.encodeQuery(e,n):"")},o.addQuery=function(t,e,n){if("object"==typeof e)for(var r in e)y.call(e,r)&&o.addQuery(t,r,e[r]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===t[e])return void(t[e]=n);"string"==typeof t[e]&&(t[e]=[t[e]]),u(n)||(n=[n]),t[e]=(t[e]||[]).concat(n)}},o.removeQuery=function(t,e,n){var r,i,a;if(u(e))for(r=0,i=e.length;r<i;r++)t[e[r]]=void 0;else if("RegExp"===s(e))for(a in t)e.test(a)&&(t[a]=void 0);else if("object"==typeof e)for(a in e)y.call(e,a)&&o.removeQuery(t,a,e[a]);else{if("string"!=typeof e)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==n?"RegExp"===s(n)?!u(t[e])&&n.test(t[e])?t[e]=void 0:t[e]=c(t[e],n):t[e]!==String(n)||u(n)&&1!==n.length?u(t[e])&&(t[e]=c(t[e],n)):t[e]=void 0:t[e]=void 0}},o.hasQuery=function(t,e,n,r){switch(s(e)){case"String":break;case"RegExp":for(var i in t)if(y.call(t,i)&&e.test(i)&&(void 0===n||o.hasQuery(t,i,n)))return!0;return!1;case"Object":for(var c in e)if(y.call(e,c)&&!o.hasQuery(t,c,e[c]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(s(n)){case"Undefined":return e in t;case"Boolean":var f=Boolean(u(t[e])?t[e].length:t[e]);return n===f;case"Function":return!!n(t[e],e,t);case"Array":if(!u(t[e]))return!1;var l=r?a:h;return l(t[e],n);case"RegExp":return u(t[e])?!!r&&a(t[e],n):Boolean(t[e]&&t[e].match(n));case"Number":n=String(n);case"String":return u(t[e])?!!r&&a(t[e],n):t[e]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},o.joinPaths=function(){for(var t=[],e=[],n=0,r=0;r<arguments.length;r++){var i=new o(arguments[r]);t.push(i);for(var s=i.segment(),u=0;u<s.length;u++)"string"==typeof s[u]&&e.push(s[u]),s[u]&&n++}if(!e.length||!n)return new o("");var c=new o("").segment(e);return""!==t[0].path()&&"/"!==t[0].path().slice(0,1)||c.path("/"+c.path()),c.normalize()},o.commonPath=function(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n++)if(t.charAt(n)!==e.charAt(n)){n--;break}return n<1?t.charAt(0)===e.charAt(0)&&"/"===t.charAt(0)?"/":"":("/"===t.charAt(n)&&"/"===e.charAt(n)||(n=t.substring(0,n).lastIndexOf("/")),t.substring(0,n+1))},o.withinString=function(t,e,n){n||(n={});var r=n.start||o.findUri.start,i=n.end||o.findUri.end,s=n.trim||o.findUri.trim,u=n.parens||o.findUri.parens,c=/[a-z0-9-]=["']?$/i;for(r.lastIndex=0;;){var a=r.exec(t);if(!a)break;var h=a.index;if(n.ignoreHtml){var f=t.slice(Math.max(h-3,0),h);if(f&&c.test(f))continue}for(var l=h+t.slice(h).search(i),p=t.slice(h,l),d=-1;;){var _=u.exec(p);if(!_)break;var b=_.index+_[0].length;d=Math.max(d,b)}if(p=d>-1?p.slice(0,d)+p.slice(d+1).replace(s,""):p.replace(s,""),!n.ignore||!n.ignore.test(p)){l=h+p.length;var v=e(p,h,l,t);void 0!==v?(v=String(v),t=t.slice(0,h)+v+t.slice(l),r.lastIndex=h+v.length):r.lastIndex=l}}return r.lastIndex=0,t},o.ensureValidHostname=function(e){if(e.match(o.invalid_hostname_characters)){if(!t)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(t.toASCII(e).match(o.invalid_hostname_characters))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]')}},o.noConflict=function(t){if(t){var e={URI:this.noConflict()};return r.URITemplate&&"function"==typeof r.URITemplate.noConflict&&(e.URITemplate=r.URITemplate.noConflict()),r.IPv6&&"function"==typeof r.IPv6.noConflict&&(e.IPv6=r.IPv6.noConflict()),r.SecondLevelDomains&&"function"==typeof r.SecondLevelDomains.noConflict&&(e.SecondLevelDomains=r.SecondLevelDomains.noConflict()),e}return r.URI===this&&(r.URI=b),this},v.build=function(t){return t===!0?this._deferred_build=!0:(void 0===t||this._deferred_build)&&(this._string=o.build(this._parts),this._deferred_build=!1),this},v.clone=function(){return new o(this)},v.valueOf=v.toString=function(){return this.build(!1)._string},v.protocol=d("protocol"),v.username=d("username"),v.password=d("password"),v.hostname=d("hostname"),v.port=d("port"),v.query=_("query","?"),v.fragment=_("fragment","#"),v.search=function(t,e){var n=this.query(t,e);return"string"==typeof n&&n.length?"?"+n:n},v.hash=function(t,e){var n=this.fragment(t,e);return"string"==typeof n&&n.length?"#"+n:n},v.pathname=function(t,e){if(void 0===t||t===!0){var n=this._parts.path||(this._parts.hostname?"/":"");return t?(this._parts.urn?o.decodeUrnPath:o.decodePath)(n):n}return this._parts.urn?this._parts.path=t?o.recodeUrnPath(t):"":this._parts.path=t?o.recodePath(t):"/",this.build(!e),this},v.path=v.pathname,v.href=function(t,e){var n;if(void 0===t)return this.toString();this._string="",this._parts=o._parts();var r=t instanceof o,i="object"==typeof t&&(t.hostname||t.path||t.pathname);if(t.nodeName){var s=o.getDomAttribute(t);t=t[s]||"",i=!1}if(!r&&i&&void 0!==t.pathname&&(t=t.toString()),"string"==typeof t||t instanceof String)this._parts=o.parse(String(t),this._parts);else{if(!r&&!i)throw new TypeError("invalid input");var u=r?t._parts:t;for(n in u)y.call(this._parts,n)&&(this._parts[n]=u[n])}return this.build(!e),this},v.is=function(t){var e=!1,r=!1,i=!1,s=!1,u=!1,c=!1,a=!1,h=!this._parts.urn;switch(this._parts.hostname&&(h=!1,r=o.ip4_expression.test(this._parts.hostname),i=o.ip6_expression.test(this._parts.hostname),e=r||i,s=!e,u=s&&n&&n.has(this._parts.hostname),c=s&&o.idn_expression.test(this._parts.hostname),a=s&&o.punycode_expression.test(this._parts.hostname)),t.toLowerCase()){case"relative":return h;case"absolute":return!h;case"domain":case"name":return s;case"sld":return u;case"ip":return e;case"ip4":case"ipv4":case"inet4":return r;case"ip6":case"ipv6":case"inet6":return i;case"idn":return c;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return a}return null};var j=v.protocol,E=v.port,C=v.hostname;v.protocol=function(t,e){if(void 0!==t&&t&&(t=t.replace(/:(\/\/)?$/,""),!t.match(o.protocol_expression)))throw new TypeError('Protocol "'+t+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return j.call(this,t,e)},v.scheme=v.protocol,v.port=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t&&(0===t&&(t=null),t&&(t+="",":"===t.charAt(0)&&(t=t.substring(1)),t.match(/[^0-9]/))))throw new TypeError('Port "'+t+'" contains characters other than [0-9]');return E.call(this,t,e)},v.hostname=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t){var n={},r=o.parseHost(t,n);if("/"!==r)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');t=n.hostname}return C.call(this,t,e)},v.origin=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){var n=this.protocol(),r=this.authority();return r?(n?n+"://":"")+this.authority():""}var i=o(t);return this.protocol(i.protocol()).authority(i.authority()).build(!e),this},v.host=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t)return this._parts.hostname?o.buildHost(this._parts):"";var n=o.parseHost(t,this._parts);if("/"!==n)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');return this.build(!e),this},v.authority=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t)return this._parts.hostname?o.buildAuthority(this._parts):"";var n=o.parseAuthority(t,this._parts);if("/"!==n)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');return this.build(!e),this},v.userinfo=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){var n=o.buildUserinfo(this._parts);return n?n.substring(0,n.length-1):n}return"@"!==t[t.length-1]&&(t+="@"),o.parseUserinfo(t,this._parts),this.build(!e),this},v.resource=function(t,e){var n;return void 0===t?this.path()+this.search()+this.hash():(n=o.parse(t),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!e),this)},v.subdomain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}var r=this._parts.hostname.length-this.domain().length,s=this._parts.hostname.substring(0,r),u=new RegExp("^"+i(s));return t&&"."!==t.charAt(t.length-1)&&(t+="."),t&&o.ensureValidHostname(t),this._parts.hostname=this._parts.hostname.replace(u,t),this.build(!e),this},v.domain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);if(n&&n.length<2)return this._parts.hostname;var r=this._parts.hostname.length-this.tld(e).length-1;return r=this._parts.hostname.lastIndexOf(".",r-1)+1,this._parts.hostname.substring(r)||""}if(!t)throw new TypeError("cannot set domain empty");if(o.ensureValidHostname(t),!this._parts.hostname||this.is("IP"))this._parts.hostname=t;else{var s=new RegExp(i(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(s,t)}return this.build(!e),this},v.tld=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.lastIndexOf("."),o=this._parts.hostname.substring(r+1);return e!==!0&&n&&n.list[o.toLowerCase()]?n.get(this._parts.hostname)||o:o}var s;if(!t)throw new TypeError("cannot set TLD empty");if(t.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(t))throw new TypeError('TLD "'+t+'" contains characters other than [A-Z0-9]');s=new RegExp(i(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(s,t)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");s=new RegExp(i(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(s,t)}return this.build(!e),this},v.directory=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1,r=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return t?o.decodePath(r):r}var s=this._parts.path.length-this.filename().length,u=this._parts.path.substring(0,s),c=new RegExp("^"+i(u));return this.is("relative")||(t||(t="/"),"/"!==t.charAt(0)&&(t="/"+t)),t&&"/"!==t.charAt(t.length-1)&&(t+="/"),t=o.recodePath(t),this._parts.path=this._parts.path.replace(c,t),this.build(!e),this},v.filename=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/"),r=this._parts.path.substring(n+1);return t?o.decodePathSegment(r):r}var s=!1;"/"===t.charAt(0)&&(t=t.substring(1)),t.match(/\.?\//)&&(s=!0);var u=new RegExp(i(this.filename())+"$");return t=o.recodePath(t),this._parts.path=this._parts.path.replace(u,t),s?this.normalizePath(e):this.build(!e),this},v.suffix=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this._parts.path||"/"===this._parts.path)return"";var n,r,s=this.filename(),u=s.lastIndexOf(".");return u===-1?"":(n=s.substring(u+1),r=/^[a-z0-9%]+$/i.test(n)?n:"",t?o.decodePathSegment(r):r)}"."===t.charAt(0)&&(t=t.substring(1));var c,a=this.suffix();if(a)c=t?new RegExp(i(a)+"$"):new RegExp(i("."+a)+"$");else{if(!t)return this;this._parts.path+="."+o.recodePath(t)}return c&&(t=o.recodePath(t),this._parts.path=this._parts.path.replace(c,t)),this.build(!e),this},v.segment=function(t,e,n){var r=this._parts.urn?":":"/",o=this.path(),i="/"===o.substring(0,1),s=o.split(r);if(void 0!==t&&"number"!=typeof t&&(n=e,e=t,t=void 0),void 0!==t&&"number"!=typeof t)throw new Error('Bad segment "'+t+'", must be 0-based integer');if(i&&s.shift(),t<0&&(t=Math.max(s.length+t,0)),void 0===e)return void 0===t?s:s[t];if(null===t||void 0===s[t])if(u(e)){s=[];for(var c=0,a=e.length;c<a;c++)(e[c].length||s.length&&s[s.length-1].length)&&(s.length&&!s[s.length-1].length&&s.pop(),s.push(f(e[c])))}else(e||"string"==typeof e)&&(e=f(e),""===s[s.length-1]?s[s.length-1]=e:s.push(e));else e?s[t]=f(e):s.splice(t,1);return i&&s.unshift(""),this.path(s.join(r),n)},v.segmentCoded=function(t,e,n){var r,i,s;if("number"!=typeof t&&(n=e,e=t,t=void 0),void 0===e){if(r=this.segment(t,e,n),u(r))for(i=0,s=r.length;i<s;i++)r[i]=o.decode(r[i]);else r=void 0!==r?o.decode(r):void 0;return r}if(u(e))for(i=0,s=e.length;i<s;i++)e[i]=o.encode(e[i]);else e="string"==typeof e||e instanceof String?o.encode(e):e;return this.segment(t,e,n)};var k=v.query;return v.query=function(t,e){if(t===!0)return o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof t){var n=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace),r=t.call(this,n);return this._parts.query=o.buildQuery(r||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this}return void 0!==t&&"string"!=typeof t?(this._parts.query=o.buildQuery(t,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this):k.call(this,t,e)},v.setQuery=function(t,e,n){var r=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof t||t instanceof String)r[t]=void 0!==e?e:null;else{if("object"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var i in t)y.call(t,i)&&(r[i]=t[i])}return this._parts.query=o.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(n=e),this.build(!n),this},v.addQuery=function(t,e,n){var r=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.addQuery(r,t,void 0===e?null:e),this._parts.query=o.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(n=e),this.build(!n),this},v.removeQuery=function(t,e,n){var r=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.removeQuery(r,t,e),this._parts.query=o.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(n=e),this.build(!n),this},v.hasQuery=function(t,e,n){var r=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.hasQuery(r,t,e,n)},v.setSearch=v.setQuery,v.addSearch=v.addQuery,v.removeSearch=v.removeQuery,v.hasSearch=v.hasQuery,v.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},v.normalizeProtocol=function(t){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!t)),this},v.normalizeHostname=function(n){return this._parts.hostname&&(this.is("IDN")&&t?this._parts.hostname=t.toASCII(this._parts.hostname):this.is("IPv6")&&e&&(this._parts.hostname=e.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n)),this},v.normalizePort=function(t){return"string"==typeof this._parts.protocol&&this._parts.port===o.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!t)),this},v.normalizePath=function(t){var e=this._parts.path;if(!e)return this;if(this._parts.urn)return this._parts.path=o.recodeUrnPath(this._parts.path),this.build(!t),this;if("/"===this._parts.path)return this;e=o.recodePath(e);var n,r,i,s="";for("/"!==e.charAt(0)&&(n=!0,e="/"+e),"/.."!==e.slice(-3)&&"/."!==e.slice(-2)||(e+="/"),e=e.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),n&&(s=e.substring(1).match(/^(\.\.\/)+/)||"",s&&(s=s[0]));;){if(r=e.search(/\/\.\.(\/|$)/),r===-1)break;0!==r?(i=e.substring(0,r).lastIndexOf("/"),i===-1&&(i=r),e=e.substring(0,i)+e.substring(r+3)):e=e.substring(3)}return n&&this.is("relative")&&(e=s+e.substring(1)),this._parts.path=e,this.build(!t),this},v.normalizePathname=v.normalizePath,v.normalizeQuery=function(t){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(o.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!t)),this},v.normalizeFragment=function(t){return this._parts.fragment||(this._parts.fragment=null,this.build(!t)),this},v.normalizeSearch=v.normalizeQuery,v.normalizeHash=v.normalizeFragment,v.iso8859=function(){var t=o.encode,e=o.decode;o.encode=escape,o.decode=decodeURIComponent;try{this.normalize()}finally{o.encode=t,o.decode=e}return this},v.unicode=function(){var t=o.encode,e=o.decode;o.encode=p,o.decode=unescape;try{this.normalize()}finally{o.encode=t,o.decode=e}return this},v.readable=function(){var e=this.clone();e.username("").password("").normalize();var n="";if(e._parts.protocol&&(n+=e._parts.protocol+"://"),e._parts.hostname&&(e.is("punycode")&&t?(n+=t.toUnicode(e._parts.hostname),e._parts.port&&(n+=":"+e._parts.port)):n+=e.host()),e._parts.hostname&&e._parts.path&&"/"!==e._parts.path.charAt(0)&&(n+="/"),n+=e.path(!0),e._parts.query){for(var r="",i=0,s=e._parts.query.split("&"),u=s.length;i<u;i++){var c=(s[i]||"").split("=");r+="&"+o.decodeQuery(c[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==c[1]&&(r+="="+o.decodeQuery(c[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}n+="?"+r.substring(1)}return n+=o.decodeQuery(e.hash(),!0)},v.absoluteTo=function(t){var e,n,r,i=this.clone(),s=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t instanceof o||(t=new o(t)),i._parts.protocol||(i._parts.protocol=t._parts.protocol),this._parts.hostname)return i;for(n=0;r=s[n];n++)i._parts[r]=t._parts[r];return i._parts.path?(".."===i._parts.path.substring(-2)&&(i._parts.path+="/"),"/"!==i.path().charAt(0)&&(e=t.directory(),e=e?e:0===t.path().indexOf("/")?"/":"",i._parts.path=(e?e+"/":"")+i._parts.path,i.normalizePath())):(i._parts.path=t._parts.path,i._parts.query||(i._parts.query=t._parts.query)),i.build(),i},v.relativeTo=function(t){var e,n,r,i,s,u=this.clone().normalize();if(u._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t=new o(t).normalize(),e=u._parts,n=t._parts,i=u.path(),s=t.path(),"/"!==i.charAt(0))throw new Error("URI is already relative");if("/"!==s.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(e.protocol===n.protocol&&(e.protocol=null),e.username!==n.username||e.password!==n.password)return u.build();if(null!==e.protocol||null!==e.username||null!==e.password)return u.build();if(e.hostname!==n.hostname||e.port!==n.port)return u.build();if(e.hostname=null,e.port=null,i===s)return e.path="",u.build();if(r=o.commonPath(i,s),!r)return u.build();var c=n.path.substring(r.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return e.path=c+e.path.substring(r.length)||"./",u.build()},v.equals=function(t){var e,n,r,i=this.clone(),s=new o(t),c={},a={},f={};if(i.normalize(),s.normalize(),i.toString()===s.toString())return!0;if(e=i.query(),n=s.query(),i.query(""),s.query(""),i.toString()!==s.toString())return!1;if(e.length!==n.length)return!1;c=o.parseQuery(e,this._parts.escapeQuerySpace),a=o.parseQuery(n,this._parts.escapeQuerySpace);for(r in c)if(y.call(c,r)){if(u(c[r])){if(!h(c[r],a[r]))return!1}else if(c[r]!==a[r])return!1;f[r]=!0}for(r in a)if(y.call(a,r)&&!f[r])return!1;return!0},v.duplicateQueryParameters=function(t){return this._parts.duplicateQueryParameters=!!t,this},v.escapeQuerySpace=function(t){return this._parts.escapeQuerySpace=!!t,this},o})},{"./IPv6":5,"./SecondLevelDomains":6,
"./punycode":8}],8:[function(e,n,r){(function(e){!function(o){function i(t){throw new RangeError(R[t])}function s(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function u(t,e){var n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(q,".");var o=t.split("."),i=s(o,e).join(".");return r+i}function c(t){for(var e,n,r=[],o=0,i=t.length;o<i;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<i?(n=t.charCodeAt(o++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--)):r.push(e);return r}function a(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=F(t>>>10&1023|55296),t=56320|1023&t),e+=F(t)}).join("")}function h(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:j}function f(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function l(t,e,n){var r=0;for(t=n?T(t/O):t>>1,t+=T(t/e);t>M*C>>1;r+=j)t=T(t/M);return T(r+(M+1)*t/(t+k))}function p(t){var e,n,r,o,s,u,c,f,p,d,_=[],b=t.length,v=0,y=A,m=S;for(n=t.lastIndexOf(N),n<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&i("not-basic"),_.push(t.charCodeAt(r));for(o=n>0?n+1:0;o<b;){for(s=v,u=1,c=j;o>=b&&i("invalid-input"),f=h(t.charCodeAt(o++)),(f>=j||f>T((x-v)/u))&&i("overflow"),v+=f*u,p=c<=m?E:c>=m+C?C:c-m,!(f<p);c+=j)d=j-p,u>T(x/d)&&i("overflow"),u*=d;e=_.length+1,m=l(v-s,e,0==s),T(v/e)>x-y&&i("overflow"),y+=T(v/e),v%=e,_.splice(v++,0,y)}return a(_)}function d(t){var e,n,r,o,s,u,a,h,p,d,_,b,v,y,m,g=[];for(t=c(t),b=t.length,e=A,n=0,s=S,u=0;u<b;++u)_=t[u],_<128&&g.push(F(_));for(r=o=g.length,o&&g.push(N);r<b;){for(a=x,u=0;u<b;++u)_=t[u],_>=e&&_<a&&(a=_);for(v=r+1,a-e>T((x-n)/v)&&i("overflow"),n+=(a-e)*v,e=a,u=0;u<b;++u)if(_=t[u],_<e&&++n>x&&i("overflow"),_==e){for(h=n,p=j;d=p<=s?E:p>=s+C?C:p-s,!(h<d);p+=j)m=h-d,y=j-d,g.push(F(f(d+m%y,0))),h=T(m/y);g.push(F(f(h,0))),s=l(n,v,r==o),n=0,++r}++n,++e}return g.join("")}function _(t){return u(t,function(t){return D.test(t)?p(t.slice(4).toLowerCase()):t})}function b(t){return u(t,function(t){return P.test(t)?"xn--"+d(t):t})}var v="object"==typeof r&&r&&!r.nodeType&&r,y="object"==typeof n&&n&&!n.nodeType&&n,m="object"==typeof e&&e;m.global!==m&&m.window!==m&&m.self!==m||(o=m);var g,w,x=2147483647,j=36,E=1,C=26,k=38,O=700,S=72,A=128,N="-",D=/^xn--/,P=/[^\x20-\x7E]/,q=/[\x2E\u3002\uFF0E\uFF61]/g,R={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=j-E,T=Math.floor,F=String.fromCharCode;if(g={version:"1.3.2",ucs2:{decode:c,encode:a},decode:p,encode:d,toASCII:b,toUnicode:_},"function"==typeof t&&"object"==typeof t.amd&&t.amd)t("punycode",function(){return g});else if(v&&y)if(n.exports==v)y.exports=g;else for(w in g)g.hasOwnProperty(w)&&(v[w]=g[w]);else o.punycode=g}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){window._miniBus=new a["default"],window._miniBus._onPostMessage=function(e){t.contentWindow.postMessage(JSON.parse(JSON.stringify(e)),"*")},window._registry=new u.SandboxRegistry(window._miniBus),window._registry._create=function(t,e,n){try{return eval.apply(window,[e]),activate(t,window._miniBus,n)}catch(r){throw console.error("[Context APP Create] - Error: ",r),JSON.stringify(r.message)}}}function i(t){if(!window._miniBus)throw new Error("App context not initialized");window._miniBus._onMessage(JSON.parse(JSON.stringify(t.data)))}function s(t){if(!window._registry)throw new Error("App context not initialized");return window._registry.components[t]}Object.defineProperty(n,"__esModule",{value:!0});var u=t("runtime-core/dist/sandbox"),c=t("runtime-core/dist/minibus"),a=r(c);n["default"]={init:o,onMessage:i,getHyperty:s}},{"runtime-core/dist/minibus":2,"runtime-core/dist/sandbox":3}],10:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=t("./RuntimeUAStub"),s=r(i),u=void 0;u=void 0!=("undefined"==typeof window?"undefined":o(window))&&null!=window?s["default"]:void 0,n["default"]=u},{"./RuntimeUAStub":11}],11:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var o=t("./ContextApp"),i=r(o),s=t("urijs"),u=r(s),c=t("./iframe"),a=t("rx"),h=r(a),f=function(t,e){return{runtimeHypertyURL:e.body.runtimeHypertyURL,status:e.body.status,instance:t.instance,name:t.name}},l=function(t,e){return{requireHyperty:function(n){return new Promise(function(r){e.filter(function(t){return t.data.to&&"runtime:loadedHyperty"===t.data.to}).subscribe(function(t){return r(f(i["default"].getHyperty(t.data.body.runtimeHypertyURL),t.data))}),t.postMessage({to:"core:loadHyperty",body:{descriptor:n}},"*")})},requireProtostub:function(e){t.postMessage({to:"core:loadStub",body:{domain:e}},"*")},close:function(){return new Promise(function(n){e.filter(function(t){return t.data.to&&"runtime:runtimeClosed"===t.data.to}).subscribe(function(t){return n(t.data.body)}),t.postMessage({to:"core:close",body:{}},"*")})}}},p={install:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.domain,r=e.runtimeURL,o=e.development;return new Promise(function(e){var s=t._getRuntime(r,n,o),u="https://"+s.domain+"/.well-known/runtime/core.js?runtime="+s.url+"&development="+o,a=new SharedWorker(u),f=h["default"].Observable.fromEvent(a.port,"message");a.port.start(),f.subscribe(function(t){return console.log("message",t)}),f.filter(function(t){return t.data.to&&"runtime:installed"===t.data.to}).subscribe(function(){return e(l(a.port,f))}),f.filter(function(t){return t.data.to&&"runtime:createSandboxWindow"===t.data.to}).subscribe(function(t){var e=(0,c.create)("https://"+s.domain+"/.well-known/runtime/sandbox.html");e.addEventListener("load",function(){e.contentWindow.postMessage(t.data,"*",t.ports)},!1)}),f.filter(function(t){return t.data.to&&!t.data.to.startsWith("runtime")}).subscribe(function(t){return i["default"].onMessage(t)})})},_getRuntime:function(t,e,n){return n?(t=t||"hyperty-catalogue://catalogue."+e+"/.well-known/runtime/Runtime",e=e||new u["default"](t).host()):(t=t||"https://catalogue."+e+"/.well-known/runtime/default",e=e||new u["default"](t).host().replace("catalogue.","")),{url:t,domain:e}}};n["default"]=p},{"./ContextApp":9,"./iframe":12,rx:4,urijs:7}],12:[function(t,e,n){"use strict";function r(t){var e=document.createElement("iframe");return e.setAttribute("id","rethink"),e.style.position="absolute",e.style.top="0",e.style.right="0",e.style.border="0",e.style.zIndex=9999,e.width="40px",e.height="40px",e.setAttribute("seamless",""),e.setAttribute("src",t),e.setAttribute("sandbox","allow-forms allow-scripts allow-popups-to-escape-sandbox allow-popups allow-same-origin allow-top-navigation"),e.style.display="block",document.querySelector("body").appendChild(e),e}Object.defineProperty(n,"__esModule",{value:!0}),n.create=r},{}]},{},[10])(10)});
//# sourceMappingURL=rethink.js.map
