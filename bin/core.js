!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.core=e()}}(function(){var t;return function r(e,t,n){function o(s,a){if(!t[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=t[s]={exports:{}};e[s][0].call(l.exports,function(t){var r=e[s][1][t];return o(r?r:t)},l,l.exports,r,e,t,n)}return t[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,r,n){(function(e){!function(e,o){"object"==typeof n&&"undefined"!=typeof r?r.exports=o():"function"==typeof t&&t.amd?t(o):e.Dexie=o()}(this,function(){"use strict";function t(e,t){return"object"!=typeof t?e:(Oe(t).forEach(function(r){e[r]=t[r]}),e)}function r(e,t){return Ce.call(e,t)}function n(e,t){"function"==typeof t&&(t=t(Se(e))),Oe(t).forEach(function(r){o(e,r,t[r])})}function o(e,n,o,i){Object.defineProperty(e,n,t(o&&r(o,"get")&&"function"==typeof o.get?{get:o.get,set:o.set,configurable:!0}:{value:o,configurable:!0,writable:!0},i))}function i(e){return{from:function(t){return e.prototype=Object.create(t.prototype),o(e.prototype,"constructor",e),{extend:n.bind(null,e.prototype)}}}}function s(e,t){var r,n=Me(e,t);return n||(r=Se(e))&&s(r,t)}function a(e,t,r){return Te.call(e,t,r)}function u(e,t){return t(e)}function c(e){var t=setTimeout(e,1e3);clearTimeout(t)}function l(e){if(!e)throw new Error("Assertion Failed")}function f(e){Ee.setImmediate?setImmediate(e):setTimeout(e,0)}function p(e,t){return e.reduce(function(e,r,n){var o=t(r,n);return o&&(e[o[0]]=o[1]),e},{})}function d(e,t){return function(){try{e.apply(this,arguments)}catch(r){t(r)}}}function h(e,t,r){try{e.apply(null,r)}catch(n){t&&t(n)}}function y(e,t){if(r(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],o=0,i=t.length;o<i;++o){var s=y(e,t[o]);n.push(s)}return n}var a=t.indexOf(".");if(a!==-1){var u=e[t.substr(0,a)];return void 0===u?void 0:y(u,t.substr(a+1))}}function _(e,t,r){if(e&&void 0!==t&&!("isFrozen"in Object&&Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){l("string"!=typeof r&&"length"in r);for(var n=0,o=t.length;n<o;++n)_(e,t[n],r[n])}else{var i=t.indexOf(".");if(i!==-1){var s=t.substr(0,i),a=t.substr(i+1);if(""===a)void 0===r?delete e[s]:e[s]=r;else{var u=e[s];u||(u=e[s]={}),_(u,a,r)}}else void 0===r?delete e[t]:e[t]=r}}function m(e,t){"string"==typeof t?_(e,t,void 0):"length"in t&&[].map.call(t,function(t){_(e,t,void 0)})}function b(e){var t={};for(var n in e)r(e,n)&&(t[n]=e[n]);return t}function v(e){if(!e||"object"!=typeof e)return e;var t;if(Pe(e)){t=[];for(var n=0,o=e.length;n<o;++n)t.push(v(e[n]))}else if(e instanceof Date)t=new Date,t.setTime(e.getTime());else{t=e.constructor?Object.create(e.constructor.prototype):{};for(var i in e)r(e,i)&&(t[i]=v(e[i]))}return t}function g(e,t,n,o){return n=n||{},o=o||"",Oe(e).forEach(function(i){if(r(t,i)){var s=e[i],a=t[i];"object"==typeof s&&"object"==typeof a&&s&&a&&s.constructor===a.constructor?g(s,a,n,o+i+"."):s!==a&&(n[o+i]=t[i])}else n[o+i]=void 0}),Oe(t).forEach(function(i){r(e,i)||(n[o+i]=t[i])}),n}function w(e){var t,r,n,o;if(1===arguments.length){if(Pe(e))return e.slice();if(this===Ae&&"string"==typeof e)return[e];if(o=Ie(e)){for(r=[];n=o.next(),!n.done;)r.push(n.value);return r}if(null==e)return[e];if(t=e.length,"number"==typeof t){for(r=new Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}function k(e){return Ne.apply([],e)}function j(){}function x(e){return e}function O(e,t){return null==e||e===x?t:function(r){return t(e(r))}}function P(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function E(e,t){return e===j?t:function(){var r=e.apply(this,arguments);void 0!==r&&(arguments[0]=r);var n=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?P(n,this.onsuccess):n),o&&(this.onerror=this.onerror?P(o,this.onerror):o),void 0!==i?i:r}}function S(e,t){return e===j?t:function(){e.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?P(r,this.onsuccess):r),n&&(this.onerror=this.onerror?P(n,this.onerror):n)}}function C(e,r){return e===j?r:function(n){var o=e.apply(this,arguments);t(n,o);var i=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var a=r.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?P(i,this.onsuccess):i),s&&(this.onerror=this.onerror?P(s,this.onerror):s),void 0===o?void 0===a?void 0:a:t(o,a)}}function M(e,t){return e===j?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function T(e,t){return e===j?t:function(){var r=e.apply(this,arguments);if(r&&"function"==typeof r.then){for(var n=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return r.then(function(){return t.apply(n,i)})}return t.apply(this,arguments)}}function R(e,t){De=e,Ue=t}function I(){if(Fe)try{throw I.arguments,new Error}catch(e){return e}return new Error}function A(e,t){var r=e.stack;return r?(t=t||0,0===r.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),r.split("\n").slice(t).filter(Ue).map(function(e){return"\n"+e}).join("")):""}function N(e,t){return function(){return console.warn(e+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+A(I(),1)),t.apply(this,arguments)}}function D(e,t){this._e=I(),this.name=e,this.message=t}function U(e,t){return e+". Errors: "+t.map(function(e){return e.toString()}).filter(function(e,t,r){return r.indexOf(e)===t}).join("\n")}function F(e,t,r,n){this._e=I(),this.failures=t,this.failedKeys=n,this.successCount=r}function L(e,t){this._e=I(),this.name="BulkError",this.failures=t,this.message=U(e,t)}function $(e,t){if(!e||e instanceof D||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Ge[e.name])return e;var r=new Ge[e.name](t||e.message,e);return"stack"in e&&o(r,"stack",{get:function(){return this.inner.stack}}),r}function z(e){function t(e,t,i){if("object"==typeof e)return r(e);t||(t=M),i||(i=j);var s={subscribers:[],fire:i,subscribe:function(e){s.subscribers.indexOf(e)===-1&&(s.subscribers.push(e),s.fire=t(s.fire,e))},unsubscribe:function(e){s.subscribers=s.subscribers.filter(function(t){return t!==e}),s.fire=s.subscribers.reduce(t,i)}};return n[e]=o[e]=s,s}function r(e){Oe(e).forEach(function(r){var n=e[r];if(Pe(n))t(r,e[r][0],e[r][1]);else{if("asap"!==n)throw new qe.InvalidArgument("Invalid event config");var o=t(r,x,function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];o.subscribers.forEach(function(e){f(function(){e.apply(null,t)})})})}})}var n={},o=function(t,r){if(r){for(var o=arguments.length,i=new Array(o-1);--o;)i[o-1]=arguments[o];return n[t].subscribe.apply(null,i),e}if("string"==typeof t)return n[t]};o.addEventType=t;for(var i=1,s=arguments.length;i<s;++i)t(arguments[i]);return o}function B(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=j,this._lib=!1;var t=this._PSD=at;if(De&&(this._stackHolder=I(),this._prev=null,this._numPrev=0,V(this,ot)),"function"!=typeof e){if(e!==We)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&q(this,this._value))}this._state=null,this._value=null,++t.ref,K(this,e)}function H(e,t,r,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=r,this.reject=n,this.psd=at}function K(e,t){try{t(function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&X();t&&"function"==typeof t.then?K(e,function(e,r){t instanceof B?t._then(e,r):t.then(e,r)}):(e._state=!0,e._value=t,G(e)),r&&Z()}},q.bind(null,e))}catch(r){q(e,r)}}function q(e,t){if(nt.push(t),null===e._state){var r=e._lib&&X();t=it(t),e._state=!1,e._value=t,De&&null!==t&&"object"==typeof t&&!t._promise&&h(function(){var r=s(t,"stack");t._promise=e,o(t,"stack",{get:function(){return Je?r&&(r.get?r.get.apply(t):r.value):e.stack}})}),re(e),G(e),r&&Z()}}function G(e){var t=e._listeners;e._listeners=[];for(var r=0,n=t.length;r<n;++r)Q(e,t[r]);var o=e._PSD;--o.ref||o.finalize(),0===ct&&(++ct,Ze(function(){0===--ct&&ee()},[]))}function Q(e,t){if(null===e._state)return void e._listeners.push(t);var r=e._state?t.onFulfilled:t.onRejected;if(null===r)return(e._state?t.resolve:t.reject)(e._value);var n=t.psd;++n.ref,++ct,Ze(W,[r,e,t])}function W(e,t,r){var n=at,o=r.psd;try{o!==n&&(at=o),ot=t;var i,s=t._value;t._state?i=e(s):(nt.length&&(nt=[]),i=e(s),nt.indexOf(s)===-1&&ne(t)),r.resolve(i)}catch(a){r.reject(a)}finally{o!==n&&(at=n),ot=null,0===--ct&&ee(),--o.ref||o.finalize()}}function Y(e,t,r){if(t.length===r)return t;var n="";if(e._state===!1){var o,i,s=e._value;null!=s?(o=s.name||"Error",i=s.message||s,n=A(s,0)):(o=s,i=""),t.push(o+(i?": "+i:"")+n)}return De&&(n=A(e._stackHolder,2),n&&t.indexOf(n)===-1&&t.push(n),e._prev&&Y(e._prev,t,r)),t}function V(e,t){var r=t?t._numPrev+1:0;r<Ye&&(e._prev=t,e._numPrev=r)}function J(){X()&&Z()}function X(){var e=et;return et=!1,tt=!1,e}function Z(){var e,t,r;do for(;ut.length>0;)for(e=ut,ut=[],r=e.length,t=0;t<r;++t){var n=e[t];n[0].apply(null,n[1])}while(ut.length>0);et=!0,tt=!0}function ee(){var e=rt;rt=[],e.forEach(function(e){e._PSD.onunhandled.call(null,e._value,e)});for(var t=lt.slice(0),r=t.length;r;)t[--r]()}function te(e){function t(){e(),lt.splice(lt.indexOf(t),1)}lt.push(t),++ct,Ze(function(){0===--ct&&ee()},[])}function re(e){rt.some(function(t){return t._value===e._value})||rt.push(e)}function ne(e){for(var t=rt.length;t;)if(rt[--t]._value===e._value)return void rt.splice(t,1)}function oe(e){console.warn("Unhandled rejection: "+(e.stack||e))}function ie(e){return new B(We,(!1),e)}function se(e,t){var r=at;return function(){var n=X(),o=at;try{return o!==r&&(at=r),e.apply(this,arguments)}catch(i){t&&t(i)}finally{o!==r&&(at=o),n&&Z()}}}function ae(e,t,r,n){var o=at,i=Object.create(o);i.parent=o,i.ref=0,i.global=!1,++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=ue(i,e,t,r,n);return 0===i.ref&&i.finalize(),s}function ue(e,t,r,n,o){var i=at;try{return e!==i&&(at=e),t(r,n,o)}finally{e!==i&&(at=i)}}function ce(e,r){var n;try{n=r.onuncatched(e)}catch(o){}if(n!==!1)try{var i,s={promise:r,reason:e};if(Ee.document&&document.createEvent?(i=document.createEvent("Event"),i.initEvent(pt,!0,!0),t(i,s)):Ee.CustomEvent&&(i=new CustomEvent(pt,{detail:s}),t(i,s)),i&&Ee.dispatchEvent&&(dispatchEvent(i),!Ee.PromiseRejectionEvent&&Ee.onunhandledrejection))try{Ee.onunhandledrejection(i)}catch(a){}i.defaultPrevented||B.on.error.fire(e,r)}catch(o){}}function le(e,t){var r=B.reject(e);return t?r.uncaught(t):r}function fe(e,s){function f(){rt.on("versionchange",function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '"+rt.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+rt.name+"'. Closing db now to resume the delete request."),rt.close()}),rt.on("blocked",function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('"+rt.name+"') was blocked"):console.warn("Upgrade '"+rt.name+"' blocked by other connection holding version "+e.oldVersion/10)})}function m(e){this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function P(e,t,r){var n=rt._createTransaction(tt,We,Ge);n.create(t),n._completion["catch"](r);var o=n._reject.bind(n);ae(function(){at.trans=n,0===e?(Oe(Ge).forEach(function(e){A(t,e,Ge[e].primKey,Ge[e].indexes)}),B.follow(function(){return rt.on.populate.fire(n)})["catch"](o)):M(e,n,t)["catch"](o)})}function M(e,t,r){function n(){return o.length?B.resolve(o.shift()(t.idbtrans)).then(n):B.resolve()}var o=[],i=Qe.filter(function(t){return t._cfg.version===e})[0];if(!i)throw new qe.Upgrade("Dexie specification of currently installed DB version is missing");Ge=rt._dbSchema=i._cfg.dbschema;var s=!1,a=Qe.filter(function(t){return t._cfg.version>e});return a.forEach(function(e){o.push(function(){var n=Ge,o=e._cfg.dbschema;Re(n,r),Re(o,r),Ge=rt._dbSchema=o;var i=R(n,o);if(i.add.forEach(function(e){A(r,e[0],e[1].primKey,e[1].indexes)}),i.change.forEach(function(e){if(e.recreate)throw new qe.Upgrade("Not yet support for changing primary key");var t=r.objectStore(e.name);e.add.forEach(function(e){$(t,e)}),e.change.forEach(function(e){t.deleteIndex(e.name),$(t,e)}),e.del.forEach(function(e){t.deleteIndex(e)})}),e._cfg.contentUpgrade)return s=!0,B.follow(function(){e._cfg.contentUpgrade(t)})}),o.push(function(t){if(!s||!gt){var r=e._cfg.dbschema;U(r,t)}})}),n().then(function(){D(Ge,r)})}function R(e,t){var r={del:[],add:[],change:[]};for(var n in e)t[n]||r.del.push(n);for(n in t){var o=e[n],i=t[n];if(o){var s={name:n,def:i,recreate:!1,del:[],add:[],change:[]};if(o.primKey.src!==i.primKey.src)s.recreate=!0,r.change.push(s);else{var a=o.idxByName,u=i.idxByName;for(var c in a)u[c]||s.del.push(c);for(c in u){var l=a[c],f=u[c];l?l.src!==f.src&&s.change.push(f):s.add.push(f)}(s.del.length>0||s.add.length>0||s.change.length>0)&&r.change.push(s)}}else r.add.push([n,i])}return r}function A(e,t,r,n){var o=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach(function(e){$(o,e)}),o}function D(e,t){Oe(e).forEach(function(r){t.db.objectStoreNames.contains(r)||A(t,r,e[r].primKey,e[r].indexes)})}function U(e,t){for(var r=0;r<t.db.objectStoreNames.length;++r){var n=t.db.objectStoreNames[r];null==e[n]&&t.db.deleteObjectStore(n)}}function $(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function H(e){return rt.on.error.fire(e)}function K(e,t,r){if(Ze||at.letThrough){var n=rt._createTransaction(e,t,Ge);return n._promise(e,function(e,t){ae(function(){at.trans=n,r(e,t,n)})}).then(function(e){return n._completion.then(function(){return e})})}if(!Xe){if(!Be)return le(new qe.DatabaseClosed,H);rt.open()["catch"](j)}return nt.then(function(){return K(e,t,r)})}function q(e,t,r){this.name=e,this.schema=t,this.hook=Ye[e]?Ye[e].hook:z(null,{creating:[E,j],reading:[O,x],updating:[C,j],deleting:[S,j]}),this._collClass=r||J}function G(e,t,r){q.call(this,e,t,r||Z)}function Q(e,t,r){return(r?me:_e)(function(r){e.push(r),t&&t()})}function W(e,t,r,n,o){return new B(function(i,s){var a=r.length,u=a-1;if(0===a)return i();if(n){var c,l=me(s),f=ye(null);h(function(){for(var n=0;n<a;++n){c={onsuccess:null,onerror:null};var s=r[n];o.call(c,s[0],s[1],t);var p=e["delete"](s[0]);p._hookCtx=c,p.onerror=l,n===u?p.onsuccess=ye(i):p.onsuccess=f}},function(e){throw c.onerror&&c.onerror(e),e})}else for(var p=0;p<a;++p){var d=e["delete"](r[p]);d.onerror=se(_e(s)),p===u&&(d.onsuccess=se(function(){return i()}))}}).uncaught(H)}function Y(e,t,r,n){var o=this;this.db=rt,this.mode=e,this.storeNames=t,this.idbtrans=null,this.on=z(this,"complete","error","abort"),this.parent=n||null,this.active=!0,this._tables=null,this._reculock=0,this._blockedFuncs=[],this._psd=null,this._dbschema=r,this._resolve=null,this._reject=null,this._completion=new B(function(e,t){o._resolve=e,o._reject=t}).uncaught(H),this._completion.then(function(){o.on.complete.fire()},function(e){return o.on.error.fire(e),o.parent?o.parent._reject(e):o.active&&o.idbtrans&&o.idbtrans.abort(),o.active=!1,le(e)})}function V(e,t,r){this._ctx={table:e,index:":id"===t?null:t,collClass:e._collClass,or:r}}function J(e,t){var r=null,n=null;if(t)try{r=t()}catch(o){n=o}var i=e._ctx,s=i.table;this._ctx={table:s,index:i.index,isPrimKey:!i.index||s.schema.primKey.keyPath&&i.index===s.schema.primKey.name,range:r,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:n,or:i.or,valueMapper:s.hook.reading.fire}}function X(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Z(){J.apply(this,arguments)}function ee(e,t){return e._cfg.version-t._cfg.version}function te(e,t,r,n){t.forEach(function(t){var o=rt._tableFactory(r,n[t]);e.forEach(function(e){t in e||(e[t]=o)})})}function re(e){e.forEach(function(e){for(var t in e)e[t]instanceof q&&delete e[t]})}function ne(e,t,r,n,o,i){var s=i?function(e,t,n){return r(i(e),t,n)}:r,a=se(s,o);e.onerror||(e.onerror=_e(o)),t?e.onsuccess=d(function(){var r=e.result;if(r){var i=function(){r["continue"]()};t(r,function(e){i=e},n,o)&&a(r.value,r,function(e){i=e}),i()}else n()},o):e.onsuccess=d(function(){var t=e.result;if(t){var r=function(){t["continue"]()};a(t.value,t,function(e){r=e}),r()}else n()},o)}function oe(e){var t=[];return e.split(",").forEach(function(e){e=e.trim();var r=e.replace(/([&*]|\+\+)/g,""),n=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;t.push(new we(r,n||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),Pe(n),/\./.test(e)))}),t}function ie(e,t){return He.cmp(e,t)}function ue(e,t){return ie(e,t)<0?e:t}function ce(e,t){return ie(e,t)>0?e:t}function pe(e,t){return He.cmp(e,t)}function Ee(e,t){return He.cmp(t,e)}function Se(e,t){return e<t?-1:e===t?0:1}function Ce(e,t){return e>t?-1:e===t?0:1}function Me(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}function Te(){if(rt.verno=Ve.version/10,rt._dbSchema=Ge={},We=a(Ve.objectStoreNames,0),0!==We.length){var e=Ve.transaction(je(We),"readonly");We.forEach(function(t){for(var r=e.objectStore(t),n=r.keyPath,o=n&&"string"==typeof n&&n.indexOf(".")!==-1,i=new we(n,n||"",(!1),(!1),(!!r.autoIncrement),n&&"string"!=typeof n,o),s=[],a=0;a<r.indexNames.length;++a){var u=r.index(r.indexNames[a]);n=u.keyPath,o=n&&"string"==typeof n&&n.indexOf(".")!==-1;var c=new we(u.name,n,(!!u.unique),(!!u.multiEntry),(!1),n&&"string"!=typeof n,o);s.push(c)}Ge[t]=new ke(t,i,s,{})}),te([Ye,Y.prototype],Oe(Ge),tt,Ge)}}function Re(e,t){for(var r=t.db.objectStoreNames,n=0;n<r.length;++n){var o=r[n],i=t.objectStore(o);Fe="getAll"in i;for(var s=0;s<i.indexNames.length;++s){var u=i.indexNames[s],c=i.index(u).keyPath,l="string"==typeof c?c:"["+a(c).join("+")+"]";if(e[o]){var f=e[o].idxByName[l];f&&(f.name=u)}}}}function Ie(e){rt.on("blocked").fire(e),bt.filter(function(e){return e.name===rt.name&&e!==rt&&!e._vcFired}).map(function(t){return t.on("versionchange").fire(e)})}var Ne,Ue,Fe,Le=fe.dependencies,$e=t({addons:fe.addons,autoOpen:!0,indexedDB:Le.indexedDB,IDBKeyRange:Le.IDBKeyRange},s),ze=$e.addons,Be=$e.autoOpen,He=$e.indexedDB,Ke=$e.IDBKeyRange,Ge=this._dbSchema={},Qe=[],We=[],Ye={},Ve=null,Je=null,Xe=!1,Ze=!1,et="readonly",tt="readwrite",rt=this,nt=new B(function(e){Ne=e}),ot=new B(function(e,t){Ue=t}),it=!0,st=!!xe(He);this.version=function(e){if(Ve||Xe)throw new qe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=Qe.filter(function(t){return t._cfg.version===e})[0];return t?t:(t=new m(e),Qe.push(t),Qe.sort(ee),t)},t(m.prototype,{stores:function(e){this._cfg.storesSource=this._cfg.storesSource?t(this._cfg.storesSource,e):e;var r={};Qe.forEach(function(e){t(r,e._cfg.storesSource)});var n=this._cfg.dbschema={};return this._parseStoresSpec(r,n),Ge=rt._dbSchema=n,re([Ye,rt,Y.prototype]),te([Ye,rt,Y.prototype,this._cfg.tables],Oe(n),tt,n),We=Oe(n),this},upgrade:function(e){var t=this;return jt(function(){e(rt._createTransaction(tt,Oe(t._cfg.dbschema),t._cfg.dbschema))}),this._cfg.contentUpgrade=e,this},_parseStoresSpec:function(e,t){Oe(e).forEach(function(r){if(null!==e[r]){var n={},o=oe(e[r]),i=o.shift();if(i.multi)throw new qe.Schema("Primary key cannot be multi-valued");i.keyPath&&_(n,i.keyPath,i.auto?0:i.keyPath),o.forEach(function(e){if(e.auto)throw new qe.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new qe.Schema("Index must have a name and cannot be an empty string");_(n,e.keyPath,e.compound?e.keyPath.map(function(){return""}):"")}),t[r]=new ke(r,i,o,n)}})}}),this._allTables=Ye,this._tableFactory=function(e,t){return e===et?new q(t.name,t,J):new G(t.name,t)},this._createTransaction=function(e,t,r,n){return new Y(e,t,r,n)},this._whenReady=function(e){return new B(xt||Ze||at.letThrough?e:function(t,r){if(!Xe){if(!Be)return void r(new qe.DatabaseClosed);rt.open()["catch"](j)}nt.then(function(){e(t,r)})}).uncaught(H)},this.verno=0,this.open=function(){if(Xe||Ve)return nt.then(function(){return Je?le(Je,H):rt});De&&(ot._stackHolder=I()),Xe=!0,Je=null,Ze=!1;var t=Ne,r=null;return B.race([ot,new B(function(t,n){if(c(function(){return t()}),Qe.length>0&&(it=!1),!He)throw new qe.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var o=it?He.open(e):He.open(e,Math.round(10*rt.verno));if(!o)throw new qe.MissingAPI("IndexedDB API not available");o.onerror=se(_e(n)),o.onblocked=se(Ie),o.onupgradeneeded=se(function(t){if(r=o.transaction,it&&!rt._allowEmptyDB){o.onerror=be,r.abort(),o.result.close();var i=He.deleteDatabase(e);i.onsuccess=i.onerror=se(function(){n(new qe.NoSuchDatabase("Database "+e+" doesnt exist"))})}else{r.onerror=se(_e(n));var s=t.oldVersion>Math.pow(2,62)?0:t.oldVersion;P(s/10,r,n,o)}},n),o.onsuccess=se(function(){if(r=null,Ve=o.result,bt.push(rt),it)Te();else if(Ve.objectStoreNames.length>0)try{Re(Ge,Ve.transaction(je(Ve.objectStoreNames),et))}catch(n){}Ve.onversionchange=se(function(e){rt._vcFired=!0,rt.on("versionchange").fire(e)}),st||ve(function(t){if(t.indexOf(e)===-1)return t.push(e)}),t()},n)})]).then(function(){return fe.vip(rt.on.ready.fire)}).then(function(){return Xe=!1,rt})["catch"](function(e){try{r&&r.abort()}catch(t){}return Xe=!1,rt.close(),Je=e,le(Je,H)})["finally"](function(){Ze=!0,t()})},this.close=function(){var e=bt.indexOf(rt);if(e>=0&&bt.splice(e,1),Ve){try{Ve.close()}catch(t){}Ve=null}Be=!1,Je=new qe.DatabaseClosed,Xe&&Ue(Je),nt=new B(function(e){Ne=e}),ot=new B(function(e,t){Ue=t})},this["delete"]=function(){var t=arguments.length>0;return new B(function(r,n){function o(){rt.close();var t=He.deleteDatabase(e);t.onsuccess=se(function(){st||ve(function(t){var r=t.indexOf(e);if(r>=0)return t.splice(r,1)}),r()}),t.onerror=se(_e(n)),t.onblocked=Ie}if(t)throw new qe.InvalidArgument("Arguments not allowed in db.delete()");Xe?nt.then(o):o()}).uncaught(H)},this.backendDB=function(){return Ve},this.isOpen=function(){return null!==Ve},this.hasFailed=function(){return null!==Je},this.dynamicallyOpened=function(){return it},this.name=e,o(this,"tables",{get:function(){return Oe(Ye).map(function(e){return Ye[e]})}}),this.on=z(this,"error","populate","blocked","versionchange",{ready:[T,j]}),this.on.error.subscribe=N("Dexie.on.error",this.on.error.subscribe),this.on.error.unsubscribe=N("Dexie.on.error.unsubscribe",this.on.error.unsubscribe),this.on.ready.subscribe=u(this.on.ready.subscribe,function(e){return function(t,r){fe.vip(function(){Ze?(Je||B.resolve().then(t),r&&e(t)):(e(t),r||e(function n(){rt.on.ready.unsubscribe(t),rt.on.ready.unsubscribe(n)}))})}}),jt(function(){rt.on("populate").fire(rt._createTransaction(tt,We,Ge)),rt.on("error").fire(new Error)}),this.transaction=function(e,t,n){function o(t){var o=at;t(B.resolve().then(function(){return ae(function(){at.transless=at.transless||o;var t=rt._createTransaction(e,l,Ge,u);at.trans=t,u?t.idbtrans=u.idbtrans:t.create();var i=l.map(function(e){return Ye[e]});i.push(t);var s;return B.follow(function(){if(s=n.apply(t,i))if("function"==typeof s.next&&"function"==typeof s["throw"])s=ge(s);else if("function"==typeof s.then&&!r(s,"_PSD"))throw new qe.IncompatiblePromise("Incompatible Promise returned from transaction scope (read more at http://tinyurl.com/znyqjqc). Transaction scope: "+n.toString())}).uncaught(H).then(function(){return u&&t._resolve(),t._completion}).then(function(){return s})["catch"](function(e){return t._reject(e),le(e)})})}))}var i=arguments.length;if(i<2)throw new qe.InvalidArgument("Too few arguments");for(var s=new Array(i-1);--i;)s[i-1]=arguments[i];n=s.pop();var a=k(s),u=at.trans;u&&u.db===rt&&e.indexOf("!")===-1||(u=null);var c=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");try{var l=a.map(function(e){var t=e instanceof q?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t});if("r"==e||e==et)e=et;else{if("rw"!=e&&e!=tt)throw new qe.InvalidArgument("Invalid transaction mode: "+e);e=tt}if(u){if(u.mode===et&&e===tt){if(!c)throw new qe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");u=null}u&&l.forEach(function(e){if(u&&u.storeNames.indexOf(e)===-1){if(!c)throw new qe.SubTransaction("Table "+e+" not included in parent transaction.");u=null}})}}catch(f){return u?u._promise(null,function(e,t){t(f)}):le(f,H)}return u?u._promise(e,o,"lock"):rt._whenReady(o)},this.table=function(e){if(xt&&it)return new G(e);if(!r(Ye,e))throw new qe.InvalidTable("Table "+e+" does not exist");return Ye[e]},n(q.prototype,{_trans:function(e,t,r){var n=at.trans;return n&&n.db===rt?n._promise(e,t,r):K(e,[this.name],t)},_idbstore:function(e,t,r){function n(e,r,n){t(e,r,n.idbtrans.objectStore(i),n)}if(xt)return new B(t);var o=at.trans,i=this.name;return o&&o.db===rt?o._promise(e,n,r):K(e,[this.name],n)},get:function(e,t){var r=this;return this._idbstore(et,function(t,n,o){xt&&t(r.schema.instanceTemplate);var i=o.get(e);i.onerror=_e(n),i.onsuccess=se(function(){t(r.hook.reading.fire(i.result))},n)}).then(t)},where:function(e){return new V(this,e)},count:function(e){return this.toCollection().count(e)},offset:function(e){return this.toCollection().offset(e)},limit:function(e){return this.toCollection().limit(e)},reverse:function(){return this.toCollection().reverse()},filter:function(e){return this.toCollection().and(e)},each:function(e){return this.toCollection().each(e)},toArray:function(e){return this.toCollection().toArray(e)},orderBy:function(e){return new this._collClass(new V(this,e))},toCollection:function(){return new this._collClass(new V(this))},mapToClass:function(e,t){this.schema.mappedClass=e;var n=Object.create(e.prototype);t&&de(n,t),this.schema.instanceTemplate=n;var o=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var o in t)if(r(t,o))try{n[o]=t[o]}catch(i){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=o,this.hook("reading",o),e},defineClass:function(e){return this.mapToClass(fe.defineClass(e),e)}}),i(G).from(q).extend({bulkDelete:function(e){return this.hook.deleting.fire===j?this._idbstore(tt,function(t,r,n,o){t(W(n,o,e,!1,j))}):this.where(":id").anyOf(e)["delete"]().then(function(){})},bulkPut:function(e,t){var r=this;return this._idbstore(tt,function(n,o,i){if(!i.keyPath&&!r.schema.primKey.auto&&!t)throw new qe.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(i.keyPath&&t)throw new qe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new qe.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return n();var s,a,u=function(e){0===c.length?n(e):o(new L(r.name+".bulkPut(): "+c.length+" of "+l+" operations failed",c))},c=[],l=e.length,f=r;if(r.hook.creating.fire===j&&r.hook.updating.fire===j){a=Q(c);for(var d=0,h=e.length;d<h;++d)s=t?i.put(e[d],t[d]):i.put(e[d]),s.onerror=a;s.onerror=Q(c,u),s.onsuccess=he(u)}else{var _=t||i.keyPath&&e.map(function(e){return y(e,i.keyPath)}),m=_&&p(_,function(t,r){return null!=t&&[t,e[r]]}),b=_?f.where(":id").anyOf(_.filter(function(e){return null!=e})).modify(function(){this.value=m[this.primKey],m[this.primKey]=null})["catch"](F,function(e){c=e.failures}).then(function(){for(var r=[],n=t&&[],o=_.length-1;o>=0;--o){var i=_[o];(null==i||m[i])&&(r.push(e[o]),t&&n.push(i),null!=i&&(m[i]=null))}return r.reverse(),t&&n.reverse(),f.bulkAdd(r,n)}).then(function(e){var t=_[_.length-1];return null!=t?t:e}):f.bulkAdd(e);b.then(u)["catch"](L,function(e){c=c.concat(e.failures),u()})["catch"](o)}},"locked")},bulkAdd:function(e,t){var r=this,n=this.hook.creating.fire;return this._idbstore(tt,function(o,i,s,a){function u(e){0===p.length?o(e):i(new L(r.name+".bulkAdd(): "+p.length+" of "+d+" operations failed",p))}if(!s.keyPath&&!r.schema.primKey.auto&&!t)throw new qe.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(s.keyPath&&t)throw new qe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new qe.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return o();var c,l,f,p=[],d=e.length;if(n!==j){var m,b=s.keyPath;l=Q(p,null,!0),f=ye(null),h(function(){for(var r=0,o=e.length;r<o;++r){m={onerror:null,onsuccess:null};var i=t&&t[r],u=e[r],p=t?i:b?y(u,b):void 0,d=n.call(m,p,u,a);null==p&&null!=d&&(b?(u=v(u),_(u,b,d)):i=d),c=null!=i?s.add(u,i):s.add(u),c._hookCtx=m,r<o-1&&(c.onerror=l,m.onsuccess&&(c.onsuccess=f))}},function(e){throw m.onerror&&m.onerror(e),e}),c.onerror=Q(p,u,!0),c.onsuccess=ye(u)}else{l=Q(p);for(var g=0,w=e.length;g<w;++g)c=t?s.add(e[g],t[g]):s.add(e[g]),c.onerror=l;c.onerror=Q(p,u),c.onsuccess=he(u)}})},add:function(e,t){var r=this.hook.creating.fire;return this._idbstore(tt,function(n,o,i,s){var a={onsuccess:null,onerror:null};if(r!==j){var u=null!=t?t:i.keyPath?y(e,i.keyPath):void 0,c=r.call(a,u,e,s);null==u&&null!=c&&(i.keyPath?_(e,i.keyPath,c):t=c)}try{var l=null!=t?i.add(e,t):i.add(e);l._hookCtx=a,l.onerror=me(o),l.onsuccess=ye(function(t){var r=i.keyPath;r&&_(e,r,t),n(t)})}catch(f){throw a.onerror&&a.onerror(f),f}})},put:function(e,t){var r=this,n=this.hook.creating.fire,o=this.hook.updating.fire;return n!==j||o!==j?this._trans(tt,function(n,o,i){var s=void 0!==t?t:r.schema.primKey.keyPath&&y(e,r.schema.primKey.keyPath);null==s?r.add(e).then(n,o):(i._lock(),e=v(e),r.where(":id").equals(s).modify(function(){this.value=e}).then(function(n){return 0===n?r.add(e,t):s})["finally"](function(){i._unlock()}).then(n,o))}):this._idbstore(tt,function(r,n,o){var i=void 0!==t?o.put(e,t):o.put(e);i.onerror=_e(n),i.onsuccess=function(t){var n=o.keyPath;n&&_(e,n,t.target.result),r(i.result)}})},"delete":function(e){return this.hook.deleting.subscribers.length?this.where(":id").equals(e)["delete"]():this._idbstore(tt,function(t,r,n){var o=n["delete"](e);o.onerror=_e(r),o.onsuccess=function(){t(o.result)}})},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection()["delete"]():this._idbstore(tt,function(e,t,r){var n=r.clear();n.onerror=_e(t),n.onsuccess=function(){e(n.result)}})},update:function(e,t){if("object"!=typeof t||Pe(t))throw new qe.InvalidArgument("Modifications must be an object.");if("object"!=typeof e||Pe(e))return this.where(":id").equals(e).modify(t);Oe(t).forEach(function(r){_(e,r,t[r])});var r=y(e,this.schema.primKey.keyPath);return void 0===r?le(new qe.InvalidArgument("Given object does not contain its primary key"),H):this.where(":id").equals(r).modify(t)}}),n(Y.prototype,{_lock:function(){return l(!at.global),++this._reculock,1!==this._reculock||at.global||(at.lockOwnerFor=this),this},_unlock:function(){if(l(!at.global),0===--this._reculock)for(at.global||(at.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{e()}catch(t){}}return this},_locked:function(){return this._reculock&&at.lockOwnerFor!==this},create:function(e){var t=this;if(l(!this.idbtrans),!e&&!Ve)switch(Je&&Je.name){case"DatabaseClosedError":throw new qe.DatabaseClosed(Je);case"MissingAPIError":
throw new qe.MissingAPI(Je.message,Je);default:throw new qe.OpenFailed(Je)}if(!this.active)throw new qe.TransactionInactive;return l(null===this._completion._state),e=this.idbtrans=e||Ve.transaction(je(this.storeNames),this.mode),e.onerror=se(function(r){be(r),t._reject(e.error)}),e.onabort=se(function(e){be(e),t.active&&t._reject(new qe.Abort),t.active=!1,t.on("abort").fire(e)}),e.oncomplete=se(function(){t.active=!1,t._resolve()}),this},_promise:function(e,t,r){var n=this;return ae(function(){var o;return n._locked()?o=new B(function(o,i){n._blockedFuncs.push(function(){n._promise(e,t,r).then(o,i)})}):(o=n.active?new B(function(o,i){if(e===tt&&n.mode!==tt)throw new qe.ReadOnly("Transaction is readonly");!n.idbtrans&&e&&n.create(),r&&n._lock(),t(o,i,n)}):le(new qe.TransactionInactive),n.active&&r&&o["finally"](function(){n._unlock()})),o._lib=!0,o.uncaught(H)})},abort:function(){this.active&&this._reject(new qe.Abort),this.active=!1},tables:{get:N("Transaction.tables",function(){return p(this.storeNames,function(e){return[e,Ye[e]]})},"Use db.tables()")},complete:N("Transaction.complete()",function(e){return this.on("complete",e)}),error:N("Transaction.error()",function(e){return this.on("error",e)}),table:N("Transaction.table()",function(e){if(this.storeNames.indexOf(e)===-1)throw new qe.InvalidTable("Table "+e+" not in transaction");return Ye[e]})}),n(V.prototype,function(){function e(e,t,r){var n=e instanceof V?new e._ctx.collClass(e):e;return n._ctx.error=r?new r(t):new TypeError(t),n}function t(e){return new e._ctx.collClass(e,function(){return Ke.only("")}).limit(0)}function r(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}function n(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}function o(e,t,r,n,o,i){for(var s=Math.min(e.length,n.length),a=-1,u=0;u<s;++u){var c=t[u];if(c!==n[u])return o(e[u],r[u])<0?e.substr(0,u)+r[u]+r.substr(u+1):o(e[u],n[u])<0?e.substr(0,u)+n[u]+r.substr(u+1):a>=0?e.substr(0,a)+t[a]+r.substr(a+1):null;o(e[u],c)<0&&(a=u)}return s<n.length&&"next"===i?e+r.substr(e.length):s<e.length&&"prev"===i?e.substr(0,r.length):a<0?null:e.substr(0,a)+n[a]+r.substr(a+1)}function i(t,i,s,a){function u(e){c=r(e),l=n(e),f="next"===e?Se:Ce;var t=s.map(function(e){return{lower:l(e),upper:c(e)}}).sort(function(e,t){return f(e.lower,t.lower)});p=t.map(function(e){return e.upper}),d=t.map(function(e){return e.lower}),h=e,y="next"===e?"":a}var c,l,f,p,d,h,y,_=s.length;if(!s.every(function(e){return"string"==typeof e}))return e(t,mt);u("next");var m=new t._ctx.collClass(t,function(){return Ke.bound(p[0],d[_-1]+a)});m._ondirectionchange=function(e){u(e)};var b=0;return m._addAlgorithm(function(e,t,r){var n=e.key;if("string"!=typeof n)return!1;var s=l(n);if(i(s,d,b))return!0;for(var a=null,u=b;u<_;++u){var c=o(n,s,p[u],d[u],f,h);null===c&&null===a?b=u+1:(null===a||f(a,c)>0)&&(a=c)}return t(null!==a?function(){e["continue"](a+y)}:r),!1}),m}return{between:function(r,n,o,i){o=o!==!1,i=i===!0;try{return ie(r,n)>0||0===ie(r,n)&&(o||i)&&(!o||!i)?t(this):new this._ctx.collClass(this,function(){return Ke.bound(r,n,!o,!i)})}catch(s){return e(this,_t)}},equals:function(e){return new this._ctx.collClass(this,function(){return Ke.only(e)})},above:function(e){return new this._ctx.collClass(this,function(){return Ke.lowerBound(e,!0)})},aboveOrEqual:function(e){return new this._ctx.collClass(this,function(){return Ke.lowerBound(e)})},below:function(e){return new this._ctx.collClass(this,function(){return Ke.upperBound(e,!0)})},belowOrEqual:function(e){return new this._ctx.collClass(this,function(){return Ke.upperBound(e)})},startsWith:function(t){return"string"!=typeof t?e(this,mt):this.between(t,t+ht,!0,!0)},startsWithIgnoreCase:function(e){return""===e?this.startsWith(e):i(this,function(e,t){return 0===e.indexOf(t[0])},[e],ht)},equalsIgnoreCase:function(e){return i(this,function(e,t){return e===t[0]},[e],"")},anyOfIgnoreCase:function(){var e=w.apply(Ae,arguments);return 0===e.length?t(this):i(this,function(e,t){return t.indexOf(e)!==-1},e,"")},startsWithAnyOfIgnoreCase:function(){var e=w.apply(Ae,arguments);return 0===e.length?t(this):i(this,function(e,t){return t.some(function(t){return 0===e.indexOf(t)})},e,ht)},anyOf:function(){var r=w.apply(Ae,arguments),n=pe;try{r.sort(n)}catch(o){return e(this,_t)}if(0===r.length)return t(this);var i=new this._ctx.collClass(this,function(){return Ke.bound(r[0],r[r.length-1])});i._ondirectionchange=function(e){n="next"===e?pe:Ee,r.sort(n)};var s=0;return i._addAlgorithm(function(e,t,o){for(var i=e.key;n(i,r[s])>0;)if(++s,s===r.length)return t(o),!1;return 0===n(i,r[s])||(t(function(){e["continue"](r[s])}),!1)}),i},notEqual:function(e){return this.inAnyRange([[-(1/0),e],[e,yt]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var t=w.apply(Ae,arguments);if(0===t.length)return new this._ctx.collClass(this);try{t.sort(pe)}catch(r){return e(this,_t)}var n=t.reduce(function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-(1/0),t]]},null);return n.push([t[t.length-1],yt]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(r,n){function o(e,t){for(var r=0,n=e.length;r<n;++r){var o=e[r];if(ie(t[0],o[1])<0&&ie(t[1],o[0])>0){o[0]=ue(o[0],t[0]),o[1]=ce(o[1],t[1]);break}}return r===n&&e.push(t),e}function i(e,t){return f(e[0],t[0])}function s(e){return!h(e)&&!y(e)}var a=this._ctx;if(0===r.length)return t(this);if(!r.every(function(e){return void 0!==e[0]&&void 0!==e[1]&&pe(e[0],e[1])<=0}))return e(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",qe.InvalidArgument);var u,c=!n||n.includeLowers!==!1,l=n&&n.includeUppers===!0,f=pe;try{u=r.reduce(o,[]),u.sort(i)}catch(p){return e(this,_t)}var d=0,h=l?function(e){return pe(e,u[d][1])>0}:function(e){return pe(e,u[d][1])>=0},y=c?function(e){return Ee(e,u[d][0])>0}:function(e){return Ee(e,u[d][0])>=0},_=h,m=new a.collClass(this,function(){return Ke.bound(u[0][0],u[u.length-1][1],!c,!l)});return m._ondirectionchange=function(e){"next"===e?(_=h,f=pe):(_=y,f=Ee),u.sort(i)},m._addAlgorithm(function(e,t,r){for(var n=e.key;_(n);)if(++d,d===u.length)return t(r),!1;return!!s(n)||0!==ie(n,u[d][1])&&0!==ie(n,u[d][0])&&(t(function(){f===pe?e["continue"](u[d][0]):e["continue"](u[d][1])}),!1)}),m},startsWithAnyOf:function(){var r=w.apply(Ae,arguments);return r.every(function(e){return"string"==typeof e})?0===r.length?t(this):this.inAnyRange(r.map(function(e){return[e,e+ht]})):e(this,"startsWithAnyOf() only works with strings")}}}),n(J.prototype,function(){function e(e,t){e.filter=Me(e.filter,t)}function n(e,t,r){var n=e.replayFilter;e.replayFilter=n?function(){return Me(n(),t())}:t,e.justLimit=r&&!n}function o(e,t){e.isMatch=Me(e.isMatch,t)}function i(e,t){if(e.isPrimKey)return t;var r=e.table.schema.idxByName[e.index];if(!r)throw new qe.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return t.index(r.name)}function s(e,t){var r=i(e,t);return e.keysOnly&&"openKeyCursor"in r?r.openKeyCursor(e.range||null,e.dir+e.unique):r.openCursor(e.range||null,e.dir+e.unique)}function a(e,t,n,o,i){var a=e.replayFilter?Me(e.filter,e.replayFilter()):e.filter;e.or?function(){function u(){2===++f&&n()}function c(e,n,i){if(!a||a(n,i,u,o)){var s=n.primaryKey.toString();r(l,s)||(l[s]=!0,t(e,n,i))}}var l={},f=0;e.or._iterate(c,u,o,i),ne(s(e,i),e.algorithm,c,u,o,!e.keysOnly&&e.valueMapper)}():ne(s(e,i),Me(e.algorithm,a),t,n,o,!e.keysOnly&&e.valueMapper)}function u(e){return e.table.schema.instanceTemplate}return{_read:function(e,t){var r=this._ctx;return r.error?r.table._trans(null,function(e,t){t(r.error)}):r.table._idbstore(et,e).then(t)},_write:function(e){var t=this._ctx;return t.error?t.table._trans(null,function(e,r){r(t.error)}):t.table._idbstore(tt,e,"locked")},_addAlgorithm:function(e){var t=this._ctx;t.algorithm=Me(t.algorithm,e)},_iterate:function(e,t,r,n){return a(this._ctx,e,t,r,n)},clone:function(e){var r=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&t(n,e),r._ctx=n,r},raw:function(){return this._ctx.valueMapper=null,this},each:function(e){var t=this._ctx;if(xt){var r=u(t),n=t.table.schema.primKey.keyPath,o=y(r,t.index?t.table.schema.idxByName[t.index].keyPath:n),i=y(r,n);e(r,{key:o,primaryKey:i})}return this._read(function(r,n,o){a(t,e,r,n,o)})},count:function(e){if(xt)return B.resolve(0).then(e);var t=this._ctx;if(X(t,!0))return this._read(function(e,r,n){var o=i(t,n),s=t.range?o.count(t.range):o.count();s.onerror=_e(r),s.onsuccess=function(r){e(Math.min(r.target.result,t.limit))}},e);var r=0;return this._read(function(e,n,o){a(t,function(){return++r,!1},function(){e(r)},n,o)},e)},sortBy:function(e,t){function r(e,t){return t?r(e[o[t]],t-1):e[i]}function n(e,t){var n=r(e,s),o=r(t,s);return n<o?-a:n>o?a:0}var o=e.split(".").reverse(),i=o[0],s=o.length-1,a="next"===this._ctx.dir?1:-1;return this.toArray(function(e){return e.sort(n)}).then(t)},toArray:function(e){var t=this._ctx;return this._read(function(e,r,n){if(xt&&e([u(t)]),Fe&&"next"===t.dir&&X(t,!0)&&t.limit>0){var o=t.table.hook.reading.fire,s=i(t,n),c=t.limit<1/0?s.getAll(t.range,t.limit):s.getAll(t.range);c.onerror=_e(r),c.onsuccess=o===x?he(e):se(he(function(t){try{e(t.map(o))}catch(n){r(n)}}))}else{var l=[];a(t,function(e){l.push(e)},function(){e(l)},r,n)}},e)},offset:function(e){var t=this._ctx;return e<=0?this:(t.offset+=e,X(t)?n(t,function(){var t=e;return function(e,r){return 0===t||(1===t?(--t,!1):(r(function(){e.advance(t),t=0}),!1))}}):n(t,function(){var t=e;return function(){return--t<0}}),this)},limit:function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),n(this._ctx,function(){var t=e;return function(e,r,n){return--t<=0&&r(n),t>=0}},!0),this},until:function(t,r){var n=this._ctx;return xt&&t(u(n)),e(this._ctx,function(e,n,o){return!t(e.value)||(n(o),r)}),this},first:function(e){return this.limit(1).toArray(function(e){return e[0]}).then(e)},last:function(e){return this.reverse().first(e)},filter:function(t){return xt&&t(u(this._ctx)),e(this._ctx,function(e){return t(e.value)}),o(this._ctx,t),this},and:function(e){return this.filter(e)},or:function(e){return new V(this._ctx.table,e,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,r){e(r.key,r)})},eachUniqueKey:function(e){return this._ctx.unique="unique",this.eachKey(e)},eachPrimaryKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,r){e(r.primaryKey,r)})},keys:function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var r=[];return this.each(function(e,t){r.push(t.key)}).then(function(){return r}).then(e)},primaryKeys:function(e){var t=this._ctx;if(Fe&&"next"===t.dir&&X(t,!0)&&t.limit>0)return this._read(function(e,r,n){var o=i(t,n),s=t.limit<1/0?o.getAllKeys(t.range,t.limit):o.getAllKeys(t.range);s.onerror=_e(r),s.onsuccess=he(e)}).then(e);t.keysOnly=!t.isMatch;var r=[];return this.each(function(e,t){r.push(t.primaryKey)}).then(function(){return r}).then(e)},uniqueKeys:function(e){return this._ctx.unique="unique",this.keys(e)},firstKey:function(e){return this.limit(1).keys(function(e){return e[0]}).then(e)},lastKey:function(e){return this.reverse().firstKey(e)},distinct:function(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var o={};return e(this._ctx,function(e){var t=e.primaryKey.toString(),n=r(o,t);return o[t]=!0,!n}),this}}}),i(Z).from(J).extend({modify:function(e){var n=this,o=this._ctx,i=o.table.hook,s=i.updating.fire,a=i.deleting.fire;return xt&&"function"==typeof e&&e.call({value:o.table.schema.instanceTemplate},o.table.schema.instanceTemplate),this._write(function(o,i,u,c){function l(e,t){function n(e){return E.push(e),S.push(o.primKey),p(),!0}C=t.primaryKey;var o={primKey:t.primaryKey,value:e,onsuccess:null,onerror:null};if(d.call(o,e,o)!==!1){var i=!r(o,"value");++x,h(function(){var e=i?t["delete"]():t.update(o.value);e._hookCtx=o,e.onerror=me(n),e.onsuccess=ye(function(){++O,p()})},n)}else o.onsuccess&&o.onsuccess(o.value)}function f(e){return e&&(E.push(e),S.push(C)),i(new F("Error modifying one or more objects",E,O,S))}function p(){P&&O+E.length===x&&(E.length>0?f():o(O))}var d;if("function"==typeof e)d=s===j&&a===j?e:function(t){var n=v(t);if(e.call(this,t,this)===!1)return!1;if(r(this,"value")){var o=g(n,this.value),i=s.call(this,o,this.primKey,n,c);i&&(t=this.value,Oe(i).forEach(function(e){_(t,e,i[e])}))}else a.call(this,this.primKey,t,c)};else if(s===j){var m=Oe(e),w=m.length;d=function(t){for(var r=!1,n=0;n<w;++n){var o=m[n],i=e[o];y(t,o)!==i&&(_(t,o,i),r=!0)}return r}}else{var k=e;e=b(k),d=function(r){var n=!1,o=s.call(this,e,this.primKey,v(r),c);return o&&t(e,o),Oe(e).forEach(function(t){var o=e[t];y(r,t)!==o&&(_(r,t,o),n=!0)}),o&&(e=b(k)),n}}var x=0,O=0,P=!1,E=[],S=[],C=null;n.clone().raw()._iterate(l,function(){P=!0,p()},f,u)})},"delete":function(){var e=this,t=this._ctx,r=t.range,n=t.table.hook.deleting.fire,o=n!==j;if(!o&&X(t)&&(t.isPrimKey&&!wt||!r))return this._write(function(e,t,n){var o=_e(t),i=r?n.count(r):n.count();i.onerror=o,i.onsuccess=function(){var s=i.result;h(function(){var t=r?n["delete"](r):n.clear();t.onerror=o,t.onsuccess=function(){return e(s)}},function(e){return t(e)})}});var i=o?2e3:1e4;return this._write(function(r,s,a,u){var c=0,l=e.clone({keysOnly:!t.isMatch&&!o}).distinct().limit(i).raw(),f=[],p=function(){return l.each(o?function(e,t){f.push([t.primaryKey,t.value])}:function(e,t){f.push(t.primaryKey)}).then(function(){return o?f.sort(function(e,t){return pe(e[0],t[0])}):f.sort(pe),W(a,u,f,o,n)}).then(function(){var e=f.length;return c+=e,f=[],e<i?c:p()})};r(p())})}}),t(this,{Collection:J,Table:q,Transaction:Y,Version:m,WhereClause:V,WriteableCollection:Z,WriteableTable:G}),f(),ze.forEach(function(e){e(rt)})}function pe(e){if("function"==typeof e)return new e;if(Pe(e))return[pe(e[0])];if(e&&"object"==typeof e){var t={};return de(t,e),t}return e}function de(e,t){return Oe(t).forEach(function(r){var n=pe(t[r]);e[r]=n}),e}function he(e){return function(t){e(t.target.result)}}function ye(e){return se(function(t){var r=t.target,n=r.result,o=r._hookCtx,i=o&&o.onsuccess;i&&i(n),e&&e(n)},e)}function _e(e){return function(t){return be(t),e(t.target.error),!1}}function me(e){return se(function(t){var r=t.target,n=r.error,o=r._hookCtx,i=o&&o.onerror;return i&&i(n),be(t),e(n),!1})}function be(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}function ve(e){var t,r=fe.dependencies.localStorage;if(!r)return e([]);try{t=JSON.parse(r.getItem("Dexie.DatabaseNames")||"[]")}catch(n){t=[]}e(t)&&r.setItem("Dexie.DatabaseNames",JSON.stringify(t))}function ge(e){function t(e){return function(t){var r=e(t),n=r.value;return r.done?n:n&&"function"==typeof n.then?n.then(o,i):Pe(n)?B.all(n).then(o,i):o(n)}}var r=function(t){return e.next(t)},n=function(t){return e["throw"](t)},o=t(r),i=t(n);return t(r)()}function we(e,t,r,n,o,i,s){this.name=e,this.keyPath=t,this.unique=r,this.multi=n,this.auto=o,this.compound=i,this.dotted=s;var a="string"==typeof t?t:t&&"["+[].join.call(t,"+")+"]";this.src=(r?"&":"")+(n?"*":"")+(o?"++":"")+a}function ke(e,t,r,n){this.name=e,this.primKey=t||new we,this.indexes=r||[new we],this.instanceTemplate=n,this.mappedClass=null,this.idxByName=p(r,function(e){return[e.name,e]})}function je(e){return 1===e.length?e[0]:e}function xe(e){var t=e&&(e.getDatabaseNames||e.webkitGetDatabaseNames);return t&&t.bind(e)}var Oe=Object.keys,Pe=Array.isArray,Ee="undefined"!=typeof self?self:"undefined"!=typeof window?window:e,Se=Object.getPrototypeOf,Ce={}.hasOwnProperty,Me=Object.getOwnPropertyDescriptor,Te=[].slice,Re="undefined"!=typeof Symbol&&Symbol.iterator,Ie=Re?function(e){var t;return null!=e&&(t=e[Re])&&t.apply(e)}:function(){return null},Ae={},Ne=[].concat,De="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href),Ue=function(){return!0},Fe=!new Error("").stack,Le=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","IncompatiblePromise"],$e=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ze=Le.concat($e),Be={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};i(D).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+A(this._e,2))}},toString:function(){return this.name+": "+this.message}}),i(F).from(D),i(L).from(D);var He=ze.reduce(function(e,t){return e[t]=t+"Error",e},{}),Ke=D,qe=ze.reduce(function(e,t){function r(e,r){this._e=I(),this.name=n,e?"string"==typeof e?(this.message=e,this.inner=r||null):"object"==typeof e&&(this.message=e.name+" "+e.message,this.inner=e):(this.message=Be[t]||n,this.inner=null)}var n=t+"Error";return i(r).from(Ke),e[t]=r,e},{});qe.Syntax=SyntaxError,qe.Type=TypeError,qe.Range=RangeError;var Ge=$e.reduce(function(e,t){return e[t+"Error"]=qe[t],e},{}),Qe=ze.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=qe[t]),e},{});Qe.ModifyError=F,Qe.DexieError=D,Qe.BulkError=L;var We={},Ye=100,Ve=20,Je=!1,Xe=Ee.setImmediate?setImmediate.bind(null,J):Ee.MutationObserver?function(){var e=document.createElement("div");new MutationObserver(function(){J(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(J,0)},Ze=function(e,t){ut.push([e,t]),tt&&(Xe(),tt=!1)},et=!0,tt=!0,rt=[],nt=[],ot=null,it=x,st={global:!0,ref:0,unhandleds:[],onunhandled:ce,finalize:function(){this.unhandleds.forEach(function(e){try{ce(e[0],e[1])}catch(t){}})}},at=st,ut=[],ct=0,lt=[];n(B.prototype,{then:function(e,t){var r=this,n=new B(function(n,o){Q(r,new H(e,t,n,o))});return De&&(!this._prev||null===this._state)&&V(n,this),n},_then:function(e,t){Q(this,new H(null,null,e,t))},"catch":function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],r=arguments[1];return"function"==typeof t?this.then(null,function(e){return e instanceof t?r(e):ie(e)}):this.then(null,function(e){return e&&e.name===t?r(e):ie(e)})},"finally":function(e){return this.then(function(t){return e(),t},function(t){return e(),ie(t)})},uncaught:function(e){var t=this;return this.onuncatched=M(this.onuncatched,e),this._state===!1&&rt.indexOf(this)===-1&&rt.some(function(e,r,n){return e._value===t._value&&(n[r]=t)}),this},stack:{get:function(){if(this._stack)return this._stack;try{Je=!0;var e=Y(this,[],Ve),t=e.join("\nFrom previous: ");return null!==this._state&&(this._stack=t),t}finally{Je=!1}}}}),n(B,{all:function(){var e=w.apply(null,arguments);return new B(function(t,r){0===e.length&&t([]);var n=e.length;e.forEach(function(o,i){return B.resolve(o).then(function(r){e[i]=r,--n||t(e)},r)})})},resolve:function(e){return e instanceof B?e:e&&"function"==typeof e.then?new B(function(t,r){e.then(t,r)}):new B(We,(!0),e)},reject:ie,race:function(){var e=w.apply(null,arguments);return new B(function(t,r){e.map(function(e){return B.resolve(e).then(t,r)})})},PSD:{get:function(){return at},set:function(e){return at=e}},newPSD:ae,usePSD:ue,scheduler:{get:function(){return Ze},set:function(e){Ze=e}},rejectionMapper:{get:function(){return it},set:function(e){it=e}},follow:function(e){return new B(function(t,r){return ae(function(t,r){var n=at;n.unhandleds=[],n.onunhandled=r,n.finalize=P(function(){var e=this;te(function(){0===e.unhandleds.length?t():r(e.unhandleds[0])})},n.finalize),e()},t,r)})},on:z(null,{error:[M,oe]})});var ft=B.on.error;ft.subscribe=N("Promise.on('error')",ft.subscribe),ft.unsubscribe=N("Promise.on('error').unsubscribe",ft.unsubscribe);var pt="unhandledrejection";c(function(){Ze=function(e,t){setTimeout(function(){e.apply(null,t)},0)}});var dt="1.5.0",ht=String.fromCharCode(65535),yt=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(e){return ht}}(),_t="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",mt="String expected.",bt=[],vt="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),gt=vt,wt=vt,kt=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)};R(De,kt);var jt=function(){},xt=!1,Ot=Ee.idbModules&&Ee.idbModules.shimIndexedDB?Ee.idbModules:{};return n(fe,Qe),n(fe,{"delete":function(e){var t=new fe(e),r=t["delete"]();return r.onblocked=function(e){return t.on("blocked",e),this},r},exists:function(e){return new fe(e).open().then(function(e){return e.close(),!0})["catch"](fe.NoSuchDatabaseError,function(){return!1})},getDatabaseNames:function(e){return new B(function(e,t){var r=xe(indexedDB);if(r){var n=r();n.onsuccess=function(t){e(a(t.target.result,0))},n.onerror=_e(t)}else ve(function(t){return e(t),!1})}).then(e)},defineClass:function(e){function r(r){r?t(this,r):xt&&de(this,e)}return r},applyStructure:de,ignoreTransaction:function(e){return at.trans?ue(at.transless,e):e()},vip:function(e){return ae(function(){return at.letThrough=!0,e()})},async:function(e){return function(){try{var t=ge(e.apply(this,arguments));return t&&"function"==typeof t.then?t:B.resolve(t)}catch(r){return le(r)}}},spawn:function(e,t,r){try{var n=ge(e.apply(r,t||[]));return n&&"function"==typeof n.then?n:B.resolve(n)}catch(o){return le(o)}},currentTransaction:{get:function(){return at.trans||null}},Promise:B,debug:{get:function(){return De},set:function(e){R(e,"dexie"===e?function(){return!0}:kt)}},derive:i,extend:t,props:n,override:u,Events:z,events:{get:N(function(){return z})},getByKeyPath:y,setByKeyPath:_,delByKeyPath:m,shallowClone:b,deepClone:v,getObjectDiff:g,asap:f,maxKey:yt,addons:[],connections:bt,MultiModifyError:qe.Modify,errnames:He,IndexSpec:we,TableSchema:ke,dependencies:{indexedDB:Ot.shimIndexedDB||Ee.indexedDB||Ee.mozIndexedDB||Ee.webkitIndexedDB||Ee.msIndexedDB,IDBKeyRange:Ot.IDBKeyRange||Ee.IDBKeyRange||Ee.webkitIDBKeyRange},semVer:dt,version:dt.split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,r){return e+t/Math.pow(10,2*r)}),fakeAutoComplete:jt,"default":fe}),h(function(){fe.dependencies.localStorage=null!=("undefined"!=typeof chrome&&null!==chrome?chrome.storage:void 0)?null:Ee.localStorage}),B.rejectionMapper=$,c(function(){fe.fakeAutoComplete=jt=c,fe.fake=xt=!0}),fe})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,r,n){(function(o){!function(e){if("object"==typeof n&&"undefined"!=typeof r)r.exports=e();else if("function"==typeof t&&t.amd)t([],e);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof o?o:"undefined"!=typeof self?self:this,i.minibus=e()}}(function(){return function t(r,n,o){function i(a,u){if(!n[a]){if(!r[a]){var c="function"==typeof e&&e;if(!u&&c)return c(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[a]={exports:{}};r[a][0].call(f.exports,function(e){var t=r[a][1][e];return i(t?t:e)},f,f.exports,t,r,n,o)}return n[a].exports}for(var s="function"==typeof e&&e,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":12}],2:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":13}],3:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/get-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/get-prototype-of":14}],4:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":15}],5:[function(e,t,r){t.exports={"default":e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":16}],6:[function(e,t,r){t.exports={"default":e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":17}],7:[function(e,t,r){"use strict";r.__esModule=!0,r["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],8:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}r.__esModule=!0;var o=e("../core-js/object/define-property"),i=n(o);r["default"]=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i["default"])(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},{"../core-js/object/define-property":2}],9:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}r.__esModule=!0;var o=e("../core-js/object/set-prototype-of"),i=n(o),s=e("../core-js/object/create"),a=n(s),u=e("../helpers/typeof"),c=n(u);r["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":(0,c["default"])(t)));e.prototype=(0,a["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i["default"]?(0,i["default"])(e,t):e.__proto__=t)}},{"../core-js/object/create":1,"../core-js/object/set-prototype-of":4,"../helpers/typeof":11}],10:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}r.__esModule=!0;var o=e("../helpers/typeof"),i=n(o);r["default"]=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":(0,i["default"])(t))&&"function"!=typeof t?e:t}},{"../helpers/typeof":11}],11:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}r.__esModule=!0;var o=e("../core-js/symbol/iterator"),i=n(o),s=e("../core-js/symbol"),a=n(s),u="function"==typeof a["default"]&&"symbol"==typeof i["default"]?function(e){return typeof e}:function(e){return e&&"function"==typeof a["default"]&&e.constructor===a["default"]?"symbol":typeof e};r["default"]="function"==typeof a["default"]&&"symbol"===u(i["default"])?function(e){return"undefined"==typeof e?"undefined":u(e)}:function(e){return e&&"function"==typeof a["default"]&&e.constructor===a["default"]?"symbol":"undefined"==typeof e?"undefined":u(e)}},{"../core-js/symbol":5,"../core-js/symbol/iterator":6}],12:[function(e,t,r){e("../../modules/es6.object.create");var n=e("../../modules/_core").Object;t.exports=function(e,t){return n.create(e,t)}},{"../../modules/_core":23,"../../modules/es6.object.create":77}],13:[function(e,t,r){e("../../modules/es6.object.define-property");var n=e("../../modules/_core").Object;t.exports=function(e,t,r){return n.defineProperty(e,t,r)}},{"../../modules/_core":23,"../../modules/es6.object.define-property":78}],14:[function(e,t,r){e("../../modules/es6.object.get-prototype-of"),t.exports=e("../../modules/_core").Object.getPrototypeOf},{"../../modules/_core":23,"../../modules/es6.object.get-prototype-of":79}],15:[function(e,t,r){e("../../modules/es6.object.set-prototype-of"),t.exports=e("../../modules/_core").Object.setPrototypeOf},{"../../modules/_core":23,"../../modules/es6.object.set-prototype-of":80}],16:[function(e,t,r){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),e("../../modules/es7.symbol.async-iterator"),e("../../modules/es7.symbol.observable"),t.exports=e("../../modules/_core").Symbol},{"../../modules/_core":23,"../../modules/es6.object.to-string":81,"../../modules/es6.symbol":83,"../../modules/es7.symbol.async-iterator":84,"../../modules/es7.symbol.observable":85}],17:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":74,"../../modules/es6.string.iterator":82,"../../modules/web.dom.iterable":86}],18:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],19:[function(e,t,r){t.exports=function(){}},{}],20:[function(e,t,r){var n=e("./_is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":39}],21:[function(e,t,r){var n=e("./_to-iobject"),o=e("./_to-length"),i=e("./_to-index");t.exports=function(e){return function(t,r,s){var a,u=n(t),c=o(u.length),l=i(s,c);if(e&&r!=r){for(;c>l;)if(a=u[l++],a!=a)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}}},{"./_to-index":66,"./_to-iobject":68,"./_to-length":69}],22:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],23:[function(e,t,r){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},{}],24:[function(e,t,r){var n=e("./_a-function");t.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":18}],25:[function(e,t,r){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],26:[function(e,t,r){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":31}],27:[function(e,t,r){var n=e("./_is-object"),o=e("./_global").document,i=n(o)&&n(o.createElement);t.exports=function(e){return i?o.createElement(e):{}}},{"./_global":32,"./_is-object":39}],28:[function(e,t,r){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],29:[function(e,t,r){var n=e("./_object-keys"),o=e("./_object-gops"),i=e("./_object-pie");t.exports=function(e){var t=n(e),r=o.f;if(r)for(var s,a=r(e),u=i.f,c=0;a.length>c;)u.call(e,s=a[c++])&&t.push(s);return t}},{"./_object-gops":53,"./_object-keys":56,"./_object-pie":57}],30:[function(e,t,r){var n=e("./_global"),o=e("./_core"),i=e("./_ctx"),s=e("./_hide"),a="prototype",u=function(e,t,r){var c,l,f,p=e&u.F,d=e&u.G,h=e&u.S,y=e&u.P,_=e&u.B,m=e&u.W,b=d?o:o[t]||(o[t]={}),v=b[a],g=d?n:h?n[t]:(n[t]||{})[a];d&&(r=t);for(c in r)l=!p&&g&&void 0!==g[c],l&&c in b||(f=l?g[c]:r[c],b[c]=d&&"function"!=typeof g[c]?r[c]:_&&l?i(f,n):m&&g[c]==f?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t[a]=e[a],t}(f):y&&"function"==typeof f?i(Function.call,f):f,y&&((b.virtual||(b.virtual={}))[c]=f,e&u.R&&v&&!v[c]&&s(v,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},{"./_core":23,"./_ctx":24,"./_global":32,"./_hide":34}],31:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],32:[function(e,t,r){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],33:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],34:[function(e,t,r){var n=e("./_object-dp"),o=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},{"./_descriptors":26,"./_object-dp":48,"./_property-desc":59}],35:[function(e,t,r){t.exports=e("./_global").document&&document.documentElement},{"./_global":32}],36:[function(e,t,r){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7;
}}).a})},{"./_descriptors":26,"./_dom-create":27,"./_fails":31}],37:[function(e,t,r){var n=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./_cof":22}],38:[function(e,t,r){var n=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./_cof":22}],39:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],40:[function(e,t,r){"use strict";var n=e("./_object-create"),o=e("./_property-desc"),i=e("./_set-to-string-tag"),s={};e("./_hide")(s,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,r){e.prototype=n(s,{next:o(1,r)}),i(e,t+" Iterator")}},{"./_hide":34,"./_object-create":47,"./_property-desc":59,"./_set-to-string-tag":62,"./_wks":75}],41:[function(e,t,r){"use strict";var n=e("./_library"),o=e("./_export"),i=e("./_redefine"),s=e("./_hide"),a=e("./_has"),u=e("./_iterators"),c=e("./_iter-create"),l=e("./_set-to-string-tag"),f=e("./_object-gpo"),p=e("./_wks")("iterator"),d=!([].keys&&"next"in[].keys()),h="@@iterator",y="keys",_="values",m=function(){return this};t.exports=function(e,t,r,b,v,g,w){c(r,t,b);var k,j,x,O=function(e){if(!d&&e in C)return C[e];switch(e){case y:return function(){return new r(this,e)};case _:return function(){return new r(this,e)}}return function(){return new r(this,e)}},P=t+" Iterator",E=v==_,S=!1,C=e.prototype,M=C[p]||C[h]||v&&C[v],T=M||O(v),R=v?E?O("entries"):T:void 0,I="Array"==t?C.entries||M:M;if(I&&(x=f(I.call(new e)),x!==Object.prototype&&(l(x,P,!0),n||a(x,p)||s(x,p,m))),E&&M&&M.name!==_&&(S=!0,T=function(){return M.call(this)}),n&&!w||!d&&!S&&C[p]||s(C,p,T),u[t]=T,u[P]=m,v)if(k={values:E?T:O(_),keys:g?T:O(y),entries:R},w)for(j in k)j in C||i(C,j,k[j]);else o(o.P+o.F*(d||S),t,k);return k}},{"./_export":30,"./_has":33,"./_hide":34,"./_iter-create":40,"./_iterators":43,"./_library":45,"./_object-gpo":54,"./_redefine":60,"./_set-to-string-tag":62,"./_wks":75}],42:[function(e,t,r){t.exports=function(e,t){return{value:t,done:!!e}}},{}],43:[function(e,t,r){t.exports={}},{}],44:[function(e,t,r){var n=e("./_object-keys"),o=e("./_to-iobject");t.exports=function(e,t){for(var r,i=o(e),s=n(i),a=s.length,u=0;a>u;)if(i[r=s[u++]]===t)return r}},{"./_object-keys":56,"./_to-iobject":68}],45:[function(e,t,r){t.exports=!0},{}],46:[function(e,t,r){var n=e("./_uid")("meta"),o=e("./_is-object"),i=e("./_has"),s=e("./_object-dp").f,a=0,u=Object.isExtensible||function(){return!0},c=!e("./_fails")(function(){return u(Object.preventExtensions({}))}),l=function(e){s(e,n,{value:{i:"O"+ ++a,w:{}}})},f=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[n].i},p=function(e,t){if(!i(e,n)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[n].w},d=function(e){return c&&h.NEED&&u(e)&&!i(e,n)&&l(e),e},h=t.exports={KEY:n,NEED:!1,fastKey:f,getWeak:p,onFreeze:d}},{"./_fails":31,"./_has":33,"./_is-object":39,"./_object-dp":48,"./_uid":72}],47:[function(e,t,r){var n=e("./_an-object"),o=e("./_object-dps"),i=e("./_enum-bug-keys"),s=e("./_shared-key")("IE_PROTO"),a=function(){},u="prototype",c=function(){var t,r=e("./_dom-create")("iframe"),n=i.length,o="<",s=">";for(r.style.display="none",e("./_html").appendChild(r),r.src="javascript:",t=r.contentWindow.document,t.open(),t.write(o+"script"+s+"document.F=Object"+o+"/script"+s),t.close(),c=t.F;n--;)delete c[u][i[n]];return c()};t.exports=Object.create||function(e,t){var r;return null!==e?(a[u]=n(e),r=new a,a[u]=null,r[s]=e):r=c(),void 0===t?r:o(r,t)}},{"./_an-object":20,"./_dom-create":27,"./_enum-bug-keys":28,"./_html":35,"./_object-dps":49,"./_shared-key":63}],48:[function(e,t,r){var n=e("./_an-object"),o=e("./_ie8-dom-define"),i=e("./_to-primitive"),s=Object.defineProperty;r.f=e("./_descriptors")?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},{"./_an-object":20,"./_descriptors":26,"./_ie8-dom-define":36,"./_to-primitive":71}],49:[function(e,t,r){var n=e("./_object-dp"),o=e("./_an-object"),i=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){o(e);for(var r,s=i(t),a=s.length,u=0;a>u;)n.f(e,r=s[u++],t[r]);return e}},{"./_an-object":20,"./_descriptors":26,"./_object-dp":48,"./_object-keys":56}],50:[function(e,t,r){var n=e("./_object-pie"),o=e("./_property-desc"),i=e("./_to-iobject"),s=e("./_to-primitive"),a=e("./_has"),u=e("./_ie8-dom-define"),c=Object.getOwnPropertyDescriptor;r.f=e("./_descriptors")?c:function(e,t){if(e=i(e),t=s(t,!0),u)try{return c(e,t)}catch(e){}if(a(e,t))return o(!n.f.call(e,t),e[t])}},{"./_descriptors":26,"./_has":33,"./_ie8-dom-define":36,"./_object-pie":57,"./_property-desc":59,"./_to-iobject":68,"./_to-primitive":71}],51:[function(e,t,r){var n=e("./_to-iobject"),o=e("./_object-gopn").f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return o(e)}catch(e){return s.slice()}};t.exports.f=function(e){return s&&"[object Window]"==i.call(e)?a(e):o(n(e))}},{"./_object-gopn":52,"./_to-iobject":68}],52:[function(e,t,r){var n=e("./_object-keys-internal"),o=e("./_enum-bug-keys").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},{"./_enum-bug-keys":28,"./_object-keys-internal":55}],53:[function(e,t,r){r.f=Object.getOwnPropertySymbols},{}],54:[function(e,t,r){var n=e("./_has"),o=e("./_to-object"),i=e("./_shared-key")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},{"./_has":33,"./_shared-key":63,"./_to-object":70}],55:[function(e,t,r){var n=e("./_has"),o=e("./_to-iobject"),i=e("./_array-includes")(!1),s=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var r,a=o(e),u=0,c=[];for(r in a)r!=s&&n(a,r)&&c.push(r);for(;t.length>u;)n(a,r=t[u++])&&(~i(c,r)||c.push(r));return c}},{"./_array-includes":21,"./_has":33,"./_shared-key":63,"./_to-iobject":68}],56:[function(e,t,r){var n=e("./_object-keys-internal"),o=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return n(e,o)}},{"./_enum-bug-keys":28,"./_object-keys-internal":55}],57:[function(e,t,r){r.f={}.propertyIsEnumerable},{}],58:[function(e,t,r){var n=e("./_export"),o=e("./_core"),i=e("./_fails");t.exports=function(e,t){var r=(o.Object||{})[e]||Object[e],s={};s[e]=t(r),n(n.S+n.F*i(function(){r(1)}),"Object",s)}},{"./_core":23,"./_export":30,"./_fails":31}],59:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],60:[function(e,t,r){t.exports=e("./_hide")},{"./_hide":34}],61:[function(e,t,r){var n=e("./_is-object"),o=e("./_an-object"),i=function(e,t){if(o(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n("./_ctx")(Function.call,n("./_object-gopd").f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},{"./_an-object":20,"./_ctx":24,"./_is-object":39,"./_object-gopd":50}],62:[function(e,t,r){var n=e("./_object-dp").f,o=e("./_has"),i=e("./_wks")("toStringTag");t.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},{"./_has":33,"./_object-dp":48,"./_wks":75}],63:[function(e,t,r){var n=e("./_shared")("keys"),o=e("./_uid");t.exports=function(e){return n[e]||(n[e]=o(e))}},{"./_shared":64,"./_uid":72}],64:[function(e,t,r){var n=e("./_global"),o="__core-js_shared__",i=n[o]||(n[o]={});t.exports=function(e){return i[e]||(i[e]={})}},{"./_global":32}],65:[function(e,t,r){var n=e("./_to-integer"),o=e("./_defined");t.exports=function(e){return function(t,r){var i,s,a=String(o(t)),u=n(r),c=a.length;return u<0||u>=c?e?"":void 0:(i=a.charCodeAt(u),i<55296||i>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?e?a.charAt(u):i:e?a.slice(u,u+2):(i-55296<<10)+(s-56320)+65536)}}},{"./_defined":25,"./_to-integer":67}],66:[function(e,t,r){var n=e("./_to-integer"),o=Math.max,i=Math.min;t.exports=function(e,t){return e=n(e),e<0?o(e+t,0):i(e,t)}},{"./_to-integer":67}],67:[function(e,t,r){var n=Math.ceil,o=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},{}],68:[function(e,t,r){var n=e("./_iobject"),o=e("./_defined");t.exports=function(e){return n(o(e))}},{"./_defined":25,"./_iobject":37}],69:[function(e,t,r){var n=e("./_to-integer"),o=Math.min;t.exports=function(e){return e>0?o(n(e),9007199254740991):0}},{"./_to-integer":67}],70:[function(e,t,r){var n=e("./_defined");t.exports=function(e){return Object(n(e))}},{"./_defined":25}],71:[function(e,t,r){var n=e("./_is-object");t.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":39}],72:[function(e,t,r){var n=0,o=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},{}],73:[function(e,t,r){var n=e("./_global"),o=e("./_core"),i=e("./_library"),s=e("./_wks-ext"),a=e("./_object-dp").f;t.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},{"./_core":23,"./_global":32,"./_library":45,"./_object-dp":48,"./_wks-ext":74}],74:[function(e,t,r){r.f=e("./_wks")},{"./_wks":75}],75:[function(e,t,r){var n=e("./_shared")("wks"),o=e("./_uid"),i=e("./_global").Symbol,s="function"==typeof i,a=t.exports=function(e){return n[e]||(n[e]=s&&i[e]||(s?i:o)("Symbol."+e))};a.store=n},{"./_global":32,"./_shared":64,"./_uid":72}],76:[function(e,t,r){"use strict";var n=e("./_add-to-unscopables"),o=e("./_iter-step"),i=e("./_iterators"),s=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,r):"values"==t?o(0,e[r]):o(0,[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},{"./_add-to-unscopables":19,"./_iter-define":41,"./_iter-step":42,"./_iterators":43,"./_to-iobject":68}],77:[function(e,t,r){var n=e("./_export");n(n.S,"Object",{create:e("./_object-create")})},{"./_export":30,"./_object-create":47}],78:[function(e,t,r){var n=e("./_export");n(n.S+n.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":26,"./_export":30,"./_object-dp":48}],79:[function(e,t,r){var n=e("./_to-object"),o=e("./_object-gpo");e("./_object-sap")("getPrototypeOf",function(){return function(e){return o(n(e))}})},{"./_object-gpo":54,"./_object-sap":58,"./_to-object":70}],80:[function(e,t,r){var n=e("./_export");n(n.S,"Object",{setPrototypeOf:e("./_set-proto").set})},{"./_export":30,"./_set-proto":61}],81:[function(e,t,r){},{}],82:[function(e,t,r){"use strict";var n=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":41,"./_string-at":65}],83:[function(e,t,r){"use strict";var n=e("./_global"),o=e("./_has"),i=e("./_descriptors"),s=e("./_export"),a=e("./_redefine"),u=e("./_meta").KEY,c=e("./_fails"),l=e("./_shared"),f=e("./_set-to-string-tag"),p=e("./_uid"),d=e("./_wks"),h=e("./_wks-ext"),y=e("./_wks-define"),_=e("./_keyof"),m=e("./_enum-keys"),b=e("./_is-array"),v=e("./_an-object"),g=e("./_to-iobject"),w=e("./_to-primitive"),k=e("./_property-desc"),j=e("./_object-create"),x=e("./_object-gopn-ext"),O=e("./_object-gopd"),P=e("./_object-dp"),E=e("./_object-keys"),S=O.f,C=P.f,M=x.f,T=n.Symbol,R=n.JSON,I=R&&R.stringify,A="prototype",N=d("_hidden"),D=d("toPrimitive"),U={}.propertyIsEnumerable,F=l("symbol-registry"),L=l("symbols"),$=l("op-symbols"),z=Object[A],B="function"==typeof T,H=n.QObject,K=!H||!H[A]||!H[A].findChild,q=i&&c(function(){return 7!=j(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=S(z,t);n&&delete z[t],C(e,t,r),n&&e!==z&&C(z,t,n)}:C,G=function(e){var t=L[e]=j(T[A]);return t._k=e,t},Q=B&&"symbol"==typeof T.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof T},W=function(e,t,r){return e===z&&W($,t,r),v(e),t=w(t,!0),v(r),o(L,t)?(r.enumerable?(o(e,N)&&e[N][t]&&(e[N][t]=!1),r=j(r,{enumerable:k(0,!1)})):(o(e,N)||C(e,N,k(1,{})),e[N][t]=!0),q(e,t,r)):C(e,t,r)},Y=function(e,t){v(e);for(var r,n=m(t=g(t)),o=0,i=n.length;i>o;)W(e,r=n[o++],t[r]);return e},V=function(e,t){return void 0===t?j(e):Y(j(e),t)},J=function(e){var t=U.call(this,e=w(e,!0));return!(this===z&&o(L,e)&&!o($,e))&&(!(t||!o(this,e)||!o(L,e)||o(this,N)&&this[N][e])||t)},X=function(e,t){if(e=g(e),t=w(t,!0),e!==z||!o(L,t)||o($,t)){var r=S(e,t);return!r||!o(L,t)||o(e,N)&&e[N][t]||(r.enumerable=!0),r}},Z=function(e){for(var t,r=M(g(e)),n=[],i=0;r.length>i;)o(L,t=r[i++])||t==N||t==u||n.push(t);return n},ee=function(e){for(var t,r=e===z,n=M(r?$:g(e)),i=[],s=0;n.length>s;)!o(L,t=n[s++])||r&&!o(z,t)||i.push(L[t]);return i};B||(T=function(){if(this instanceof T)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(r){this===z&&t.call($,r),o(this,N)&&o(this[N],e)&&(this[N][e]=!1),q(this,e,k(1,r))};return i&&K&&q(z,e,{configurable:!0,set:t}),G(e)},a(T[A],"toString",function(){return this._k}),O.f=X,P.f=W,e("./_object-gopn").f=x.f=Z,e("./_object-pie").f=J,e("./_object-gops").f=ee,i&&!e("./_library")&&a(z,"propertyIsEnumerable",J,!0),h.f=function(e){return G(d(e))}),s(s.G+s.W+s.F*!B,{Symbol:T});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;te.length>re;)d(te[re++]);for(var te=E(d.store),re=0;te.length>re;)y(te[re++]);s(s.S+s.F*!B,"Symbol",{"for":function(e){return o(F,e+="")?F[e]:F[e]=T(e)},keyFor:function(e){if(Q(e))return _(F,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){K=!0},useSimple:function(){K=!1}}),s(s.S+s.F*!B,"Object",{create:V,defineProperty:W,defineProperties:Y,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:ee}),R&&s(s.S+s.F*(!B||c(function(){var e=T();return"[null]"!=I([e])||"{}"!=I({a:e})||"{}"!=I(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!Q(e)){for(var t,r,n=[e],o=1;arguments.length>o;)n.push(arguments[o++]);return t=n[1],"function"==typeof t&&(r=t),!r&&b(t)||(t=function(e,t){if(r&&(t=r.call(this,e,t)),!Q(t))return t}),n[1]=t,I.apply(R,n)}}}),T[A][D]||e("./_hide")(T[A],D,T[A].valueOf),f(T,"Symbol"),f(Math,"Math",!0),f(n.JSON,"JSON",!0)},{"./_an-object":20,"./_descriptors":26,"./_enum-keys":29,"./_export":30,"./_fails":31,"./_global":32,"./_has":33,"./_hide":34,"./_is-array":38,"./_keyof":44,"./_library":45,"./_meta":46,"./_object-create":47,"./_object-dp":48,"./_object-gopd":50,"./_object-gopn":52,"./_object-gopn-ext":51,"./_object-gops":53,"./_object-keys":56,"./_object-pie":57,"./_property-desc":59,"./_redefine":60,"./_set-to-string-tag":62,"./_shared":64,"./_to-iobject":68,"./_to-primitive":71,"./_uid":72,"./_wks":75,"./_wks-define":73,"./_wks-ext":74}],84:[function(e,t,r){e("./_wks-define")("asyncIterator")},{"./_wks-define":73}],85:[function(e,t,r){e("./_wks-define")("observable")},{"./_wks-define":73}],86:[function(e,t,r){e("./es6.array.iterator");for(var n=e("./_global"),o=e("./_hide"),i=e("./_iterators"),s=e("./_wks")("toStringTag"),a=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var c=a[u],l=n[c],f=l&&l.prototype;f&&!f[s]&&o(f,s,c),i[c]=i.Array}},{"./_global":32,"./_hide":34,"./_iterators":43,"./_wks":75,"./es6.array.iterator":76}],87:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("babel-runtime/helpers/classCallCheck"),i=n(o),s=e("babel-runtime/helpers/createClass"),a=n(s),u=function(){function e(){(0,i["default"])(this,e);var t=this;t._msgId=0,t._subscriptions={},t._responseTimeOut=5e3,t._responseCallbacks={},t._registerExternalListener()}return(0,a["default"])(e,[{key:"addListener",value:function(e,t){var r=this,n=new c(r._subscriptions,e,t),o=r._subscriptions[e];return o||(o=[],r._subscriptions[e]=o),o.push(n),n}},{key:"addResponseListener",value:function(e,t,r){this._responseCallbacks[e+t]=r}},{key:"removeResponseListener",value:function(e,t){delete this._responseCallbacks[e+t]}},{key:"removeAllListenersOf",value:function(e){delete this._subscriptions[e]}},{key:"bind",value:function(e,t,r){var n=this,o=this,i=o.addListener(e,function(e){r.postMessage(e)}),s=r.addListener(t,function(e){o.postMessage(e)});return{thisListener:i,targetListener:s,unbind:function(){n.thisListener.remove(),n.targetListener.remove()}}}},{key:"_publishOnDefault",value:function(e){var t=this._subscriptions["*"];t&&this._publishOn(t,e)}},{key:"_publishOn",value:function(e,t){e.forEach(function(e){e._callback(t)})}},{key:"_responseCallback",value:function(e,t){var r=this;t&&!function(){var n=e.from+e.id;r._responseCallbacks[n]=t,setTimeout(function(){var t=r._responseCallbacks[n];if(delete r._responseCallbacks[n],t){var o={id:e.id,type:"response",body:{code:408,desc:"Response timeout!",value:e}};t(o)}},r._responseTimeOut)}()}},{key:"_onResponse",value:function(e){var t=this;if("response"===e.type){var r=e.to+e.id,n=t._responseCallbacks[r];if(e.body.code>=200&&delete t._responseCallbacks[r],n)return n(e),!0}return!1}},{key:"_onMessage",value:function(e){var t=this;if(!t._onResponse(e)){var r=t._subscriptions[e.to];r?t._publishOn(r,e):t._publishOnDefault(e)}}},{key:"_genId",value:function(e){e.id&&0!==e.id||(this._msgId++,e.id=this._msgId)}},{key:"postMessage",value:function(e,t){}},{key:"_onPostMessage",value:function(e){}},{key:"_registerExternalListener",value:function(){}}]),e}(),c=function(){function e(t,r,n){(0,i["default"])(this,e);var o=this;o._subscriptions=t,o._url=r,o._callback=n}return(0,a["default"])(e,[{key:"remove",value:function(){var e=this,t=e._subscriptions[e._url];if(t){var r=t.indexOf(e);t.splice(r,1),0===t.length&&delete e._subscriptions[e._url]}}},{key:"url",get:function(){return this._url}}]),e}();r["default"]=u,t.exports=r["default"]},{"babel-runtime/helpers/classCallCheck":7,"babel-runtime/helpers/createClass":8}],88:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("babel-runtime/core-js/object/get-prototype-of"),i=n(o),s=e("babel-runtime/helpers/classCallCheck"),a=n(s),u=e("babel-runtime/helpers/createClass"),c=n(u),l=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(l),p=e("babel-runtime/helpers/inherits"),d=n(p),h=e("./Bus"),y=n(h),_=function(e){function t(){return(0,a["default"])(this,t),(0,f["default"])(this,(t.__proto__||(0,i["default"])(t)).call(this))}return(0,d["default"])(t,e),(0,c["default"])(t,[{key:"postMessage",value:function(e,t){var r=this;return r._genId(e),r._responseCallback(e,t),r._onPostMessage(e),e.id}},{key:"_onMessage",value:function(e){var t=this;if(!t._onResponse(e)){var r=t._subscriptions[e.to];r?(t._publishOn(r,e),e.to.startsWith("hyperty")||t._publishOnDefault(e)):t._publishOnDefault(e)}}}]),t}(y["default"]);r["default"]=_,t.exports=r["default"]},{"./Bus":87,"babel-runtime/core-js/object/get-prototype-of":3,"babel-runtime/helpers/classCallCheck":7,"babel-runtime/helpers/createClass":8,"babel-runtime/helpers/inherits":9,"babel-runtime/helpers/possibleConstructorReturn":10}],89:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("./bus/MiniBus"),i=n(o);r["default"]=i["default"],t.exports=r["default"]},{"./bus/MiniBus":88}]},{},[89])(89)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,r,n){(function(o){!function(e){if("object"==typeof n&&"undefined"!=typeof r)r.exports=e();else if("function"==typeof t&&t.amd)t([],e);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof o?o:"undefined"!=typeof self?self:this,i.sandbox=e()}}(function(){return function t(r,n,o){function i(a,u){if(!n[a]){if(!r[a]){var c="function"==typeof e&&e;if(!u&&c)return c(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[a]={exports:{}};r[a][0].call(f.exports,function(e){var t=r[a][1][e];return i(t?t:e)},f,f.exports,t,r,n,o)}return n[a].exports}for(var s="function"==typeof e&&e,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":13}],2:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":14}],3:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/get-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/get-prototype-of":15}],4:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":16}],5:[function(e,t,r){t.exports={"default":e("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":17}],6:[function(e,t,r){t.exports={"default":e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":18}],7:[function(e,t,r){t.exports={"default":e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":19}],8:[function(e,t,r){"use strict";r.__esModule=!0,r["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],9:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}r.__esModule=!0;var o=e("../core-js/object/define-property"),i=n(o);r["default"]=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i["default"])(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},{"../core-js/object/define-property":2}],10:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}r.__esModule=!0;var o=e("../core-js/object/set-prototype-of"),i=n(o),s=e("../core-js/object/create"),a=n(s),u=e("../helpers/typeof"),c=n(u);r["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":(0,c["default"])(t)));e.prototype=(0,a["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i["default"]?(0,i["default"])(e,t):e.__proto__=t)}},{"../core-js/object/create":1,"../core-js/object/set-prototype-of":4,"../helpers/typeof":12}],11:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}r.__esModule=!0;var o=e("../helpers/typeof"),i=n(o);r["default"]=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":(0,i["default"])(t))&&"function"!=typeof t?e:t}},{"../helpers/typeof":12}],12:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}r.__esModule=!0;var o=e("../core-js/symbol/iterator"),i=n(o),s=e("../core-js/symbol"),a=n(s),u="function"==typeof a["default"]&&"symbol"==typeof i["default"]?function(e){return typeof e}:function(e){return e&&"function"==typeof a["default"]&&e.constructor===a["default"]?"symbol":typeof e};r["default"]="function"==typeof a["default"]&&"symbol"===u(i["default"])?function(e){return"undefined"==typeof e?"undefined":u(e)}:function(e){return e&&"function"==typeof a["default"]&&e.constructor===a["default"]?"symbol":"undefined"==typeof e?"undefined":u(e)}},{"../core-js/symbol":6,"../core-js/symbol/iterator":7}],13:[function(e,t,r){e("../../modules/es6.object.create");var n=e("../../modules/_core").Object;t.exports=function(e,t){return n.create(e,t)}},{"../../modules/_core":27,"../../modules/es6.object.create":92}],14:[function(e,t,r){e("../../modules/es6.object.define-property");var n=e("../../modules/_core").Object;t.exports=function(e,t,r){return n.defineProperty(e,t,r)}},{"../../modules/_core":27,"../../modules/es6.object.define-property":93}],15:[function(e,t,r){e("../../modules/es6.object.get-prototype-of"),t.exports=e("../../modules/_core").Object.getPrototypeOf},{"../../modules/_core":27,"../../modules/es6.object.get-prototype-of":94}],16:[function(e,t,r){e("../../modules/es6.object.set-prototype-of"),t.exports=e("../../modules/_core").Object.setPrototypeOf},{"../../modules/_core":27,"../../modules/es6.object.set-prototype-of":95}],17:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),t.exports=e("../modules/_core").Promise},{"../modules/_core":27,"../modules/es6.object.to-string":96,"../modules/es6.promise":97,"../modules/es6.string.iterator":98,"../modules/web.dom.iterable":102}],18:[function(e,t,r){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),e("../../modules/es7.symbol.async-iterator"),e("../../modules/es7.symbol.observable"),t.exports=e("../../modules/_core").Symbol},{"../../modules/_core":27,"../../modules/es6.object.to-string":96,"../../modules/es6.symbol":99,"../../modules/es7.symbol.async-iterator":100,"../../modules/es7.symbol.observable":101}],19:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":88,"../../modules/es6.string.iterator":98,"../../modules/web.dom.iterable":102}],20:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],21:[function(e,t,r){t.exports=function(){}},{}],22:[function(e,t,r){t.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},{}],23:[function(e,t,r){var n=e("./_is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":46}],24:[function(e,t,r){var n=e("./_to-iobject"),o=e("./_to-length"),i=e("./_to-index");t.exports=function(e){return function(t,r,s){var a,u=n(t),c=o(u.length),l=i(s,c);if(e&&r!=r){for(;c>l;)if(a=u[l++],a!=a)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}}},{"./_to-index":80,"./_to-iobject":82,"./_to-length":83}],25:[function(e,t,r){var n=e("./_cof"),o=e("./_wks")("toStringTag"),i="Arguments"==n(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};t.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=s(t=Object(e),o))?r:i?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},{"./_cof":26,"./_wks":89}],26:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],27:[function(e,t,r){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},{}],28:[function(e,t,r){var n=e("./_a-function");t.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":20}],29:[function(e,t,r){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],30:[function(e,t,r){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":35}],31:[function(e,t,r){var n=e("./_is-object"),o=e("./_global").document,i=n(o)&&n(o.createElement);t.exports=function(e){return i?o.createElement(e):{}}},{"./_global":37,"./_is-object":46}],32:[function(e,t,r){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],33:[function(e,t,r){var n=e("./_object-keys"),o=e("./_object-gops"),i=e("./_object-pie");t.exports=function(e){var t=n(e),r=o.f;if(r)for(var s,a=r(e),u=i.f,c=0;a.length>c;)u.call(e,s=a[c++])&&t.push(s);return t}},{"./_object-gops":63,"./_object-keys":66,"./_object-pie":67}],34:[function(e,t,r){var n=e("./_global"),o=e("./_core"),i=e("./_ctx"),s=e("./_hide"),a="prototype",u=function(e,t,r){var c,l,f,p=e&u.F,d=e&u.G,h=e&u.S,y=e&u.P,_=e&u.B,m=e&u.W,b=d?o:o[t]||(o[t]={}),v=b[a],g=d?n:h?n[t]:(n[t]||{})[a];d&&(r=t);for(c in r)l=!p&&g&&void 0!==g[c],l&&c in b||(f=l?g[c]:r[c],b[c]=d&&"function"!=typeof g[c]?r[c]:_&&l?i(f,n):m&&g[c]==f?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t[a]=e[a],t}(f):y&&"function"==typeof f?i(Function.call,f):f,y&&((b.virtual||(b.virtual={}))[c]=f,e&u.R&&v&&!v[c]&&s(v,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},{"./_core":27,"./_ctx":28,"./_global":37,"./_hide":39}],35:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],36:[function(e,t,r){var n=e("./_ctx"),o=e("./_iter-call"),i=e("./_is-array-iter"),s=e("./_an-object"),a=e("./_to-length"),u=e("./core.get-iterator-method"),c={},l={},r=t.exports=function(e,t,r,f,p){var d,h,y,_,m=p?function(){return e}:u(e),b=n(r,f,t?2:1),v=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(i(m)){for(d=a(e.length);d>v;v++)if(_=t?b(s(h=e[v])[0],h[1]):b(e[v]),_===c||_===l)return _}else for(y=m.call(e);!(h=y.next()).done;)if(_=o(y,b,h.value,t),_===c||_===l)return _};r.BREAK=c,r.RETURN=l},{"./_an-object":23,"./_ctx":28,"./_is-array-iter":44,"./_iter-call":47,"./_to-length":83,"./core.get-iterator-method":90}],37:[function(e,t,r){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],38:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],39:[function(e,t,r){var n=e("./_object-dp"),o=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},{"./_descriptors":30,"./_object-dp":58,"./_property-desc":69}],40:[function(e,t,r){t.exports=e("./_global").document&&document.documentElement},{"./_global":37}],41:[function(e,t,r){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":30,"./_dom-create":31,"./_fails":35}],42:[function(e,t,r){t.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},{}],43:[function(e,t,r){var n=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./_cof":26}],44:[function(e,t,r){var n=e("./_iterators"),o=e("./_wks")("iterator"),i=Array.prototype;t.exports=function(e){return void 0!==e&&(n.Array===e||i[o]===e)}},{"./_iterators":52,"./_wks":89}],45:[function(e,t,r){var n=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./_cof":26}],46:[function(e,t,r){
t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],47:[function(e,t,r){var n=e("./_an-object");t.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){var i=e["return"];throw void 0!==i&&n(i.call(e)),t}}},{"./_an-object":23}],48:[function(e,t,r){"use strict";var n=e("./_object-create"),o=e("./_property-desc"),i=e("./_set-to-string-tag"),s={};e("./_hide")(s,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,r){e.prototype=n(s,{next:o(1,r)}),i(e,t+" Iterator")}},{"./_hide":39,"./_object-create":57,"./_property-desc":69,"./_set-to-string-tag":74,"./_wks":89}],49:[function(e,t,r){"use strict";var n=e("./_library"),o=e("./_export"),i=e("./_redefine"),s=e("./_hide"),a=e("./_has"),u=e("./_iterators"),c=e("./_iter-create"),l=e("./_set-to-string-tag"),f=e("./_object-gpo"),p=e("./_wks")("iterator"),d=!([].keys&&"next"in[].keys()),h="@@iterator",y="keys",_="values",m=function(){return this};t.exports=function(e,t,r,b,v,g,w){c(r,t,b);var k,j,x,O=function(e){if(!d&&e in C)return C[e];switch(e){case y:return function(){return new r(this,e)};case _:return function(){return new r(this,e)}}return function(){return new r(this,e)}},P=t+" Iterator",E=v==_,S=!1,C=e.prototype,M=C[p]||C[h]||v&&C[v],T=M||O(v),R=v?E?O("entries"):T:void 0,I="Array"==t?C.entries||M:M;if(I&&(x=f(I.call(new e)),x!==Object.prototype&&(l(x,P,!0),n||a(x,p)||s(x,p,m))),E&&M&&M.name!==_&&(S=!0,T=function(){return M.call(this)}),n&&!w||!d&&!S&&C[p]||s(C,p,T),u[t]=T,u[P]=m,v)if(k={values:E?T:O(_),keys:g?T:O(y),entries:R},w)for(j in k)j in C||i(C,j,k[j]);else o(o.P+o.F*(d||S),t,k);return k}},{"./_export":34,"./_has":38,"./_hide":39,"./_iter-create":48,"./_iterators":52,"./_library":54,"./_object-gpo":64,"./_redefine":71,"./_set-to-string-tag":74,"./_wks":89}],50:[function(e,t,r){var n=e("./_wks")("iterator"),o=!1;try{var i=[7][n]();i["return"]=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i=[7],s=i[n]();s.next=function(){return{done:r=!0}},i[n]=function(){return s},e(i)}catch(e){}return r}},{"./_wks":89}],51:[function(e,t,r){t.exports=function(e,t){return{value:t,done:!!e}}},{}],52:[function(e,t,r){t.exports={}},{}],53:[function(e,t,r){var n=e("./_object-keys"),o=e("./_to-iobject");t.exports=function(e,t){for(var r,i=o(e),s=n(i),a=s.length,u=0;a>u;)if(i[r=s[u++]]===t)return r}},{"./_object-keys":66,"./_to-iobject":82}],54:[function(e,t,r){t.exports=!0},{}],55:[function(e,t,r){var n=e("./_uid")("meta"),o=e("./_is-object"),i=e("./_has"),s=e("./_object-dp").f,a=0,u=Object.isExtensible||function(){return!0},c=!e("./_fails")(function(){return u(Object.preventExtensions({}))}),l=function(e){s(e,n,{value:{i:"O"+ ++a,w:{}}})},f=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[n].i},p=function(e,t){if(!i(e,n)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[n].w},d=function(e){return c&&h.NEED&&u(e)&&!i(e,n)&&l(e),e},h=t.exports={KEY:n,NEED:!1,fastKey:f,getWeak:p,onFreeze:d}},{"./_fails":35,"./_has":38,"./_is-object":46,"./_object-dp":58,"./_uid":86}],56:[function(e,t,r){var n=e("./_global"),o=e("./_task").set,i=n.MutationObserver||n.WebKitMutationObserver,s=n.process,a=n.Promise,u="process"==e("./_cof")(s);t.exports=function(){var e,t,r,c=function(){var n,o;for(u&&(n=s.domain)&&n.exit();e;){o=e.fn,e=e.next;try{o()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(u)r=function(){s.nextTick(c)};else if(i){var l=!0,f=document.createTextNode("");new i(c).observe(f,{characterData:!0}),r=function(){f.data=l=!l}}else if(a&&a.resolve){var p=a.resolve();r=function(){p.then(c)}}else r=function(){o.call(n,c)};return function(n){var o={fn:n,next:void 0};t&&(t.next=o),e||(e=o,r()),t=o}}},{"./_cof":26,"./_global":37,"./_task":79}],57:[function(e,t,r){var n=e("./_an-object"),o=e("./_object-dps"),i=e("./_enum-bug-keys"),s=e("./_shared-key")("IE_PROTO"),a=function(){},u="prototype",c=function(){var t,r=e("./_dom-create")("iframe"),n=i.length,o="<",s=">";for(r.style.display="none",e("./_html").appendChild(r),r.src="javascript:",t=r.contentWindow.document,t.open(),t.write(o+"script"+s+"document.F=Object"+o+"/script"+s),t.close(),c=t.F;n--;)delete c[u][i[n]];return c()};t.exports=Object.create||function(e,t){var r;return null!==e?(a[u]=n(e),r=new a,a[u]=null,r[s]=e):r=c(),void 0===t?r:o(r,t)}},{"./_an-object":23,"./_dom-create":31,"./_enum-bug-keys":32,"./_html":40,"./_object-dps":59,"./_shared-key":75}],58:[function(e,t,r){var n=e("./_an-object"),o=e("./_ie8-dom-define"),i=e("./_to-primitive"),s=Object.defineProperty;r.f=e("./_descriptors")?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},{"./_an-object":23,"./_descriptors":30,"./_ie8-dom-define":41,"./_to-primitive":85}],59:[function(e,t,r){var n=e("./_object-dp"),o=e("./_an-object"),i=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){o(e);for(var r,s=i(t),a=s.length,u=0;a>u;)n.f(e,r=s[u++],t[r]);return e}},{"./_an-object":23,"./_descriptors":30,"./_object-dp":58,"./_object-keys":66}],60:[function(e,t,r){var n=e("./_object-pie"),o=e("./_property-desc"),i=e("./_to-iobject"),s=e("./_to-primitive"),a=e("./_has"),u=e("./_ie8-dom-define"),c=Object.getOwnPropertyDescriptor;r.f=e("./_descriptors")?c:function(e,t){if(e=i(e),t=s(t,!0),u)try{return c(e,t)}catch(e){}if(a(e,t))return o(!n.f.call(e,t),e[t])}},{"./_descriptors":30,"./_has":38,"./_ie8-dom-define":41,"./_object-pie":67,"./_property-desc":69,"./_to-iobject":82,"./_to-primitive":85}],61:[function(e,t,r){var n=e("./_to-iobject"),o=e("./_object-gopn").f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return o(e)}catch(e){return s.slice()}};t.exports.f=function(e){return s&&"[object Window]"==i.call(e)?a(e):o(n(e))}},{"./_object-gopn":62,"./_to-iobject":82}],62:[function(e,t,r){var n=e("./_object-keys-internal"),o=e("./_enum-bug-keys").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},{"./_enum-bug-keys":32,"./_object-keys-internal":65}],63:[function(e,t,r){r.f=Object.getOwnPropertySymbols},{}],64:[function(e,t,r){var n=e("./_has"),o=e("./_to-object"),i=e("./_shared-key")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},{"./_has":38,"./_shared-key":75,"./_to-object":84}],65:[function(e,t,r){var n=e("./_has"),o=e("./_to-iobject"),i=e("./_array-includes")(!1),s=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var r,a=o(e),u=0,c=[];for(r in a)r!=s&&n(a,r)&&c.push(r);for(;t.length>u;)n(a,r=t[u++])&&(~i(c,r)||c.push(r));return c}},{"./_array-includes":24,"./_has":38,"./_shared-key":75,"./_to-iobject":82}],66:[function(e,t,r){var n=e("./_object-keys-internal"),o=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return n(e,o)}},{"./_enum-bug-keys":32,"./_object-keys-internal":65}],67:[function(e,t,r){r.f={}.propertyIsEnumerable},{}],68:[function(e,t,r){var n=e("./_export"),o=e("./_core"),i=e("./_fails");t.exports=function(e,t){var r=(o.Object||{})[e]||Object[e],s={};s[e]=t(r),n(n.S+n.F*i(function(){r(1)}),"Object",s)}},{"./_core":27,"./_export":34,"./_fails":35}],69:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],70:[function(e,t,r){var n=e("./_hide");t.exports=function(e,t,r){for(var o in t)r&&e[o]?e[o]=t[o]:n(e,o,t[o]);return e}},{"./_hide":39}],71:[function(e,t,r){t.exports=e("./_hide")},{"./_hide":39}],72:[function(e,t,r){var n=e("./_is-object"),o=e("./_an-object"),i=function(e,t){if(o(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n("./_ctx")(Function.call,n("./_object-gopd").f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},{"./_an-object":23,"./_ctx":28,"./_is-object":46,"./_object-gopd":60}],73:[function(e,t,r){"use strict";var n=e("./_global"),o=e("./_core"),i=e("./_object-dp"),s=e("./_descriptors"),a=e("./_wks")("species");t.exports=function(e){var t="function"==typeof o[e]?o[e]:n[e];s&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},{"./_core":27,"./_descriptors":30,"./_global":37,"./_object-dp":58,"./_wks":89}],74:[function(e,t,r){var n=e("./_object-dp").f,o=e("./_has"),i=e("./_wks")("toStringTag");t.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},{"./_has":38,"./_object-dp":58,"./_wks":89}],75:[function(e,t,r){var n=e("./_shared")("keys"),o=e("./_uid");t.exports=function(e){return n[e]||(n[e]=o(e))}},{"./_shared":76,"./_uid":86}],76:[function(e,t,r){var n=e("./_global"),o="__core-js_shared__",i=n[o]||(n[o]={});t.exports=function(e){return i[e]||(i[e]={})}},{"./_global":37}],77:[function(e,t,r){var n=e("./_an-object"),o=e("./_a-function"),i=e("./_wks")("species");t.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||void 0==(r=n(s)[i])?t:o(r)}},{"./_a-function":20,"./_an-object":23,"./_wks":89}],78:[function(e,t,r){var n=e("./_to-integer"),o=e("./_defined");t.exports=function(e){return function(t,r){var i,s,a=String(o(t)),u=n(r),c=a.length;return u<0||u>=c?e?"":void 0:(i=a.charCodeAt(u),i<55296||i>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?e?a.charAt(u):i:e?a.slice(u,u+2):(i-55296<<10)+(s-56320)+65536)}}},{"./_defined":29,"./_to-integer":81}],79:[function(e,t,r){var n,o,i,s=e("./_ctx"),a=e("./_invoke"),u=e("./_html"),c=e("./_dom-create"),l=e("./_global"),f=l.process,p=l.setImmediate,d=l.clearImmediate,h=l.MessageChannel,y=0,_={},m="onreadystatechange",b=function(){var e=+this;if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},v=function(e){b.call(e.data)};p&&d||(p=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return _[++y]=function(){a("function"==typeof e?e:Function(e),t)},n(y),y},d=function(e){delete _[e]},"process"==e("./_cof")(f)?n=function(e){f.nextTick(s(b,e,1))}:h?(o=new h,i=o.port2,o.port1.onmessage=v,n=s(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(e){l.postMessage(e+"","*")},l.addEventListener("message",v,!1)):n=m in c("script")?function(e){u.appendChild(c("script"))[m]=function(){u.removeChild(this),b.call(e)}}:function(e){setTimeout(s(b,e,1),0)}),t.exports={set:p,clear:d}},{"./_cof":26,"./_ctx":28,"./_dom-create":31,"./_global":37,"./_html":40,"./_invoke":42}],80:[function(e,t,r){var n=e("./_to-integer"),o=Math.max,i=Math.min;t.exports=function(e,t){return e=n(e),e<0?o(e+t,0):i(e,t)}},{"./_to-integer":81}],81:[function(e,t,r){var n=Math.ceil,o=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},{}],82:[function(e,t,r){var n=e("./_iobject"),o=e("./_defined");t.exports=function(e){return n(o(e))}},{"./_defined":29,"./_iobject":43}],83:[function(e,t,r){var n=e("./_to-integer"),o=Math.min;t.exports=function(e){return e>0?o(n(e),9007199254740991):0}},{"./_to-integer":81}],84:[function(e,t,r){var n=e("./_defined");t.exports=function(e){return Object(n(e))}},{"./_defined":29}],85:[function(e,t,r){var n=e("./_is-object");t.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":46}],86:[function(e,t,r){var n=0,o=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},{}],87:[function(e,t,r){var n=e("./_global"),o=e("./_core"),i=e("./_library"),s=e("./_wks-ext"),a=e("./_object-dp").f;t.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},{"./_core":27,"./_global":37,"./_library":54,"./_object-dp":58,"./_wks-ext":88}],88:[function(e,t,r){r.f=e("./_wks")},{"./_wks":89}],89:[function(e,t,r){var n=e("./_shared")("wks"),o=e("./_uid"),i=e("./_global").Symbol,s="function"==typeof i,a=t.exports=function(e){return n[e]||(n[e]=s&&i[e]||(s?i:o)("Symbol."+e))};a.store=n},{"./_global":37,"./_shared":76,"./_uid":86}],90:[function(e,t,r){var n=e("./_classof"),o=e("./_wks")("iterator"),i=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[n(e)]}},{"./_classof":25,"./_core":27,"./_iterators":52,"./_wks":89}],91:[function(e,t,r){"use strict";var n=e("./_add-to-unscopables"),o=e("./_iter-step"),i=e("./_iterators"),s=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,r):"values"==t?o(0,e[r]):o(0,[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},{"./_add-to-unscopables":21,"./_iter-define":49,"./_iter-step":51,"./_iterators":52,"./_to-iobject":82}],92:[function(e,t,r){var n=e("./_export");n(n.S,"Object",{create:e("./_object-create")})},{"./_export":34,"./_object-create":57}],93:[function(e,t,r){var n=e("./_export");n(n.S+n.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":30,"./_export":34,"./_object-dp":58}],94:[function(e,t,r){var n=e("./_to-object"),o=e("./_object-gpo");e("./_object-sap")("getPrototypeOf",function(){return function(e){return o(n(e))}})},{"./_object-gpo":64,"./_object-sap":68,"./_to-object":84}],95:[function(e,t,r){var n=e("./_export");n(n.S,"Object",{setPrototypeOf:e("./_set-proto").set})},{"./_export":34,"./_set-proto":72}],96:[function(e,t,r){},{}],97:[function(e,t,r){"use strict";var n,o,i,s=e("./_library"),a=e("./_global"),u=e("./_ctx"),c=e("./_classof"),l=e("./_export"),f=e("./_is-object"),p=e("./_a-function"),d=e("./_an-instance"),h=e("./_for-of"),y=e("./_species-constructor"),_=e("./_task").set,m=e("./_microtask")(),b="Promise",v=a.TypeError,g=a.process,w=a[b],g=a.process,k="process"==c(g),j=function(){},x=!!function(){try{var e=w.resolve(1),t=(e.constructor={})[r("./_wks")("species")]=function(e){e(j,j)};return(k||"function"==typeof PromiseRejectionEvent)&&e.then(j)instanceof t}catch(r){}}(),O=function(e,t){return e===t||e===w&&t===i},P=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},E=function(e){return O(w,e)?new S(e):new o(e)},S=o=function(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw v("Bad Promise constructor");t=e,r=n}),this.resolve=p(t),this.reject=p(r)},C=function(e){try{e()}catch(e){return{error:e}}},M=function(e,t){if(!e._n){e._n=!0;var r=e._c;m(function(){for(var n=e._v,o=1==e._s,i=0,s=function(e){var t,r,i=o?e.ok:e.fail,s=e.resolve,a=e.reject,u=e.domain;try{i?(o||(2==c._h&&I(c),c._h=1),i===!0?t=n:(u&&u.enter(),t=i(n),u&&u.exit()),t===e.promise?a(v("Promise-chain cycle")):(r=P(t))?r.call(t,s,a):s(t)):a(n)}catch(c){a(c)}};r.length>i;)s(r[i++]);e._c=[],e._n=!1,t&&!e._h&&T(e)})}},T=function(e){_.call(a,function(){var t,r,n,o=e._v;if(R(e)&&(t=C(function(){k?g.emit("unhandledRejection",o,e):(r=a.onunhandledrejection)?r({promise:e,reason:o}):(n=a.console)&&n.error&&n.error("Unhandled promise rejection",o)}),e._h=k||R(e)?2:1),e._a=void 0,t)throw t.error})},R=function(e){if(1==e._h)return!1;for(var t,r=e._a||e._c,n=0;r.length>n;)if(t=r[n++],t.fail||!R(t.promise))return!1;return!0},I=function(e){_.call(a,function(){var t;k?g.emit("rejectionHandled",e):(t=a.onrejectionhandled)&&t({promise:e,reason:e._v})})},A=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),M(t,!0))},N=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw v("Promise can't be resolved itself");(t=P(e))?m(function(){var e={_w:r,_d:!1};try{t.call(n,u(N,e,1),u(A,e,1))}catch(n){A.call(e,n)}}):(r._v=e,r._s=1,M(r,!1))}catch(e){A.call({_w:r,_d:!1},e)}}};x||(w=function(e){d(this,w,b,"_h"),p(e),n.call(this);try{e(u(N,this,1),u(A,this,1))}catch(e){A.call(this,e)}},n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=e("./_redefine-all")(w.prototype,{then:function(e,t){var r=E(y(this,w));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=k?g.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&M(this,!1),r.promise},"catch":function(e){return this.then(void 0,e)}}),S=function(){var e=new n;this.promise=e,this.resolve=u(N,e,1),this.reject=u(A,e,1)}),l(l.G+l.W+l.F*!x,{Promise:w}),e("./_set-to-string-tag")(w,b),e("./_set-species")(b),i=e("./_core")[b],l(l.S+l.F*!x,b,{reject:function(e){var t=E(this),r=t.reject;return r(e),t.promise}}),l(l.S+l.F*(s||!x),b,{resolve:function(e){if(e instanceof w&&O(e.constructor,this))return e;var t=E(this),r=t.resolve;return r(e),t.promise}}),l(l.S+l.F*!(x&&e("./_iter-detect")(function(e){w.all(e)["catch"](j)})),b,{all:function(e){var t=this,r=E(t),n=r.resolve,o=r.reject,i=C(function(){var r=[],i=0,s=1;h(e,!1,function(e){var a=i++,u=!1;r.push(void 0),s++,t.resolve(e).then(function(e){u||(u=!0,r[a]=e,--s||n(r))},o)}),--s||n(r)});return i&&o(i.error),r.promise},race:function(e){var t=this,r=E(t),n=r.reject,o=C(function(){h(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return o&&n(o.error),r.promise}})},{"./_a-function":20,"./_an-instance":22,"./_classof":25,"./_core":27,"./_ctx":28,"./_export":34,"./_for-of":36,"./_global":37,"./_is-object":46,"./_iter-detect":50,"./_library":54,"./_microtask":56,"./_redefine-all":70,"./_set-species":73,"./_set-to-string-tag":74,"./_species-constructor":77,"./_task":79,"./_wks":89}],98:[function(e,t,r){"use strict";var n=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":49,"./_string-at":78}],99:[function(e,t,r){"use strict";var n=e("./_global"),o=e("./_has"),i=e("./_descriptors"),s=e("./_export"),a=e("./_redefine"),u=e("./_meta").KEY,c=e("./_fails"),l=e("./_shared"),f=e("./_set-to-string-tag"),p=e("./_uid"),d=e("./_wks"),h=e("./_wks-ext"),y=e("./_wks-define"),_=e("./_keyof"),m=e("./_enum-keys"),b=e("./_is-array"),v=e("./_an-object"),g=e("./_to-iobject"),w=e("./_to-primitive"),k=e("./_property-desc"),j=e("./_object-create"),x=e("./_object-gopn-ext"),O=e("./_object-gopd"),P=e("./_object-dp"),E=e("./_object-keys"),S=O.f,C=P.f,M=x.f,T=n.Symbol,R=n.JSON,I=R&&R.stringify,A="prototype",N=d("_hidden"),D=d("toPrimitive"),U={}.propertyIsEnumerable,F=l("symbol-registry"),L=l("symbols"),$=l("op-symbols"),z=Object[A],B="function"==typeof T,H=n.QObject,K=!H||!H[A]||!H[A].findChild,q=i&&c(function(){return 7!=j(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=S(z,t);n&&delete z[t],C(e,t,r),n&&e!==z&&C(z,t,n)}:C,G=function(e){var t=L[e]=j(T[A]);return t._k=e,t},Q=B&&"symbol"==typeof T.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof T},W=function(e,t,r){return e===z&&W($,t,r),v(e),t=w(t,!0),v(r),o(L,t)?(r.enumerable?(o(e,N)&&e[N][t]&&(e[N][t]=!1),r=j(r,{enumerable:k(0,!1)})):(o(e,N)||C(e,N,k(1,{})),e[N][t]=!0),q(e,t,r)):C(e,t,r)},Y=function(e,t){v(e);for(var r,n=m(t=g(t)),o=0,i=n.length;i>o;)W(e,r=n[o++],t[r]);return e},V=function(e,t){return void 0===t?j(e):Y(j(e),t)},J=function(e){var t=U.call(this,e=w(e,!0));return!(this===z&&o(L,e)&&!o($,e))&&(!(t||!o(this,e)||!o(L,e)||o(this,N)&&this[N][e])||t)},X=function(e,t){if(e=g(e),t=w(t,!0),e!==z||!o(L,t)||o($,t)){var r=S(e,t);return!r||!o(L,t)||o(e,N)&&e[N][t]||(r.enumerable=!0),r}},Z=function(e){for(var t,r=M(g(e)),n=[],i=0;r.length>i;)o(L,t=r[i++])||t==N||t==u||n.push(t);return n},ee=function(e){for(var t,r=e===z,n=M(r?$:g(e)),i=[],s=0;n.length>s;)!o(L,t=n[s++])||r&&!o(z,t)||i.push(L[t]);return i};B||(T=function(){if(this instanceof T)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(r){this===z&&t.call($,r),o(this,N)&&o(this[N],e)&&(this[N][e]=!1),q(this,e,k(1,r))};return i&&K&&q(z,e,{configurable:!0,set:t}),G(e)},a(T[A],"toString",function(){return this._k}),O.f=X,P.f=W,e("./_object-gopn").f=x.f=Z,e("./_object-pie").f=J,e("./_object-gops").f=ee,i&&!e("./_library")&&a(z,"propertyIsEnumerable",J,!0),h.f=function(e){return G(d(e))}),s(s.G+s.W+s.F*!B,{Symbol:T});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;te.length>re;)d(te[re++]);for(var te=E(d.store),re=0;te.length>re;)y(te[re++]);s(s.S+s.F*!B,"Symbol",{"for":function(e){return o(F,e+="")?F[e]:F[e]=T(e)},keyFor:function(e){if(Q(e))return _(F,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){K=!0},useSimple:function(){K=!1}}),s(s.S+s.F*!B,"Object",{create:V,defineProperty:W,defineProperties:Y,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:ee}),R&&s(s.S+s.F*(!B||c(function(){var e=T();return"[null]"!=I([e])||"{}"!=I({a:e})||"{}"!=I(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!Q(e)){for(var t,r,n=[e],o=1;arguments.length>o;)n.push(arguments[o++]);return t=n[1],"function"==typeof t&&(r=t),!r&&b(t)||(t=function(e,t){if(r&&(t=r.call(this,e,t)),!Q(t))return t}),n[1]=t,I.apply(R,n)}}}),T[A][D]||e("./_hide")(T[A],D,T[A].valueOf),f(T,"Symbol"),f(Math,"Math",!0),f(n.JSON,"JSON",!0)},{"./_an-object":23,"./_descriptors":30,"./_enum-keys":33,"./_export":34,"./_fails":35,"./_global":37,"./_has":38,"./_hide":39,"./_is-array":45,"./_keyof":53,"./_library":54,"./_meta":55,"./_object-create":57,"./_object-dp":58,"./_object-gopd":60,"./_object-gopn":62,"./_object-gopn-ext":61,"./_object-gops":63,"./_object-keys":66,"./_object-pie":67,"./_property-desc":69,"./_redefine":71,"./_set-to-string-tag":74,"./_shared":76,"./_to-iobject":82,"./_to-primitive":85,"./_uid":86,"./_wks":89,"./_wks-define":87,"./_wks-ext":88}],100:[function(e,t,r){e("./_wks-define")("asyncIterator")},{"./_wks-define":87}],101:[function(e,t,r){e("./_wks-define")("observable")},{"./_wks-define":87}],102:[function(e,t,r){e("./es6.array.iterator");for(var n=e("./_global"),o=e("./_hide"),i=e("./_iterators"),s=e("./_wks")("toStringTag"),a=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var c=a[u],l=n[c],f=l&&l.prototype;f&&!f[s]&&o(f,s,c),i[c]=i.Array}},{"./_global":37,"./_hide":39,"./_iterators":52,"./_wks":89,"./es6.array.iterator":91}],103:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("babel-runtime/helpers/classCallCheck"),i=n(o),s=e("babel-runtime/helpers/createClass"),a=n(s),u=function(){function e(){(0,i["default"])(this,e);var t=this;t._msgId=0,t._subscriptions={},t._responseTimeOut=5e3,t._responseCallbacks={},t._registerExternalListener()}return(0,a["default"])(e,[{key:"addListener",value:function(e,t){var r=this,n=new c(r._subscriptions,e,t),o=r._subscriptions[e];return o||(o=[],r._subscriptions[e]=o),o.push(n),n}},{key:"addResponseListener",value:function(e,t,r){this._responseCallbacks[e+t]=r}},{key:"removeResponseListener",value:function(e,t){delete this._responseCallbacks[e+t]}},{key:"removeAllListenersOf",value:function(e){delete this._subscriptions[e]}},{key:"bind",value:function(e,t,r){var n=this,o=this,i=o.addListener(e,function(e){r.postMessage(e)}),s=r.addListener(t,function(e){o.postMessage(e)});return{thisListener:i,targetListener:s,unbind:function(){n.thisListener.remove(),n.targetListener.remove()}}}},{key:"_publishOnDefault",value:function(e){var t=this._subscriptions["*"];t&&this._publishOn(t,e)}},{key:"_publishOn",value:function(e,t){e.forEach(function(e){e._callback(t)})}},{key:"_responseCallback",value:function(e,t){var r=this;t&&!function(){var n=e.from+e.id;r._responseCallbacks[n]=t,setTimeout(function(){var t=r._responseCallbacks[n];if(delete r._responseCallbacks[n],t){var o={id:e.id,type:"response",body:{code:408,desc:"Response timeout!",value:e}};t(o)}},r._responseTimeOut)}()}},{key:"_onResponse",value:function(e){var t=this;if("response"===e.type){var r=e.to+e.id,n=t._responseCallbacks[r];if(e.body.code>=200&&delete t._responseCallbacks[r],n)return n(e),!0}return!1}},{key:"_onMessage",value:function(e){var t=this;if(!t._onResponse(e)){var r=t._subscriptions[e.to];r?t._publishOn(r,e):t._publishOnDefault(e)}}},{key:"_genId",value:function(e){e.id&&0!==e.id||(this._msgId++,e.id=this._msgId)}},{key:"postMessage",value:function(e,t){}},{key:"_onPostMessage",value:function(e){}},{key:"_registerExternalListener",value:function(){}}]),e}(),c=function(){function e(t,r,n){(0,i["default"])(this,e);var o=this;o._subscriptions=t,o._url=r,o._callback=n}return(0,a["default"])(e,[{key:"remove",value:function(){var e=this,t=e._subscriptions[e._url];if(t){var r=t.indexOf(e);t.splice(r,1),0===t.length&&delete e._subscriptions[e._url]}}},{key:"url",get:function(){return this._url}}]),e}();r["default"]=u,t.exports=r["default"]},{"babel-runtime/helpers/classCallCheck":8,"babel-runtime/helpers/createClass":9}],104:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("babel-runtime/core-js/object/get-prototype-of"),i=n(o),s=e("babel-runtime/helpers/classCallCheck"),a=n(s),u=e("babel-runtime/helpers/createClass"),c=n(u),l=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(l),p=e("babel-runtime/helpers/inherits"),d=n(p),h=e("./Bus"),y=n(h),_=function(e){function t(){return(0,a["default"])(this,t),(0,f["default"])(this,(t.__proto__||(0,i["default"])(t)).call(this))}return(0,d["default"])(t,e),(0,c["default"])(t,[{key:"postMessage",value:function(e,t){var r=this;return r._genId(e),r._responseCallback(e,t),r._onPostMessage(e),e.id}},{key:"_onMessage",value:function(e){var t=this;if(!t._onResponse(e)){var r=t._subscriptions[e.to];r?(t._publishOn(r,e),e.to.startsWith("hyperty")||t._publishOnDefault(e)):t._publishOnDefault(e)}}}]),t}(y["default"]);r["default"]=_,t.exports=r["default"]},{"./Bus":103,"babel-runtime/core-js/object/get-prototype-of":3,"babel-runtime/helpers/classCallCheck":8,"babel-runtime/helpers/createClass":9,"babel-runtime/helpers/inherits":10,"babel-runtime/helpers/possibleConstructorReturn":11}],105:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0}),r.SandboxRegistry=r.SandboxType=r.Sandbox=void 0;var o=e("./sandbox/Sandbox"),i=n(o),s=e("./sandbox/SandboxRegistry"),a=n(s);r.Sandbox=i["default"],r.SandboxType=o.SandboxType,r.SandboxRegistry=a["default"]},{"./sandbox/Sandbox":106,"./sandbox/SandboxRegistry":107}],106:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0}),r.SandboxType=void 0;var o=e("babel-runtime/core-js/promise"),i=n(o),s=e("babel-runtime/core-js/object/get-prototype-of"),a=n(s),u=e("babel-runtime/helpers/classCallCheck"),c=n(u),l=e("babel-runtime/helpers/createClass"),f=n(l),p=e("babel-runtime/helpers/possibleConstructorReturn"),d=n(p),h=e("babel-runtime/helpers/inherits"),y=n(h),_=e("../sandbox/SandboxRegistry"),m=n(_),b=e("../bus/MiniBus"),v=n(b),g=(r.SandboxType={APP:"app",NORMAL:"normal"},function(e){function t(){(0,c["default"])(this,t);var e=(0,d["default"])(this,(t.__proto__||(0,a["default"])(t)).call(this));return e}return(0,y["default"])(t,e),(0,f["default"])(t,[{key:"deployComponent",value:function(e,t,r){var n=this;return new i["default"](function(o,i){var s={type:"create",from:m["default"].ExternalDeployAddress,to:m["default"].InternalDeployAddress,body:{url:t,sourceCode:e,config:r}};n.postMessage(s,function(e){200===e.body.code?o("deployed"):i(e.body.desc)})})}},{key:"removeComponent",value:function(e){var t=this;return new i["default"](function(r,n){var o={type:"delete",from:m["default"].ExternalDeployAddress,to:m["default"].InternalDeployAddress,body:{url:e}};t.postMessage(o,function(e){200===e.body.code?r("undeployed"):n(e.body.desc)})})}}]),t}(v["default"]));r["default"]=g},{"../bus/MiniBus":104,"../sandbox/SandboxRegistry":107,"babel-runtime/core-js/object/get-prototype-of":3,"babel-runtime/core-js/promise":5,"babel-runtime/helpers/classCallCheck":8,"babel-runtime/helpers/createClass":9,"babel-runtime/helpers/inherits":10,"babel-runtime/helpers/possibleConstructorReturn":11}],107:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("babel-runtime/helpers/classCallCheck"),i=n(o),s=e("babel-runtime/helpers/createClass"),a=n(s),u=function(){function e(t){(0,i["default"])(this,e);var r=this;r._bus=t,r._components={},t.addListener(e.InternalDeployAddress,function(e){switch(e.type){case"create":r._onDeploy(e);break;case"delete":r._onRemove(e)}})}return(0,a["default"])(e,[{key:"_responseMsg",value:function(t,r,n){var o={id:t.id,type:"response",from:e.InternalDeployAddress,to:e.ExternalDeployAddress},i={};return r&&(i.code=r),n&&(i.desc=n),o.body=i,o}},{key:"_onDeploy",value:function(e){var t=this,r=e.body.config,n=e.body.url,o=e.body.sourceCode,i=void 0,s=void 0;if(t._components.hasOwnProperty(n))i=500,s="Instance "+n+" already exist!";else try{t._components[n]=t._create(n,o,r),i=200}catch(e){i=500,s=e}var a=t._responseMsg(e,i,s);t._bus.postMessage(a)}},{key:"_onRemove",value:function(e){var t=this,r=e.body.url,n=void 0,o=void 0;t._components.hasOwnProperty(r)?(delete t._components[r],t._bus.removeAllListenersOf(r),n=200):(n=500,o="Instance "+r+" doesn't exist!");var i=t._responseMsg(e,n,o);t._bus.postMessage(i)}},{key:"_create",value:function(e,t,r){}},{key:"components",get:function(){return this._components}}]),e}();u.ExternalDeployAddress="hyperty-runtime://sandbox/external",u.InternalDeployAddress="hyperty-runtime://sandbox/internal",r["default"]=u,t.exports=r["default"]},{"babel-runtime/helpers/classCallCheck":8,"babel-runtime/helpers/createClass":9}]},{},[105])(105)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,r,n){(function(o){!function(e){if("object"==typeof n&&"undefined"!=typeof r)r.exports=e();else if("function"==typeof t&&t.amd)t([],e);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof o?o:"undefined"!=typeof self?self:this,i.PersistenceManager=e()}}(function(){return function t(r,n,o){function i(a,u){if(!n[a]){if(!r[a]){var c="function"==typeof e&&e;if(!u&&c)return c(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[a]={exports:{}};r[a][0].call(f.exports,function(e){var t=r[a][1][e];return i(t?t:e)},f,f.exports,t,r,n,o)}return n[a].exports}for(var s="function"==typeof e&&e,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(e,t,r){t.exports={"default":e("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":5}],2:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":6}],3:[function(e,t,r){"use strict";r.__esModule=!0,r["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],4:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}r.__esModule=!0;var o=e("../core-js/object/define-property"),i=n(o);r["default"]=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,
"value"in n&&(n.writable=!0),(0,i["default"])(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},{"../core-js/object/define-property":2}],5:[function(e,t,r){var n=e("../../modules/_core"),o=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(e){return o.stringify.apply(o,arguments)}},{"../../modules/_core":9}],6:[function(e,t,r){e("../../modules/es6.object.define-property");var n=e("../../modules/_core").Object;t.exports=function(e,t,r){return n.defineProperty(e,t,r)}},{"../../modules/_core":9,"../../modules/es6.object.define-property":22}],7:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],8:[function(e,t,r){var n=e("./_is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":18}],9:[function(e,t,r){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},{}],10:[function(e,t,r){var n=e("./_a-function");t.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":7}],11:[function(e,t,r){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":14}],12:[function(e,t,r){var n=e("./_is-object"),o=e("./_global").document,i=n(o)&&n(o.createElement);t.exports=function(e){return i?o.createElement(e):{}}},{"./_global":15,"./_is-object":18}],13:[function(e,t,r){var n=e("./_global"),o=e("./_core"),i=e("./_ctx"),s=e("./_hide"),a="prototype",u=function(e,t,r){var c,l,f,p=e&u.F,d=e&u.G,h=e&u.S,y=e&u.P,_=e&u.B,m=e&u.W,b=d?o:o[t]||(o[t]={}),v=b[a],g=d?n:h?n[t]:(n[t]||{})[a];d&&(r=t);for(c in r)l=!p&&g&&void 0!==g[c],l&&c in b||(f=l?g[c]:r[c],b[c]=d&&"function"!=typeof g[c]?r[c]:_&&l?i(f,n):m&&g[c]==f?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t[a]=e[a],t}(f):y&&"function"==typeof f?i(Function.call,f):f,y&&((b.virtual||(b.virtual={}))[c]=f,e&u.R&&v&&!v[c]&&s(v,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},{"./_core":9,"./_ctx":10,"./_global":15,"./_hide":16}],14:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],15:[function(e,t,r){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],16:[function(e,t,r){var n=e("./_object-dp"),o=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},{"./_descriptors":11,"./_object-dp":19,"./_property-desc":20}],17:[function(e,t,r){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":11,"./_dom-create":12,"./_fails":14}],18:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],19:[function(e,t,r){var n=e("./_an-object"),o=e("./_ie8-dom-define"),i=e("./_to-primitive"),s=Object.defineProperty;r.f=e("./_descriptors")?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return s(e,t,r)}catch(a){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},{"./_an-object":8,"./_descriptors":11,"./_ie8-dom-define":17,"./_to-primitive":21}],20:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],21:[function(e,t,r){var n=e("./_is-object");t.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":18}],22:[function(e,t,r){var n=e("./_export");n(n.S+n.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":11,"./_export":13,"./_object-dp":19}],23:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("babel-runtime/core-js/json/stringify"),i=n(o),s=e("babel-runtime/helpers/classCallCheck"),a=n(s),u=e("babel-runtime/helpers/createClass"),c=n(u),l=function(){function e(t){if((0,a["default"])(this,e),!t)throw Error("The Persistence Manager needs the localStorage");var r=this;r.localStorage=t}return(0,c["default"])(e,[{key:"set",value:function(e,t,r){var n=this;n.localStorage.setItem(e,(0,i["default"])({version:t,value:r}))}},{key:"get",value:function(e){var t=this;try{return JSON.parse(t.localStorage.getItem(e)).value}catch(r){}}},{key:"getVersion",value:function(e){var t=this;try{return JSON.parse(t.localStorage.getItem(e)).version}catch(r){}}},{key:"delete",value:function(e){var t=this;t.localStorage.removeItem(e)}}]),e}();r["default"]=l,t.exports=r["default"]},{"babel-runtime/core-js/json/stringify":1,"babel-runtime/helpers/classCallCheck":3,"babel-runtime/helpers/createClass":4}]},{},[23])(23)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,r,n){(function(o){!function(e){if("object"==typeof n&&"undefined"!=typeof r)r.exports=e();else if("function"==typeof t&&t.amd)t([],e);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof o?o:"undefined"!=typeof self?self:this,i.RuntimeCatalogue=e()}}(function(){var t;return function r(t,n,o){function i(a,u){if(!n[a]){if(!t[a]){var c="function"==typeof e&&e;if(!u&&c)return c(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(e){var r=t[a][1][e];return i(r?r:e)},f,f.exports,r,t,n,o)}return n[a].exports}for(var s="function"==typeof e&&e,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(e,t,r){t.exports={"default":e("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":17}],2:[function(e,t,r){t.exports={"default":e("core-js/library/fn/is-iterable"),__esModule:!0}},{"core-js/library/fn/is-iterable":18}],3:[function(e,t,r){t.exports={"default":e("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":19}],4:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":20}],5:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":21}],6:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/get-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/get-prototype-of":22}],7:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":23}],8:[function(e,t,r){t.exports={"default":e("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":24}],9:[function(e,t,r){t.exports={"default":e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":25}],10:[function(e,t,r){t.exports={"default":e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":26}],11:[function(e,t,r){"use strict";r.__esModule=!0,r["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],12:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}r.__esModule=!0;var o=e("../core-js/object/define-property"),i=n(o);r["default"]=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i["default"])(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},{"../core-js/object/define-property":5}],13:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}r.__esModule=!0;var o=e("../core-js/object/set-prototype-of"),i=n(o),s=e("../core-js/object/create"),a=n(s),u=e("../helpers/typeof"),c=n(u);r["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":(0,c["default"])(t)));e.prototype=(0,a["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i["default"]?(0,i["default"])(e,t):e.__proto__=t)}},{"../core-js/object/create":4,"../core-js/object/set-prototype-of":7,"../helpers/typeof":16}],14:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}r.__esModule=!0;var o=e("../helpers/typeof"),i=n(o);r["default"]=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":(0,i["default"])(t))&&"function"!=typeof t?e:t}},{"../helpers/typeof":16}],15:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}r.__esModule=!0;var o=e("../core-js/is-iterable"),i=n(o),s=e("../core-js/get-iterator"),a=n(s);r["default"]=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var s,u=(0,a["default"])(e);!(n=(s=u.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(c){o=!0,i=c}finally{try{!n&&u["return"]&&u["return"]()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if((0,i["default"])(Object(t)))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},{"../core-js/get-iterator":1,"../core-js/is-iterable":2}],16:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}r.__esModule=!0;var o=e("../core-js/symbol/iterator"),i=n(o),s=e("../core-js/symbol"),a=n(s),u="function"==typeof a["default"]&&"symbol"==typeof i["default"]?function(e){return typeof e}:function(e){return e&&"function"==typeof a["default"]&&e.constructor===a["default"]&&e!==a["default"].prototype?"symbol":typeof e};r["default"]="function"==typeof a["default"]&&"symbol"===u(i["default"])?function(e){return"undefined"==typeof e?"undefined":u(e)}:function(e){return e&&"function"==typeof a["default"]&&e.constructor===a["default"]&&e!==a["default"].prototype?"symbol":"undefined"==typeof e?"undefined":u(e)}},{"../core-js/symbol":9,"../core-js/symbol/iterator":10}],17:[function(e,t,r){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.get-iterator")},{"../modules/core.get-iterator":98,"../modules/es6.string.iterator":107,"../modules/web.dom.iterable":111}],18:[function(e,t,r){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.is-iterable")},{"../modules/core.is-iterable":99,"../modules/es6.string.iterator":107,"../modules/web.dom.iterable":111}],19:[function(e,t,r){var n=e("../../modules/_core"),o=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(e){return o.stringify.apply(o,arguments)}},{"../../modules/_core":34}],20:[function(e,t,r){e("../../modules/es6.object.create");var n=e("../../modules/_core").Object;t.exports=function(e,t){return n.create(e,t)}},{"../../modules/_core":34,"../../modules/es6.object.create":101}],21:[function(e,t,r){e("../../modules/es6.object.define-property");var n=e("../../modules/_core").Object;t.exports=function(e,t,r){return n.defineProperty(e,t,r)}},{"../../modules/_core":34,"../../modules/es6.object.define-property":102}],22:[function(e,t,r){e("../../modules/es6.object.get-prototype-of"),t.exports=e("../../modules/_core").Object.getPrototypeOf},{"../../modules/_core":34,"../../modules/es6.object.get-prototype-of":103}],23:[function(e,t,r){e("../../modules/es6.object.set-prototype-of"),t.exports=e("../../modules/_core").Object.setPrototypeOf},{"../../modules/_core":34,"../../modules/es6.object.set-prototype-of":104}],24:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),t.exports=e("../modules/_core").Promise},{"../modules/_core":34,"../modules/es6.object.to-string":105,"../modules/es6.promise":106,"../modules/es6.string.iterator":107,"../modules/web.dom.iterable":111}],25:[function(e,t,r){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),e("../../modules/es7.symbol.async-iterator"),e("../../modules/es7.symbol.observable"),t.exports=e("../../modules/_core").Symbol},{"../../modules/_core":34,"../../modules/es6.object.to-string":105,"../../modules/es6.symbol":108,"../../modules/es7.symbol.async-iterator":109,"../../modules/es7.symbol.observable":110}],26:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":95,"../../modules/es6.string.iterator":107,"../../modules/web.dom.iterable":111}],27:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],28:[function(e,t,r){t.exports=function(){}},{}],29:[function(e,t,r){t.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},{}],30:[function(e,t,r){var n=e("./_is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":53}],31:[function(e,t,r){var n=e("./_to-iobject"),o=e("./_to-length"),i=e("./_to-index");t.exports=function(e){return function(t,r,s){var a,u=n(t),c=o(u.length),l=i(s,c);if(e&&r!=r){for(;c>l;)if(a=u[l++],a!=a)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}}},{"./_to-index":87,"./_to-iobject":89,"./_to-length":90}],32:[function(e,t,r){var n=e("./_cof"),o=e("./_wks")("toStringTag"),i="Arguments"==n(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(r){}};t.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=s(t=Object(e),o))?r:i?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},{"./_cof":33,"./_wks":96}],33:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],34:[function(e,t,r){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},{}],35:[function(e,t,r){var n=e("./_a-function");t.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":27}],36:[function(e,t,r){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],37:[function(e,t,r){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":42}],38:[function(e,t,r){var n=e("./_is-object"),o=e("./_global").document,i=n(o)&&n(o.createElement);t.exports=function(e){return i?o.createElement(e):{}}},{"./_global":44,"./_is-object":53}],39:[function(e,t,r){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],40:[function(e,t,r){var n=e("./_object-keys"),o=e("./_object-gops"),i=e("./_object-pie");t.exports=function(e){var t=n(e),r=o.f;if(r)for(var s,a=r(e),u=i.f,c=0;a.length>c;)u.call(e,s=a[c++])&&t.push(s);return t}},{"./_object-gops":70,"./_object-keys":73,"./_object-pie":74}],41:[function(e,t,r){var n=e("./_global"),o=e("./_core"),i=e("./_ctx"),s=e("./_hide"),a="prototype",u=function(e,t,r){var c,l,f,p=e&u.F,d=e&u.G,h=e&u.S,y=e&u.P,_=e&u.B,m=e&u.W,b=d?o:o[t]||(o[t]={}),v=b[a],g=d?n:h?n[t]:(n[t]||{})[a];d&&(r=t);for(c in r)l=!p&&g&&void 0!==g[c],l&&c in b||(f=l?g[c]:r[c],b[c]=d&&"function"!=typeof g[c]?r[c]:_&&l?i(f,n):m&&g[c]==f?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t[a]=e[a],t}(f):y&&"function"==typeof f?i(Function.call,f):f,y&&((b.virtual||(b.virtual={}))[c]=f,e&u.R&&v&&!v[c]&&s(v,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},{"./_core":34,"./_ctx":35,"./_global":44,"./_hide":46}],42:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],43:[function(e,t,r){var n=e("./_ctx"),o=e("./_iter-call"),i=e("./_is-array-iter"),s=e("./_an-object"),a=e("./_to-length"),u=e("./core.get-iterator-method"),c={},l={},r=t.exports=function(e,t,r,f,p){var d,h,y,_,m=p?function(){return e}:u(e),b=n(r,f,t?2:1),v=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(i(m)){for(d=a(e.length);d>v;v++)if(_=t?b(s(h=e[v])[0],h[1]):b(e[v]),_===c||_===l)return _}else for(y=m.call(e);!(h=y.next()).done;)if(_=o(y,b,h.value,t),_===c||_===l)return _};r.BREAK=c,r.RETURN=l},{"./_an-object":30,"./_ctx":35,"./_is-array-iter":51,"./_iter-call":54,"./_to-length":90,"./core.get-iterator-method":97}],44:[function(e,t,r){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],45:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],46:[function(e,t,r){var n=e("./_object-dp"),o=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},{"./_descriptors":37,"./_object-dp":65,"./_property-desc":76}],47:[function(e,t,r){t.exports=e("./_global").document&&document.documentElement},{"./_global":44}],48:[function(e,t,r){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":37,"./_dom-create":38,"./_fails":42}],49:[function(e,t,r){t.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},{}],50:[function(e,t,r){var n=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./_cof":33}],51:[function(e,t,r){var n=e("./_iterators"),o=e("./_wks")("iterator"),i=Array.prototype;t.exports=function(e){return void 0!==e&&(n.Array===e||i[o]===e)}},{"./_iterators":59,"./_wks":96}],52:[function(e,t,r){var n=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./_cof":33}],53:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],54:[function(e,t,r){var n=e("./_an-object");t.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(i){var s=e["return"];throw void 0!==s&&n(s.call(e)),i}}},{"./_an-object":30}],55:[function(e,t,r){"use strict";var n=e("./_object-create"),o=e("./_property-desc"),i=e("./_set-to-string-tag"),s={};e("./_hide")(s,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,r){e.prototype=n(s,{next:o(1,r)}),i(e,t+" Iterator")}},{"./_hide":46,"./_object-create":64,"./_property-desc":76,"./_set-to-string-tag":81,"./_wks":96}],56:[function(e,t,r){"use strict";var n=e("./_library"),o=e("./_export"),i=e("./_redefine"),s=e("./_hide"),a=e("./_has"),u=e("./_iterators"),c=e("./_iter-create"),l=e("./_set-to-string-tag"),f=e("./_object-gpo"),p=e("./_wks")("iterator"),d=!([].keys&&"next"in[].keys()),h="@@iterator",y="keys",_="values",m=function(){return this};t.exports=function(e,t,r,b,v,g,w){c(r,t,b);var k,j,x,O=function(e){if(!d&&e in C)return C[e];switch(e){case y:return function(){return new r(this,e)};case _:return function(){return new r(this,e)}}return function(){return new r(this,e)}},P=t+" Iterator",E=v==_,S=!1,C=e.prototype,M=C[p]||C[h]||v&&C[v],T=M||O(v),R=v?E?O("entries"):T:void 0,I="Array"==t?C.entries||M:M;if(I&&(x=f(I.call(new e)),x!==Object.prototype&&(l(x,P,!0),n||a(x,p)||s(x,p,m))),E&&M&&M.name!==_&&(S=!0,T=function(){return M.call(this)}),n&&!w||!d&&!S&&C[p]||s(C,p,T),u[t]=T,u[P]=m,v)if(k={values:E?T:O(_),keys:g?T:O(y),entries:R},w)for(j in k)j in C||i(C,j,k[j]);else o(o.P+o.F*(d||S),t,k);return k}},{"./_export":41,"./_has":45,"./_hide":46,"./_iter-create":55,"./_iterators":59,"./_library":61,"./_object-gpo":71,"./_redefine":78,"./_set-to-string-tag":81,"./_wks":96}],57:[function(e,t,r){var n=e("./_wks")("iterator"),o=!1;try{var i=[7][n]();i["return"]=function(){o=!0},Array.from(i,function(){throw 2})}catch(s){}t.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i=[7],s=i[n]();s.next=function(){return{done:r=!0}},i[n]=function(){return s},e(i)}catch(a){}return r}},{"./_wks":96}],58:[function(e,t,r){t.exports=function(e,t){return{value:t,done:!!e}}},{}],59:[function(e,t,r){t.exports={}},{}],60:[function(e,t,r){var n=e("./_object-keys"),o=e("./_to-iobject");t.exports=function(e,t){for(var r,i=o(e),s=n(i),a=s.length,u=0;a>u;)if(i[r=s[u++]]===t)return r}},{"./_object-keys":73,"./_to-iobject":89}],61:[function(e,t,r){t.exports=!0},{}],62:[function(e,t,r){var n=e("./_uid")("meta"),o=e("./_is-object"),i=e("./_has"),s=e("./_object-dp").f,a=0,u=Object.isExtensible||function(){return!0},c=!e("./_fails")(function(){return u(Object.preventExtensions({}))}),l=function(e){s(e,n,{value:{i:"O"+ ++a,w:{}}})},f=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[n].i},p=function(e,t){if(!i(e,n)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[n].w},d=function(e){return c&&h.NEED&&u(e)&&!i(e,n)&&l(e),e},h=t.exports={KEY:n,NEED:!1,fastKey:f,getWeak:p,onFreeze:d}},{"./_fails":42,"./_has":45,"./_is-object":53,"./_object-dp":65,"./_uid":93}],63:[function(e,t,r){var n=e("./_global"),o=e("./_task").set,i=n.MutationObserver||n.WebKitMutationObserver,s=n.process,a=n.Promise,u="process"==e("./_cof")(s);t.exports=function(){var e,t,r,c=function(){var n,o;for(u&&(n=s.domain)&&n.exit();e;){o=e.fn,e=e.next;try{o()}catch(i){throw e?r():t=void 0,i}}t=void 0,n&&n.enter()};if(u)r=function(){s.nextTick(c)};else if(i){var l=!0,f=document.createTextNode("");new i(c).observe(f,{characterData:!0}),r=function(){f.data=l=!l}}else if(a&&a.resolve){var p=a.resolve();r=function(){p.then(c)}}else r=function(){o.call(n,c)};return function(n){var o={fn:n,next:void 0};t&&(t.next=o),e||(e=o,r()),t=o}}},{"./_cof":33,"./_global":44,"./_task":86}],64:[function(e,t,r){var n=e("./_an-object"),o=e("./_object-dps"),i=e("./_enum-bug-keys"),s=e("./_shared-key")("IE_PROTO"),a=function(){},u="prototype",c=function(){var t,r=e("./_dom-create")("iframe"),n=i.length,o="<",s=">";for(r.style.display="none",e("./_html").appendChild(r),r.src="javascript:",t=r.contentWindow.document,t.open(),t.write(o+"script"+s+"document.F=Object"+o+"/script"+s),t.close(),c=t.F;n--;)delete c[u][i[n]];return c()};t.exports=Object.create||function(e,t){var r;return null!==e?(a[u]=n(e),r=new a,a[u]=null,r[s]=e):r=c(),void 0===t?r:o(r,t)}},{"./_an-object":30,"./_dom-create":38,"./_enum-bug-keys":39,"./_html":47,"./_object-dps":66,"./_shared-key":82}],65:[function(e,t,r){var n=e("./_an-object"),o=e("./_ie8-dom-define"),i=e("./_to-primitive"),s=Object.defineProperty;r.f=e("./_descriptors")?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return s(e,t,r)}catch(a){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},{"./_an-object":30,"./_descriptors":37,"./_ie8-dom-define":48,"./_to-primitive":92}],66:[function(e,t,r){var n=e("./_object-dp"),o=e("./_an-object"),i=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){o(e);for(var r,s=i(t),a=s.length,u=0;a>u;)n.f(e,r=s[u++],t[r]);return e}},{"./_an-object":30,"./_descriptors":37,"./_object-dp":65,"./_object-keys":73}],67:[function(e,t,r){var n=e("./_object-pie"),o=e("./_property-desc"),i=e("./_to-iobject"),s=e("./_to-primitive"),a=e("./_has"),u=e("./_ie8-dom-define"),c=Object.getOwnPropertyDescriptor;r.f=e("./_descriptors")?c:function(e,t){if(e=i(e),t=s(t,!0),u)try{return c(e,t)}catch(r){}if(a(e,t))return o(!n.f.call(e,t),e[t])}},{"./_descriptors":37,"./_has":45,"./_ie8-dom-define":48,"./_object-pie":74,"./_property-desc":76,"./_to-iobject":89,"./_to-primitive":92}],68:[function(e,t,r){var n=e("./_to-iobject"),o=e("./_object-gopn").f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return o(e)}catch(t){return s.slice()}};t.exports.f=function(e){return s&&"[object Window]"==i.call(e)?a(e):o(n(e))}},{"./_object-gopn":69,"./_to-iobject":89}],69:[function(e,t,r){var n=e("./_object-keys-internal"),o=e("./_enum-bug-keys").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},{"./_enum-bug-keys":39,"./_object-keys-internal":72}],70:[function(e,t,r){r.f=Object.getOwnPropertySymbols},{}],71:[function(e,t,r){var n=e("./_has"),o=e("./_to-object"),i=e("./_shared-key")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},{"./_has":45,"./_shared-key":82,"./_to-object":91}],72:[function(e,t,r){var n=e("./_has"),o=e("./_to-iobject"),i=e("./_array-includes")(!1),s=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var r,a=o(e),u=0,c=[];for(r in a)r!=s&&n(a,r)&&c.push(r);for(;t.length>u;)n(a,r=t[u++])&&(~i(c,r)||c.push(r));return c}},{"./_array-includes":31,"./_has":45,"./_shared-key":82,"./_to-iobject":89}],73:[function(e,t,r){var n=e("./_object-keys-internal"),o=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return n(e,o)}},{"./_enum-bug-keys":39,"./_object-keys-internal":72}],74:[function(e,t,r){r.f={}.propertyIsEnumerable},{}],75:[function(e,t,r){var n=e("./_export"),o=e("./_core"),i=e("./_fails");t.exports=function(e,t){var r=(o.Object||{})[e]||Object[e],s={};s[e]=t(r),n(n.S+n.F*i(function(){r(1)}),"Object",s)}},{"./_core":34,"./_export":41,"./_fails":42}],76:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],77:[function(e,t,r){var n=e("./_hide");t.exports=function(e,t,r){for(var o in t)r&&e[o]?e[o]=t[o]:n(e,o,t[o]);return e}},{"./_hide":46}],78:[function(e,t,r){t.exports=e("./_hide")},{"./_hide":46}],79:[function(e,t,r){var n=e("./_is-object"),o=e("./_an-object"),i=function(e,t){if(o(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r,n){try{n=e("./_ctx")(Function.call,e("./_object-gopd").f(Object.prototype,"__proto__").set,2),n(t,[]),r=!(t instanceof Array)}catch(o){r=!0}return function(e,t){return i(e,t),r?e.__proto__=t:n(e,t),e}}({},!1):void 0),check:i}},{"./_an-object":30,"./_ctx":35,"./_is-object":53,"./_object-gopd":67}],80:[function(e,t,r){"use strict";var n=e("./_global"),o=e("./_core"),i=e("./_object-dp"),s=e("./_descriptors"),a=e("./_wks")("species");t.exports=function(e){var t="function"==typeof o[e]?o[e]:n[e];s&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},{"./_core":34,"./_descriptors":37,"./_global":44,"./_object-dp":65,"./_wks":96}],81:[function(e,t,r){var n=e("./_object-dp").f,o=e("./_has"),i=e("./_wks")("toStringTag");t.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},{"./_has":45,"./_object-dp":65,"./_wks":96}],82:[function(e,t,r){var n=e("./_shared")("keys"),o=e("./_uid");t.exports=function(e){return n[e]||(n[e]=o(e))}},{"./_shared":83,"./_uid":93}],83:[function(e,t,r){var n=e("./_global"),o="__core-js_shared__",i=n[o]||(n[o]={});t.exports=function(e){return i[e]||(i[e]={})}},{"./_global":44}],84:[function(e,t,r){var n=e("./_an-object"),o=e("./_a-function"),i=e("./_wks")("species");t.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||void 0==(r=n(s)[i])?t:o(r)}},{"./_a-function":27,"./_an-object":30,"./_wks":96}],85:[function(e,t,r){var n=e("./_to-integer"),o=e("./_defined");t.exports=function(e){return function(t,r){var i,s,a=String(o(t)),u=n(r),c=a.length;return u<0||u>=c?e?"":void 0:(i=a.charCodeAt(u),i<55296||i>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?e?a.charAt(u):i:e?a.slice(u,u+2):(i-55296<<10)+(s-56320)+65536)}}},{"./_defined":36,"./_to-integer":88}],86:[function(e,t,r){var n,o,i,s=e("./_ctx"),a=e("./_invoke"),u=e("./_html"),c=e("./_dom-create"),l=e("./_global"),f=l.process,p=l.setImmediate,d=l.clearImmediate,h=l.MessageChannel,y=0,_={},m="onreadystatechange",b=function(){var e=+this;if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},v=function(e){b.call(e.data)};p&&d||(p=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return _[++y]=function(){a("function"==typeof e?e:Function(e),t)},n(y),y},d=function(e){delete _[e]},"process"==e("./_cof")(f)?n=function(e){f.nextTick(s(b,e,1))}:h?(o=new h,i=o.port2,o.port1.onmessage=v,n=s(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(e){l.postMessage(e+"","*")},l.addEventListener("message",v,!1)):n=m in c("script")?function(e){u.appendChild(c("script"))[m]=function(){u.removeChild(this),b.call(e)}}:function(e){setTimeout(s(b,e,1),0)}),t.exports={set:p,clear:d}},{"./_cof":33,"./_ctx":35,"./_dom-create":38,"./_global":44,"./_html":47,"./_invoke":49}],87:[function(e,t,r){var n=e("./_to-integer"),o=Math.max,i=Math.min;t.exports=function(e,t){return e=n(e),e<0?o(e+t,0):i(e,t)}},{"./_to-integer":88}],88:[function(e,t,r){var n=Math.ceil,o=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},{}],89:[function(e,t,r){var n=e("./_iobject"),o=e("./_defined");t.exports=function(e){return n(o(e))}},{"./_defined":36,"./_iobject":50}],90:[function(e,t,r){var n=e("./_to-integer"),o=Math.min;t.exports=function(e){return e>0?o(n(e),9007199254740991):0}},{"./_to-integer":88}],91:[function(e,t,r){var n=e("./_defined");t.exports=function(e){return Object(n(e))}},{"./_defined":36}],92:[function(e,t,r){var n=e("./_is-object");t.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":53}],93:[function(e,t,r){var n=0,o=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},{}],94:[function(e,t,r){var n=e("./_global"),o=e("./_core"),i=e("./_library"),s=e("./_wks-ext"),a=e("./_object-dp").f;t.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},{"./_core":34,"./_global":44,"./_library":61,"./_object-dp":65,"./_wks-ext":95}],95:[function(e,t,r){r.f=e("./_wks")},{"./_wks":96}],96:[function(e,t,r){var n=e("./_shared")("wks"),o=e("./_uid"),i=e("./_global").Symbol,s="function"==typeof i,a=t.exports=function(e){return n[e]||(n[e]=s&&i[e]||(s?i:o)("Symbol."+e))};a.store=n},{"./_global":44,"./_shared":83,"./_uid":93}],97:[function(e,t,r){var n=e("./_classof"),o=e("./_wks")("iterator"),i=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[n(e)]}},{"./_classof":32,"./_core":34,"./_iterators":59,"./_wks":96}],98:[function(e,t,r){var n=e("./_an-object"),o=e("./core.get-iterator-method");
t.exports=e("./_core").getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},{"./_an-object":30,"./_core":34,"./core.get-iterator-method":97}],99:[function(e,t,r){var n=e("./_classof"),o=e("./_wks")("iterator"),i=e("./_iterators");t.exports=e("./_core").isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||i.hasOwnProperty(n(t))}},{"./_classof":32,"./_core":34,"./_iterators":59,"./_wks":96}],100:[function(e,t,r){"use strict";var n=e("./_add-to-unscopables"),o=e("./_iter-step"),i=e("./_iterators"),s=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,r):"values"==t?o(0,e[r]):o(0,[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},{"./_add-to-unscopables":28,"./_iter-define":56,"./_iter-step":58,"./_iterators":59,"./_to-iobject":89}],101:[function(e,t,r){var n=e("./_export");n(n.S,"Object",{create:e("./_object-create")})},{"./_export":41,"./_object-create":64}],102:[function(e,t,r){var n=e("./_export");n(n.S+n.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":37,"./_export":41,"./_object-dp":65}],103:[function(e,t,r){var n=e("./_to-object"),o=e("./_object-gpo");e("./_object-sap")("getPrototypeOf",function(){return function(e){return o(n(e))}})},{"./_object-gpo":71,"./_object-sap":75,"./_to-object":91}],104:[function(e,t,r){var n=e("./_export");n(n.S,"Object",{setPrototypeOf:e("./_set-proto").set})},{"./_export":41,"./_set-proto":79}],105:[function(e,t,r){},{}],106:[function(e,t,r){"use strict";var n,o,i,s=e("./_library"),a=e("./_global"),u=e("./_ctx"),c=e("./_classof"),l=e("./_export"),f=e("./_is-object"),p=e("./_a-function"),d=e("./_an-instance"),h=e("./_for-of"),y=e("./_species-constructor"),_=e("./_task").set,m=e("./_microtask")(),b="Promise",v=a.TypeError,g=a.process,w=a[b],g=a.process,k="process"==c(g),j=function(){},x=!!function(){try{var t=w.resolve(1),r=(t.constructor={})[e("./_wks")("species")]=function(e){e(j,j)};return(k||"function"==typeof PromiseRejectionEvent)&&t.then(j)instanceof r}catch(n){}}(),O=function(e,t){return e===t||e===w&&t===i},P=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},E=function(e){return O(w,e)?new S(e):new o(e)},S=o=function(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw v("Bad Promise constructor");t=e,r=n}),this.resolve=p(t),this.reject=p(r)},C=function(e){try{e()}catch(t){return{error:t}}},M=function(e,t){if(!e._n){e._n=!0;var r=e._c;m(function(){for(var n=e._v,o=1==e._s,i=0,s=function(t){var r,i,s=o?t.ok:t.fail,a=t.resolve,u=t.reject,c=t.domain;try{s?(o||(2==e._h&&I(e),e._h=1),s===!0?r=n:(c&&c.enter(),r=s(n),c&&c.exit()),r===t.promise?u(v("Promise-chain cycle")):(i=P(r))?i.call(r,a,u):a(r)):u(n)}catch(l){u(l)}};r.length>i;)s(r[i++]);e._c=[],e._n=!1,t&&!e._h&&T(e)})}},T=function(e){_.call(a,function(){var t,r,n,o=e._v;if(R(e)&&(t=C(function(){k?g.emit("unhandledRejection",o,e):(r=a.onunhandledrejection)?r({promise:e,reason:o}):(n=a.console)&&n.error&&n.error("Unhandled promise rejection",o)}),e._h=k||R(e)?2:1),e._a=void 0,t)throw t.error})},R=function(e){if(1==e._h)return!1;for(var t,r=e._a||e._c,n=0;r.length>n;)if(t=r[n++],t.fail||!R(t.promise))return!1;return!0},I=function(e){_.call(a,function(){var t;k?g.emit("rejectionHandled",e):(t=a.onrejectionhandled)&&t({promise:e,reason:e._v})})},A=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),M(t,!0))},N=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw v("Promise can't be resolved itself");(t=P(e))?m(function(){var n={_w:r,_d:!1};try{t.call(e,u(N,n,1),u(A,n,1))}catch(o){A.call(n,o)}}):(r._v=e,r._s=1,M(r,!1))}catch(n){A.call({_w:r,_d:!1},n)}}};x||(w=function(e){d(this,w,b,"_h"),p(e),n.call(this);try{e(u(N,this,1),u(A,this,1))}catch(t){A.call(this,t)}},n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=e("./_redefine-all")(w.prototype,{then:function(e,t){var r=E(y(this,w));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=k?g.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&M(this,!1),r.promise},"catch":function(e){return this.then(void 0,e)}}),S=function(){var e=new n;this.promise=e,this.resolve=u(N,e,1),this.reject=u(A,e,1)}),l(l.G+l.W+l.F*!x,{Promise:w}),e("./_set-to-string-tag")(w,b),e("./_set-species")(b),i=e("./_core")[b],l(l.S+l.F*!x,b,{reject:function(e){var t=E(this),r=t.reject;return r(e),t.promise}}),l(l.S+l.F*(s||!x),b,{resolve:function(e){if(e instanceof w&&O(e.constructor,this))return e;var t=E(this),r=t.resolve;return r(e),t.promise}}),l(l.S+l.F*!(x&&e("./_iter-detect")(function(e){w.all(e)["catch"](j)})),b,{all:function(e){var t=this,r=E(t),n=r.resolve,o=r.reject,i=C(function(){var r=[],i=0,s=1;h(e,!1,function(e){var a=i++,u=!1;r.push(void 0),s++,t.resolve(e).then(function(e){u||(u=!0,r[a]=e,--s||n(r))},o)}),--s||n(r)});return i&&o(i.error),r.promise},race:function(e){var t=this,r=E(t),n=r.reject,o=C(function(){h(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return o&&n(o.error),r.promise}})},{"./_a-function":27,"./_an-instance":29,"./_classof":32,"./_core":34,"./_ctx":35,"./_export":41,"./_for-of":43,"./_global":44,"./_is-object":53,"./_iter-detect":57,"./_library":61,"./_microtask":63,"./_redefine-all":77,"./_set-species":80,"./_set-to-string-tag":81,"./_species-constructor":84,"./_task":86,"./_wks":96}],107:[function(e,t,r){"use strict";var n=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":56,"./_string-at":85}],108:[function(e,t,r){"use strict";var n=e("./_global"),o=e("./_has"),i=e("./_descriptors"),s=e("./_export"),a=e("./_redefine"),u=e("./_meta").KEY,c=e("./_fails"),l=e("./_shared"),f=e("./_set-to-string-tag"),p=e("./_uid"),d=e("./_wks"),h=e("./_wks-ext"),y=e("./_wks-define"),_=e("./_keyof"),m=e("./_enum-keys"),b=e("./_is-array"),v=e("./_an-object"),g=e("./_to-iobject"),w=e("./_to-primitive"),k=e("./_property-desc"),j=e("./_object-create"),x=e("./_object-gopn-ext"),O=e("./_object-gopd"),P=e("./_object-dp"),E=e("./_object-keys"),S=O.f,C=P.f,M=x.f,T=n.Symbol,R=n.JSON,I=R&&R.stringify,A="prototype",N=d("_hidden"),D=d("toPrimitive"),U={}.propertyIsEnumerable,F=l("symbol-registry"),L=l("symbols"),$=l("op-symbols"),z=Object[A],B="function"==typeof T,H=n.QObject,K=!H||!H[A]||!H[A].findChild,q=i&&c(function(){return 7!=j(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=S(z,t);n&&delete z[t],C(e,t,r),n&&e!==z&&C(z,t,n)}:C,G=function(e){var t=L[e]=j(T[A]);return t._k=e,t},Q=B&&"symbol"==typeof T.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof T},W=function(e,t,r){return e===z&&W($,t,r),v(e),t=w(t,!0),v(r),o(L,t)?(r.enumerable?(o(e,N)&&e[N][t]&&(e[N][t]=!1),r=j(r,{enumerable:k(0,!1)})):(o(e,N)||C(e,N,k(1,{})),e[N][t]=!0),q(e,t,r)):C(e,t,r)},Y=function(e,t){v(e);for(var r,n=m(t=g(t)),o=0,i=n.length;i>o;)W(e,r=n[o++],t[r]);return e},V=function(e,t){return void 0===t?j(e):Y(j(e),t)},J=function(e){var t=U.call(this,e=w(e,!0));return!(this===z&&o(L,e)&&!o($,e))&&(!(t||!o(this,e)||!o(L,e)||o(this,N)&&this[N][e])||t)},X=function(e,t){if(e=g(e),t=w(t,!0),e!==z||!o(L,t)||o($,t)){var r=S(e,t);return!r||!o(L,t)||o(e,N)&&e[N][t]||(r.enumerable=!0),r}},Z=function(e){for(var t,r=M(g(e)),n=[],i=0;r.length>i;)o(L,t=r[i++])||t==N||t==u||n.push(t);return n},ee=function(e){for(var t,r=e===z,n=M(r?$:g(e)),i=[],s=0;n.length>s;)!o(L,t=n[s++])||r&&!o(z,t)||i.push(L[t]);return i};B||(T=function(){if(this instanceof T)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(r){this===z&&t.call($,r),o(this,N)&&o(this[N],e)&&(this[N][e]=!1),q(this,e,k(1,r))};return i&&K&&q(z,e,{configurable:!0,set:t}),G(e)},a(T[A],"toString",function(){return this._k}),O.f=X,P.f=W,e("./_object-gopn").f=x.f=Z,e("./_object-pie").f=J,e("./_object-gops").f=ee,i&&!e("./_library")&&a(z,"propertyIsEnumerable",J,!0),h.f=function(e){return G(d(e))}),s(s.G+s.W+s.F*!B,{Symbol:T});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;te.length>re;)d(te[re++]);for(var te=E(d.store),re=0;te.length>re;)y(te[re++]);s(s.S+s.F*!B,"Symbol",{"for":function(e){return o(F,e+="")?F[e]:F[e]=T(e)},keyFor:function(e){if(Q(e))return _(F,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){K=!0},useSimple:function(){K=!1}}),s(s.S+s.F*!B,"Object",{create:V,defineProperty:W,defineProperties:Y,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:ee}),R&&s(s.S+s.F*(!B||c(function(){var e=T();return"[null]"!=I([e])||"{}"!=I({a:e})||"{}"!=I(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!Q(e)){for(var t,r,n=[e],o=1;arguments.length>o;)n.push(arguments[o++]);return t=n[1],"function"==typeof t&&(r=t),!r&&b(t)||(t=function(e,t){if(r&&(t=r.call(this,e,t)),!Q(t))return t}),n[1]=t,I.apply(R,n)}}}),T[A][D]||e("./_hide")(T[A],D,T[A].valueOf),f(T,"Symbol"),f(Math,"Math",!0),f(n.JSON,"JSON",!0)},{"./_an-object":30,"./_descriptors":37,"./_enum-keys":40,"./_export":41,"./_fails":42,"./_global":44,"./_has":45,"./_hide":46,"./_is-array":52,"./_keyof":60,"./_library":61,"./_meta":62,"./_object-create":64,"./_object-dp":65,"./_object-gopd":67,"./_object-gopn":69,"./_object-gopn-ext":68,"./_object-gops":70,"./_object-keys":73,"./_object-pie":74,"./_property-desc":76,"./_redefine":78,"./_set-to-string-tag":81,"./_shared":83,"./_to-iobject":89,"./_to-primitive":92,"./_uid":93,"./_wks":96,"./_wks-define":94,"./_wks-ext":95}],109:[function(e,t,r){e("./_wks-define")("asyncIterator")},{"./_wks-define":94}],110:[function(e,t,r){e("./_wks-define")("observable")},{"./_wks-define":94}],111:[function(e,t,r){e("./es6.array.iterator");for(var n=e("./_global"),o=e("./_hide"),i=e("./_iterators"),s=e("./_wks")("toStringTag"),a=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var c=a[u],l=n[c],f=l&&l.prototype;f&&!f[s]&&o(f,s,c),i[c]=i.Array}},{"./_global":44,"./_hide":46,"./_iterators":59,"./_wks":96,"./es6.array.iterator":100}],112:[function(e,r,n){!function(e,n){"function"==typeof t&&t.amd?t([],n):"undefined"!=typeof r&&r.exports?r.exports=n():e.tv4=n()}(this,function(){function e(e){return encodeURI(e).replace(/%25[0-9][0-9]/g,function(e){return"%"+e.substring(3)})}function t(t){var r="";p[t.charAt(0)]&&(r=t.charAt(0),t=t.substring(1));var n="",o="",i=!0,s=!1,a=!1;"+"===r?i=!1:"."===r?(o=".",n="."):"/"===r?(o="/",n="/"):"#"===r?(o="#",i=!1):";"===r?(o=";",n=";",s=!0,a=!0):"?"===r?(o="?",n="&",s=!0):"&"===r&&(o="&",n="&",s=!0);for(var u=[],c=t.split(","),l=[],f={},h=0;h<c.length;h++){var y=c[h],_=null;if(y.indexOf(":")!==-1){var m=y.split(":");y=m[0],_=parseInt(m[1],10)}for(var b={};d[y.charAt(y.length-1)];)b[y.charAt(y.length-1)]=!0,y=y.substring(0,y.length-1);var v={truncate:_,name:y,suffices:b};l.push(v),f[y]=v,u.push(y)}var g=function(t){for(var r="",u=0,c=0;c<l.length;c++){var f=l[c],p=t(f.name);if(null===p||void 0===p||Array.isArray(p)&&0===p.length||"object"==typeof p&&0===Object.keys(p).length)u++;else if(r+=c===u?o:n||",",Array.isArray(p)){s&&(r+=f.name+"=");for(var d=0;d<p.length;d++)d>0&&(r+=f.suffices["*"]?n||",":",",f.suffices["*"]&&s&&(r+=f.name+"=")),r+=i?encodeURIComponent(p[d]).replace(/!/g,"%21"):e(p[d])}else if("object"==typeof p){s&&!f.suffices["*"]&&(r+=f.name+"=");var h=!0;for(var y in p)h||(r+=f.suffices["*"]?n||",":","),h=!1,r+=i?encodeURIComponent(y).replace(/!/g,"%21"):e(y),r+=f.suffices["*"]?"=":",",r+=i?encodeURIComponent(p[y]).replace(/!/g,"%21"):e(p[y])}else s&&(r+=f.name,a&&""===p||(r+="=")),null!=f.truncate&&(p=p.substring(0,f.truncate)),r+=i?encodeURIComponent(p).replace(/!/g,"%21"):e(p)}return r};return g.varNames=u,{prefix:o,substitution:g}}function r(e){if(!(this instanceof r))return new r(e);for(var n=e.split("{"),o=[n.shift()],i=[],s=[],a=[];n.length>0;){var u=n.shift(),c=u.split("}")[0],l=u.substring(c.length+1),f=t(c);s.push(f.substitution),i.push(f.prefix),o.push(l),a=a.concat(f.substitution.varNames)}this.fill=function(e){for(var t=o[0],r=0;r<s.length;r++){var n=s[r];t+=n(e),t+=o[r+1]}return t},this.varNames=a,this.template=e}function n(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(Array.isArray(e)!==Array.isArray(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1}else{var o;for(o in e)if(void 0===t[o]&&void 0!==e[o])return!1;for(o in t)if(void 0===e[o]&&void 0!==t[o])return!1;for(o in e)if(!n(e[o],t[o]))return!1}return!0}return!1}function o(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function i(e,t){function r(e){var t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}return t=o(t||""),e=o(e||""),t&&e?(t.protocol||e.protocol)+(t.protocol||t.authority?t.authority:e.authority)+r(t.protocol||t.authority||"/"===t.pathname.charAt(0)?t.pathname:t.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+t.pathname:e.pathname)+(t.protocol||t.authority||t.pathname?t.search:t.search||e.search)+t.hash:null}function s(e){return e.split("#")[0]}function a(e,t){if(e&&"object"==typeof e)if(void 0===t?t=e.id:"string"==typeof e.id&&(t=i(t,e.id),e.id=t),Array.isArray(e))for(var r=0;r<e.length;r++)a(e[r],t);else{"string"==typeof e.$ref&&(e.$ref=i(t,e.$ref));for(var n in e)"enum"!==n&&a(e[n],t)}}function u(e){e=e||"en";var t=w[e];return function(e){var r=t[e.code]||g[e.code];if("string"!=typeof r)return"Unknown error code "+e.code+": "+JSON.stringify(e.messageParams);var n=e.params;return r.replace(/\{([^{}]*)\}/g,function(e,t){var r=n[t];return"string"==typeof r||"number"==typeof r?r:e})}}function c(e,t,r,n,o){if(Error.call(this),void 0===e)throw new Error("No error code supplied: "+n);this.message="",this.params=t,this.code=e,this.dataPath=r||"",this.schemaPath=n||"",this.subErrors=o||null;var i=new Error(this.message);if(this.stack=i.stack||i.stacktrace,!this.stack)try{throw i}catch(i){this.stack=i.stack||i.stacktrace}}function l(e,t){if(t.substring(0,e.length)===e){var r=t.substring(e.length);if(t.length>0&&"/"===t.charAt(e.length-1)||"#"===r.charAt(0)||"?"===r.charAt(0))return!0}return!1}function f(e){var t,r,n=new h,o={setErrorReporter:function(e){return"string"==typeof e?this.language(e):(r=e,!0)},addFormat:function(){n.addFormat.apply(n,arguments)},language:function(e){return e?(w[e]||(e=e.split("-")[0]),!!w[e]&&(t=e,e)):t},addLanguage:function(e,t){var r;for(r in m)t[r]&&!t[m[r]]&&(t[m[r]]=t[r]);var n=e.split("-")[0];if(w[n]){w[e]=Object.create(w[n]);for(r in t)"undefined"==typeof w[n][r]&&(w[n][r]=t[r]),w[e][r]=t[r]}else w[e]=t,w[n]=t;return this},freshApi:function(e){var t=f();return e&&t.language(e),t},validate:function(e,o,i,s){var a=u(t),c=r?function(e,t,n){return r(e,t,n)||a(e,t,n)}:a,l=new h(n,(!1),c,i,s);"string"==typeof o&&(o={$ref:o}),l.addSchema("",o);var f=l.validateAll(e,o,null,null,"");return!f&&s&&(f=l.banUnknownProperties(e,o)),this.error=f,this.missing=l.missing,this.valid=null===f,this.valid},validateResult:function(){var e={};return this.validate.apply(e,arguments),e},validateMultiple:function(e,o,i,s){var a=u(t),c=r?function(e,t,n){return r(e,t,n)||a(e,t,n)}:a,l=new h(n,(!0),c,i,s);"string"==typeof o&&(o={$ref:o}),l.addSchema("",o),l.validateAll(e,o,null,null,""),s&&l.banUnknownProperties(e,o);var f={};return f.errors=l.errors,f.missing=l.missing,f.valid=0===f.errors.length,f},addSchema:function(){return n.addSchema.apply(n,arguments)},getSchema:function(){return n.getSchema.apply(n,arguments)},getSchemaMap:function(){return n.getSchemaMap.apply(n,arguments)},getSchemaUris:function(){return n.getSchemaUris.apply(n,arguments)},getMissingUris:function(){return n.getMissingUris.apply(n,arguments)},dropSchemas:function(){n.dropSchemas.apply(n,arguments)},defineKeyword:function(){n.defineKeyword.apply(n,arguments)},defineError:function(e,t,r){if("string"!=typeof e||!/^[A-Z]+(_[A-Z]+)*$/.test(e))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if("number"!=typeof t||t%1!==0||t<1e4)throw new Error("Code number must be an integer > 10000");if("undefined"!=typeof m[e])throw new Error("Error already defined: "+e+" as "+m[e]);if("undefined"!=typeof b[t])throw new Error("Error code already used: "+b[t]+" as "+t);m[e]=t,b[t]=e,g[e]=g[t]=r;for(var n in w){var o=w[n];o[e]&&(o[t]=o[t]||o[e])}},reset:function(){n.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema:a,resolveUrl:i,getDocumentUri:s,errorCodes:m};return o.language(e||"en"),o}Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=r.length;return function(o){if("object"!=typeof o&&"function"!=typeof o||null===o)throw new TypeError("Object.keys called on non-object");var i=[];for(var s in o)e.call(o,s)&&i.push(s);if(t)for(var a=0;a<n;a++)e.call(o,r[a])&&i.push(r[a]);return i}}()),Object.create||(Object.create=function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}()),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),r=t.length>>>0;if(0===r)return-1;var n=0;if(arguments.length>1&&(n=Number(arguments[1]),n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=r)return-1;for(var o=n>=0?n:Math.max(r-Math.abs(n),0);o<r;o++)if(o in t&&t[o]===e)return o;return-1}),Object.isFrozen||(Object.isFrozen=function(e){for(var t="tv4_test_frozen_key";e.hasOwnProperty(t);)t+=Math.random();try{return e[t]=!0,delete e[t],!1}catch(r){return!0}});var p={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},d={"*":!0};r.prototype={toString:function(){return this.template},fillFromObject:function(e){return this.fill(function(t){return e[t]})}};var h=function(e,t,r,n,o){if(this.missing=[],this.missingMap={},this.formatValidators=e?Object.create(e.formatValidators):{},this.schemas=e?Object.create(e.schemas):{},this.collectMultiple=t,this.errors=[],this.handleError=t?this.collectError:this.returnError,n&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),o&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorReporter=r||u("en"),"string"==typeof this.errorReporter)throw new Error("debug");if(this.definedKeywords={},e)for(var i in e.definedKeywords)this.definedKeywords[i]=e.definedKeywords[i].slice(0)};h.prototype.defineKeyword=function(e,t){this.definedKeywords[e]=this.definedKeywords[e]||[],this.definedKeywords[e].push(t)},h.prototype.createError=function(e,t,r,n,o,i,s){var a=new c(e,t,r,n,o);return a.message=this.errorReporter(a,i,s),a},h.prototype.returnError=function(e){return e},h.prototype.collectError=function(e){return e&&this.errors.push(e),null},h.prototype.prefixErrors=function(e,t,r){for(var n=e;n<this.errors.length;n++)this.errors[n]=this.errors[n].prefixWith(t,r);return this},h.prototype.banUnknownProperties=function(e,t){for(var r in this.unknownPropertyPaths){var n=this.createError(m.UNKNOWN_PROPERTY,{path:r},r,"",null,e,t),o=this.handleError(n);if(o)return o}return null},h.prototype.addFormat=function(e,t){if("object"==typeof e){for(var r in e)this.addFormat(r,e[r]);return this}this.formatValidators[e]=t},h.prototype.resolveRefs=function(e,t){if(void 0!==e.$ref){if(t=t||{},t[e.$ref])return this.createError(m.CIRCULAR_REFERENCE,{urls:Object.keys(t).join(", ")},"","",null,void 0,e);t[e.$ref]=!0,e=this.getSchema(e.$ref,t)}return e},h.prototype.getSchema=function(e,t){var r;if(void 0!==this.schemas[e])return r=this.schemas[e],this.resolveRefs(r,t);var n=e,o="";if(e.indexOf("#")!==-1&&(o=e.substring(e.indexOf("#")+1),n=e.substring(0,e.indexOf("#"))),"object"==typeof this.schemas[n]){r=this.schemas[n];var i=decodeURIComponent(o);if(""===i)return this.resolveRefs(r,t);if("/"!==i.charAt(0))return;for(var s=i.split("/").slice(1),a=0;a<s.length;a++){var u=s[a].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===r[u]){r=void 0;break}r=r[u]}if(void 0!==r)return this.resolveRefs(r,t)}void 0===this.missing[n]&&(this.missing.push(n),this.missing[n]=n,this.missingMap[n]=n)},h.prototype.searchSchemas=function(e,t){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.searchSchemas(e[r],t);else if(e&&"object"==typeof e){"string"==typeof e.id&&l(t,e.id)&&void 0===this.schemas[e.id]&&(this.schemas[e.id]=e);for(var n in e)if("enum"!==n)if("object"==typeof e[n])this.searchSchemas(e[n],t);else if("$ref"===n){var o=s(e[n]);o&&void 0===this.schemas[o]&&void 0===this.missingMap[o]&&(this.missingMap[o]=o)}}},h.prototype.addSchema=function(e,t){if("string"!=typeof e||"undefined"==typeof t){if("object"!=typeof e||"string"!=typeof e.id)return;t=e,e=t.id}e===s(e)+"#"&&(e=s(e)),this.schemas[e]=t,delete this.missingMap[e],a(t,e),this.searchSchemas(t,e)},h.prototype.getSchemaMap=function(){var e={};for(var t in this.schemas)e[t]=this.schemas[t];return e},h.prototype.getSchemaUris=function(e){var t=[];for(var r in this.schemas)e&&!e.test(r)||t.push(r);return t},h.prototype.getMissingUris=function(e){var t=[];for(var r in this.missingMap)e&&!e.test(r)||t.push(r);return t},h.prototype.dropSchemas=function(){this.schemas={},this.reset()},h.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},h.prototype.validateAll=function(e,t,r,n,o){var i;if(t=this.resolveRefs(t),!t)return null;if(t instanceof c)return this.errors.push(t),t;var s,a=this.errors.length,u=null,l=null;if(this.checkRecursive&&e&&"object"==typeof e){if(i=!this.scanned.length,e[this.validatedSchemasKey]){var f=e[this.validatedSchemasKey].indexOf(t);if(f!==-1)return this.errors=this.errors.concat(e[this.validationErrorsKey][f]),null}if(Object.isFrozen(e)&&(s=this.scannedFrozen.indexOf(e),s!==-1)){var p=this.scannedFrozenSchemas[s].indexOf(t);if(p!==-1)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[s][p]),null}if(this.scanned.push(e),Object.isFrozen(e))s===-1&&(s=this.scannedFrozen.length,this.scannedFrozen.push(e),this.scannedFrozenSchemas.push([])),u=this.scannedFrozenSchemas[s].length,this.scannedFrozenSchemas[s][u]=t,this.scannedFrozenValidationErrors[s][u]=[];else{if(!e[this.validatedSchemasKey])try{Object.defineProperty(e,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(e,this.validationErrorsKey,{value:[],configurable:!0})}catch(d){e[this.validatedSchemasKey]=[],e[this.validationErrorsKey]=[]}l=e[this.validatedSchemasKey].length,e[this.validatedSchemasKey][l]=t,e[this.validationErrorsKey][l]=[]}}var h=this.errors.length,y=this.validateBasic(e,t,o)||this.validateNumeric(e,t,o)||this.validateString(e,t,o)||this.validateArray(e,t,o)||this.validateObject(e,t,o)||this.validateCombinations(e,t,o)||this.validateHypermedia(e,t,o)||this.validateFormat(e,t,o)||this.validateDefinedKeywords(e,t,o)||null;if(i){for(;this.scanned.length;){var _=this.scanned.pop();delete _[this.validatedSchemasKey]}this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(y||h!==this.errors.length)for(;r&&r.length||n&&n.length;){var m=r&&r.length?""+r.pop():null,b=n&&n.length?""+n.pop():null;y&&(y=y.prefixWith(m,b)),this.prefixErrors(h,m,b)}return null!==u?this.scannedFrozenValidationErrors[s][u]=this.errors.slice(a):null!==l&&(e[this.validationErrorsKey][l]=this.errors.slice(a)),this.handleError(y)},h.prototype.validateFormat=function(e,t){if("string"!=typeof t.format||!this.formatValidators[t.format])return null;var r=this.formatValidators[t.format].call(null,e,t);return"string"==typeof r||"number"==typeof r?this.createError(m.FORMAT_CUSTOM,{message:r},"","/format",null,e,t):r&&"object"==typeof r?this.createError(m.FORMAT_CUSTOM,{message:r.message||"?"},r.dataPath||"",r.schemaPath||"/format",null,e,t):null},h.prototype.validateDefinedKeywords=function(e,t,r){for(var n in this.definedKeywords)if("undefined"!=typeof t[n])for(var o=this.definedKeywords[n],i=0;i<o.length;i++){var s=o[i],a=s(e,t[n],t,r);if("string"==typeof a||"number"==typeof a)return this.createError(m.KEYWORD_CUSTOM,{key:n,message:a},"","",null,e,t).prefixWith(null,n);if(a&&"object"==typeof a){var u=a.code;if("string"==typeof u){if(!m[u])throw new Error("Undefined error code (use defineError): "+u);u=m[u]}else"number"!=typeof u&&(u=m.KEYWORD_CUSTOM);var c="object"==typeof a.message?a.message:{key:n,message:a.message||"?"},l=a.schemaPath||"/"+n.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(u,c,a.dataPath||null,l,null,e,t)}}return null},h.prototype.validateBasic=function(e,t,r){var n;return(n=this.validateType(e,t,r))?n.prefixWith(null,"type"):(n=this.validateEnum(e,t,r))?n.prefixWith(null,"type"):null},h.prototype.validateType=function(e,t){if(void 0===t.type)return null;var r=typeof e;null===e?r="null":Array.isArray(e)&&(r="array");var n=t.type;Array.isArray(n)||(n=[n]);for(var o=0;o<n.length;o++){var i=n[o];if(i===r||"integer"===i&&"number"===r&&e%1===0)return null}return this.createError(m.INVALID_TYPE,{type:r,expected:n.join("/")},"","",null,e,t)},h.prototype.validateEnum=function(e,t){if(void 0===t["enum"])return null;for(var r=0;r<t["enum"].length;r++){var o=t["enum"][r];if(n(e,o))return null}return this.createError(m.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(e):e},"","",null,e,t)},h.prototype.validateNumeric=function(e,t,r){return this.validateMultipleOf(e,t,r)||this.validateMinMax(e,t,r)||this.validateNaN(e,t,r)||null};var y=Math.pow(2,-51),_=1-y;h.prototype.validateMultipleOf=function(e,t){var r=t.multipleOf||t.divisibleBy;if(void 0===r)return null;if("number"==typeof e){var n=e/r%1;if(n>=y&&n<_)return this.createError(m.NUMBER_MULTIPLE_OF,{value:e,multipleOf:r},"","",null,e,t)}return null},h.prototype.validateMinMax=function(e,t){if("number"!=typeof e)return null;if(void 0!==t.minimum){if(e<t.minimum)return this.createError(m.NUMBER_MINIMUM,{value:e,minimum:t.minimum},"","/minimum",null,e,t);if(t.exclusiveMinimum&&e===t.minimum)return this.createError(m.NUMBER_MINIMUM_EXCLUSIVE,{value:e,minimum:t.minimum},"","/exclusiveMinimum",null,e,t)}if(void 0!==t.maximum){if(e>t.maximum)return this.createError(m.NUMBER_MAXIMUM,{value:e,maximum:t.maximum},"","/maximum",null,e,t);if(t.exclusiveMaximum&&e===t.maximum)return this.createError(m.NUMBER_MAXIMUM_EXCLUSIVE,{value:e,maximum:t.maximum},"","/exclusiveMaximum",null,e,t)}return null},h.prototype.validateNaN=function(e,t){return"number"!=typeof e?null:isNaN(e)===!0||e===1/0||e===-(1/0)?this.createError(m.NUMBER_NOT_A_NUMBER,{value:e},"","/type",null,e,t):null},h.prototype.validateString=function(e,t,r){return this.validateStringLength(e,t,r)||this.validateStringPattern(e,t,r)||null},h.prototype.validateStringLength=function(e,t){return"string"!=typeof e?null:void 0!==t.minLength&&e.length<t.minLength?this.createError(m.STRING_LENGTH_SHORT,{length:e.length,minimum:t.minLength},"","/minLength",null,e,t):void 0!==t.maxLength&&e.length>t.maxLength?this.createError(m.STRING_LENGTH_LONG,{length:e.length,maximum:t.maxLength},"","/maxLength",null,e,t):null},h.prototype.validateStringPattern=function(e,t){if("string"!=typeof e||"string"!=typeof t.pattern&&!(t.pattern instanceof RegExp))return null;var r;if(t.pattern instanceof RegExp)r=t.pattern;else{var n,o="",i=t.pattern.match(/^\/(.+)\/([img]*)$/);i?(n=i[1],o=i[2]):n=t.pattern,r=new RegExp(n,o)}return r.test(e)?null:this.createError(m.STRING_PATTERN,{pattern:t.pattern},"","/pattern",null,e,t)},h.prototype.validateArray=function(e,t,r){return Array.isArray(e)?this.validateArrayLength(e,t,r)||this.validateArrayUniqueItems(e,t,r)||this.validateArrayItems(e,t,r)||null:null},h.prototype.validateArrayLength=function(e,t){var r;return void 0!==t.minItems&&e.length<t.minItems&&(r=this.createError(m.ARRAY_LENGTH_SHORT,{length:e.length,minimum:t.minItems},"","/minItems",null,e,t),this.handleError(r))?r:void 0!==t.maxItems&&e.length>t.maxItems&&(r=this.createError(m.ARRAY_LENGTH_LONG,{length:e.length,maximum:t.maxItems},"","/maxItems",null,e,t),this.handleError(r))?r:null},h.prototype.validateArrayUniqueItems=function(e,t){if(t.uniqueItems)for(var r=0;r<e.length;r++)for(var o=r+1;o<e.length;o++)if(n(e[r],e[o])){var i=this.createError(m.ARRAY_UNIQUE,{match1:r,match2:o},"","/uniqueItems",null,e,t);if(this.handleError(i))return i}return null},h.prototype.validateArrayItems=function(e,t,r){if(void 0===t.items)return null;var n,o;if(Array.isArray(t.items)){for(o=0;o<e.length;o++)if(o<t.items.length){if(n=this.validateAll(e[o],t.items[o],[o],["items",o],r+"/"+o))return n}else if(void 0!==t.additionalItems)if("boolean"==typeof t.additionalItems){if(!t.additionalItems&&(n=this.createError(m.ARRAY_ADDITIONAL_ITEMS,{},"/"+o,"/additionalItems",null,e,t),this.handleError(n)))return n}else if(n=this.validateAll(e[o],t.additionalItems,[o],["additionalItems"],r+"/"+o))return n}else for(o=0;o<e.length;o++)if(n=this.validateAll(e[o],t.items,[o],["items"],r+"/"+o))return n;return null},h.prototype.validateObject=function(e,t,r){return"object"!=typeof e||null===e||Array.isArray(e)?null:this.validateObjectMinMaxProperties(e,t,r)||this.validateObjectRequiredProperties(e,t,r)||this.validateObjectProperties(e,t,r)||this.validateObjectDependencies(e,t,r)||null},h.prototype.validateObjectMinMaxProperties=function(e,t){var r,n=Object.keys(e);return void 0!==t.minProperties&&n.length<t.minProperties&&(r=this.createError(m.OBJECT_PROPERTIES_MINIMUM,{propertyCount:n.length,minimum:t.minProperties},"","/minProperties",null,e,t),this.handleError(r))?r:void 0!==t.maxProperties&&n.length>t.maxProperties&&(r=this.createError(m.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:n.length,maximum:t.maxProperties},"","/maxProperties",null,e,t),this.handleError(r))?r:null},h.prototype.validateObjectRequiredProperties=function(e,t){if(void 0!==t.required)for(var r=0;r<t.required.length;r++){var n=t.required[r];if(void 0===e[n]){var o=this.createError(m.OBJECT_REQUIRED,{key:n},"","/required/"+r,null,e,t);if(this.handleError(o))return o}}return null},h.prototype.validateObjectProperties=function(e,t,r){var n;for(var o in e){var i=r+"/"+o.replace(/~/g,"~0").replace(/\//g,"~1"),s=!1;if(void 0!==t.properties&&void 0!==t.properties[o]&&(s=!0,n=this.validateAll(e[o],t.properties[o],[o],["properties",o],i)))return n;if(void 0!==t.patternProperties)for(var a in t.patternProperties){var u=new RegExp(a);if(u.test(o)&&(s=!0,n=this.validateAll(e[o],t.patternProperties[a],[o],["patternProperties",a],i)))return n}if(s)this.trackUnknownProperties&&(this.knownPropertyPaths[i]=!0,delete this.unknownPropertyPaths[i]);else if(void 0!==t.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[i]=!0,delete this.unknownPropertyPaths[i]),"boolean"==typeof t.additionalProperties){if(!t.additionalProperties&&(n=this.createError(m.OBJECT_ADDITIONAL_PROPERTIES,{
key:o},"","/additionalProperties",null,e,t).prefixWith(o,null),this.handleError(n)))return n}else if(n=this.validateAll(e[o],t.additionalProperties,[o],["additionalProperties"],i))return n}else this.trackUnknownProperties&&!this.knownPropertyPaths[i]&&(this.unknownPropertyPaths[i]=!0)}return null},h.prototype.validateObjectDependencies=function(e,t,r){var n;if(void 0!==t.dependencies)for(var o in t.dependencies)if(void 0!==e[o]){var i=t.dependencies[o];if("string"==typeof i){if(void 0===e[i]&&(n=this.createError(m.OBJECT_DEPENDENCY_KEY,{key:o,missing:i},"","",null,e,t).prefixWith(null,o).prefixWith(null,"dependencies"),this.handleError(n)))return n}else if(Array.isArray(i))for(var s=0;s<i.length;s++){var a=i[s];if(void 0===e[a]&&(n=this.createError(m.OBJECT_DEPENDENCY_KEY,{key:o,missing:a},"","/"+s,null,e,t).prefixWith(null,o).prefixWith(null,"dependencies"),this.handleError(n)))return n}else if(n=this.validateAll(e,i,[],["dependencies",o],r))return n}return null},h.prototype.validateCombinations=function(e,t,r){return this.validateAllOf(e,t,r)||this.validateAnyOf(e,t,r)||this.validateOneOf(e,t,r)||this.validateNot(e,t,r)||null},h.prototype.validateAllOf=function(e,t,r){if(void 0===t.allOf)return null;for(var n,o=0;o<t.allOf.length;o++){var i=t.allOf[o];if(n=this.validateAll(e,i,[],["allOf",o],r))return n}return null},h.prototype.validateAnyOf=function(e,t,r){if(void 0===t.anyOf)return null;var n,o,i=[],s=this.errors.length;this.trackUnknownProperties&&(n=this.unknownPropertyPaths,o=this.knownPropertyPaths);for(var a=!0,u=0;u<t.anyOf.length;u++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var c=t.anyOf[u],l=this.errors.length,f=this.validateAll(e,c,[],["anyOf",u],r);if(null===f&&l===this.errors.length){if(this.errors=this.errors.slice(0,s),this.trackUnknownProperties){for(var p in this.knownPropertyPaths)o[p]=!0,delete n[p];for(var d in this.unknownPropertyPaths)o[d]||(n[d]=!0);a=!1;continue}return null}f&&i.push(f.prefixWith(null,""+u).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=n,this.knownPropertyPaths=o),a?(i=i.concat(this.errors.slice(s)),this.errors=this.errors.slice(0,s),this.createError(m.ANY_OF_MISSING,{},"","/anyOf",i,e,t)):void 0},h.prototype.validateOneOf=function(e,t,r){if(void 0===t.oneOf)return null;var n,o,i=null,s=[],a=this.errors.length;this.trackUnknownProperties&&(n=this.unknownPropertyPaths,o=this.knownPropertyPaths);for(var u=0;u<t.oneOf.length;u++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var c=t.oneOf[u],l=this.errors.length,f=this.validateAll(e,c,[],["oneOf",u],r);if(null===f&&l===this.errors.length){if(null!==i)return this.errors=this.errors.slice(0,a),this.createError(m.ONE_OF_MULTIPLE,{index1:i,index2:u},"","/oneOf",null,e,t);if(i=u,this.trackUnknownProperties){for(var p in this.knownPropertyPaths)o[p]=!0,delete n[p];for(var d in this.unknownPropertyPaths)o[d]||(n[d]=!0)}}else f&&s.push(f)}return this.trackUnknownProperties&&(this.unknownPropertyPaths=n,this.knownPropertyPaths=o),null===i?(s=s.concat(this.errors.slice(a)),this.errors=this.errors.slice(0,a),this.createError(m.ONE_OF_MISSING,{},"","/oneOf",s,e,t)):(this.errors=this.errors.slice(0,a),null)},h.prototype.validateNot=function(e,t,r){if(void 0===t.not)return null;var n,o,i=this.errors.length;this.trackUnknownProperties&&(n=this.unknownPropertyPaths,o=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var s=this.validateAll(e,t.not,null,null,r),a=this.errors.slice(i);return this.errors=this.errors.slice(0,i),this.trackUnknownProperties&&(this.unknownPropertyPaths=n,this.knownPropertyPaths=o),null===s&&0===a.length?this.createError(m.NOT_PASSED,{},"","/not",null,e,t):null},h.prototype.validateHypermedia=function(e,t,n){if(!t.links)return null;for(var o,i=0;i<t.links.length;i++){var s=t.links[i];if("describedby"===s.rel){for(var a=new r(s.href),u=!0,c=0;c<a.varNames.length;c++)if(!(a.varNames[c]in e)){u=!1;break}if(u){var l=a.fillFromObject(e),f={$ref:l};if(o=this.validateAll(e,f,[],["links",i],n))return o}}}};var m={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,NUMBER_NOT_A_NUMBER:105,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},b={};for(var v in m)b[m[v]]=v;var g={INVALID_TYPE:"Invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",NUMBER_NOT_A_NUMBER:"Value {value} is not a valid number",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};c.prototype=Object.create(Error.prototype),c.prototype.constructor=c,c.prototype.name="ValidationError",c.prototype.prefixWith=function(e,t){if(null!==e&&(e=e.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+e+this.dataPath),null!==t&&(t=t.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+t+this.schemaPath),null!==this.subErrors)for(var r=0;r<this.subErrors.length;r++)this.subErrors[r].prefixWith(e,t);return this};var w={},k=f();return k.addLanguage("en-gb",g),k.tv4=k,k})},{}],113:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0}),r.RuntimeCatalogue=void 0;var o=e("./runtime-catalogue/RuntimeCatalogue"),i=n(o);r.RuntimeCatalogue=i["default"]},{"./runtime-catalogue/RuntimeCatalogue":123}],114:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0}),r.DataObjectSourceLanguage=r.CatalogueObjectType=void 0;var o=e("babel-runtime/core-js/object/get-prototype-of"),i=n(o),s=e("babel-runtime/helpers/classCallCheck"),a=n(s),u=e("babel-runtime/helpers/createClass"),c=n(u),l=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(l),p=e("babel-runtime/helpers/inherits"),d=n(p),h=e("../reTHINKObject/RethinkObject"),y=n(h),_=function(e){function t(e,r,n,o,s,u,c){(0,a["default"])(this,t);var l=(0,f["default"])(this,(t.__proto__||(0,i["default"])(t)).call(this));return l._guid=e,l._type=r,l._version=n,l._objectName=o,l._description=s,l._language=u,l._sourcePackageURL=c,l._signature=null,l._sourcePackage=null,l}return(0,d["default"])(t,e),(0,c["default"])(t,[{key:"guid",get:function(){return this._guid},set:function(e){e&&(this._guid=e)}},{key:"type",get:function(){return this._type},set:function(e){e&&(this._type=e)}},{key:"version",get:function(){return this._version},set:function(e){e&&(this._version=e)}},{key:"objectName",get:function(){return this._objectName},set:function(e){e&&(this._objectName=e)}},{key:"description",get:function(){return this._description},set:function(e){e&&(this._description=e)}},{key:"language",get:function(){return this._language},set:function(e){e&&(this._language=e)}},{key:"signature",get:function(){return this._signature},set:function(e){e&&(this._signature=e)}},{key:"sourcePackage",get:function(){return this._sourcePackage},set:function(e){e&&(this._sourcePackage=e)}},{key:"sourcePackageURL",get:function(){return this._sourcePackageURL},set:function(e){e&&(this._sourcePackageURL=e)}}]),t}(y["default"]);r.CatalogueObjectType={HYPERTY:"hyperty",PROTOSTUB:"protostub",HYPERTY_RUNTIME:"hyperty_runtime",HYPERTY_INTERCEPTOR:"hyperty_inspector",HYPERTY_DATA_OBJECT:"hyperty_data_object"},r.DataObjectSourceLanguage={JAVASCRIPT_ECMA6:"javascript_ecma6",JAVASCRIPT_ECMA5:"javascript_ecma5",JSON_SCHEMA_V4:"json_schema_v4",PYTHON:"python",TYPESCRIPT:"typescript"},r["default"]=_},{"../reTHINKObject/RethinkObject":122,"babel-runtime/core-js/object/get-prototype-of":6,"babel-runtime/helpers/classCallCheck":11,"babel-runtime/helpers/createClass":12,"babel-runtime/helpers/inherits":13,"babel-runtime/helpers/possibleConstructorReturn":14}],115:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("babel-runtime/helpers/classCallCheck"),i=n(o),s=e("babel-runtime/helpers/createClass"),a=n(s),u=e("./CatalogueDataObject"),c=n(u),l=e("./SourcePackage"),f=n(l),p=e("./HypertyDescriptor"),d=n(p),h=e("./ProtocolStubDescriptor"),y=n(h),_=e("./HypertyRuntimeDescriptor"),m=n(_),b=e("./HypertyInterceptorDescriptor"),v=n(b),g=e("./DataObjectSchema"),w=function(){function e(){(0,i["default"])(this,e)}return(0,a["default"])(e,[{key:"createCatalogueDataObject",value:function(e,t,r,n,o,i,s){if("undefined"==typeof e||"undefined"==typeof t||"undefined"==typeof r||"undefined"==typeof n||"undefined"==typeof o||"undefined"==typeof i||"undefined"==typeof s)throw new Error("Invalid parameters!");return new c["default"](e,t,r,n,o,i,s)}},{key:"createHypertyDescriptorObject",value:function(e,t,r,n,o,i,s,a){if("undefined"==typeof e||"undefined"==typeof t||"undefined"==typeof r||"undefined"==typeof n||"undefined"==typeof o||"undefined"==typeof i||"undefined"==typeof s||"undefined"==typeof a)throw new Error("Invalid parameters!");return new d["default"](e,u.CatalogueObjectType.HYPERTY,t,r,n,o,i,s,a)}},{key:"createProtoStubDescriptorObject",value:function(e,t,r,n,o,i,s,a,c,l,f,p,d,h){if("undefined"==typeof e||"undefined"==typeof t||"undefined"==typeof r||"undefined"==typeof n||"undefined"==typeof o||"undefined"==typeof i||"undefined"==typeof s||"undefined"==typeof a||"undefined"==typeof c)throw new Error("Invalid parameters!");return new y["default"](e,u.CatalogueObjectType.PROTOSTUB,t,r,n,o,i,s,a,c,l,f,p,d,h)}},{key:"createHypertyRuntimeDescriptorObject",value:function(e,t,r,n,o,i,s,a,c,l,f){if("undefined"==typeof e||"undefined"==typeof t||"undefined"==typeof r||"undefined"==typeof n||"undefined"==typeof o||"undefined"==typeof i||"undefined"==typeof s)throw new Error("Invalid parameters!");return new m["default"](e,u.CatalogueObjectType.HYPERTY_RUNTIME,t,r,n,o,i,s,a,c,l,f)}},{key:"createHypertyInterceptorDescriptorObject",value:function(e,t,r,n,o,i,s,a){if("undefined"==typeof e||"undefined"==typeof t||"undefined"==typeof r||"undefined"==typeof n||"undefined"==typeof o||"undefined"==typeof i)throw new Error("Invalid parameters!");return new v["default"](e,u.CatalogueObjectType.HYPERTY_INTERCEPTOR,t,r,n,o,i,s,a)}},{key:"createDataObjectSchema",value:function(e,t,r,n,o,i){if("undefined"==typeof e||"undefined"==typeof t||"undefined"==typeof r||"undefined"==typeof n||"undefined"==typeof o||"undefined"==typeof i)throw new Error("Invalid parameters!");return new g.DataObjectSchema(e,u.CatalogueObjectType.HYPERTY_DATA_OBJECT,t,r,n,o,i)}},{key:"createMessageDataObjectSchema",value:function(e,t,r,n,o,i){if("undefined"==typeof e||"undefined"==typeof t||"undefined"==typeof r||"undefined"==typeof n||"undefined"==typeof o||"undefined"==typeof i)throw new Error("Invalid parameters!");return new g.DataObjectSchema(e,u.CatalogueObjectType.HYPERTY_DATA_OBJECT,t,r,n,o,i)}},{key:"createHypertyDataObjectSchema",value:function(e,t,r,n,o,i,s,a){if("undefined"==typeof e||"undefined"==typeof t||"undefined"==typeof r||"undefined"==typeof n||"undefined"==typeof o||"undefined"==typeof i||"undefined"==typeof a||"undefined"==typeof s)throw new Error("Invalid parameters!");return a===g.DataUrlScheme.COMM?new g.CommunicationDataObjectSchema(e,u.CatalogueObjectType.HYPERTY_DATA_OBJECT,t,r,n,o,i,a,s):a===g.DataUrlScheme.CONNECTION?new g.ConnectionDataObjectSchema(e,u.CatalogueObjectType.HYPERTY_DATA_OBJECT,t,r,n,o,i,a,s):a===g.DataUrlScheme.CTXT?new g.ContextDataObjectSchema(e,u.CatalogueObjectType.HYPERTY_DATA_OBJECT,t,r,n,o,i,a,s):a===g.DataUrlScheme.IDENTITY?new g.IdentityDataObjectSchema(e,u.CatalogueObjectType.HYPERTY_DATA_OBJECT,t,r,n,o,i,a,s):void 0}},{key:"createSourcePackage",value:function(e,t){if("undefined"==typeof t||"undefined"==typeof e)throw new Error("Invalid parameters!");return new f["default"](e,t)}}]),e}();r["default"]=w,t.exports=r["default"]},{"./CatalogueDataObject":114,"./DataObjectSchema":116,"./HypertyDescriptor":117,"./HypertyInterceptorDescriptor":118,"./HypertyRuntimeDescriptor":119,"./ProtocolStubDescriptor":120,"./SourcePackage":121,"babel-runtime/helpers/classCallCheck":11,"babel-runtime/helpers/createClass":12}],116:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0}),r.DataUrlScheme=r.ContextDataObjectSchema=r.IdentityDataObjectSchema=r.ConnectionDataObjectSchema=r.CommunicationDataObjectSchema=r.HypertyDataObjectSchema=r.MessageDataObjectSchema=r.DataObjectSchema=void 0;var o=e("babel-runtime/core-js/object/get-prototype-of"),i=n(o),s=e("babel-runtime/helpers/classCallCheck"),a=n(s),u=e("babel-runtime/helpers/possibleConstructorReturn"),c=n(u),l=e("babel-runtime/helpers/inherits"),f=n(l),p=e("./CatalogueDataObject"),d=n(p),h=r.DataObjectSchema=function(e){function t(e,r,n,o,s,u,l){return(0,a["default"])(this,t),(0,c["default"])(this,(t.__proto__||(0,i["default"])(t)).call(this,e,r,n,o,s,u,l))}return(0,f["default"])(t,e),t}(d["default"]),y=(r.MessageDataObjectSchema=function(e){function t(e,r,n,o,s,u,l){return(0,a["default"])(this,t),(0,c["default"])(this,(t.__proto__||(0,i["default"])(t)).call(this,e,r,n,o,s,u,l))}return(0,f["default"])(t,e),t}(h),r.HypertyDataObjectSchema=function(e){function t(e,r,n,o,s,u,l,f,p){(0,a["default"])(this,t);var d=(0,c["default"])(this,(t.__proto__||(0,i["default"])(t)).call(this,e,r,n,o,s,u,l));return d._accessControlPolicy=f,d._scheme=p,d}return(0,f["default"])(t,e),t}(h));r.CommunicationDataObjectSchema=function(e){function t(e,r,n,o,s,u,l,f){return(0,a["default"])(this,t),(0,c["default"])(this,(t.__proto__||(0,i["default"])(t)).call(this,e,r,n,o,s,u,l,f))}return(0,f["default"])(t,e),t}(y),r.ConnectionDataObjectSchema=function(e){function t(e,r,n,o,s,u,l,f){return(0,a["default"])(this,t),(0,c["default"])(this,(t.__proto__||(0,i["default"])(t)).call(this,e,r,n,o,s,u,l,f))}return(0,f["default"])(t,e),t}(y),r.IdentityDataObjectSchema=function(e){function t(e,r,n,o,s,u,l,f){return(0,a["default"])(this,t),(0,c["default"])(this,(t.__proto__||(0,i["default"])(t)).call(this,e,r,n,o,s,u,l,f))}return(0,f["default"])(t,e),t}(y),r.ContextDataObjectSchema=function(e){function t(e,r,n,o,s,u,l,f){return(0,a["default"])(this,t),(0,c["default"])(this,(t.__proto__||(0,i["default"])(t)).call(this,e,r,n,o,s,u,l,f))}return(0,f["default"])(t,e),t}(y),r.DataUrlScheme={COMM:"COMM",CONNECTION:"CONNECTION",CTXT:"CTXT",IDENTITY:"IDENTITY"},r["default"]=h},{"./CatalogueDataObject":114,"babel-runtime/core-js/object/get-prototype-of":6,"babel-runtime/helpers/classCallCheck":11,"babel-runtime/helpers/inherits":13,"babel-runtime/helpers/possibleConstructorReturn":14}],117:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0}),r.HypertyResourceType=r.HypertyType=r.RuntimeHypertyCapabilityType=void 0;var o=e("babel-runtime/core-js/object/get-prototype-of"),i=n(o),s=e("babel-runtime/helpers/classCallCheck"),a=n(s),u=e("babel-runtime/helpers/createClass"),c=n(u),l=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(l),p=e("babel-runtime/helpers/inherits"),d=n(p),h=e("./CatalogueDataObject"),y=n(h),_=function(e){function t(e,r,n,o,s,u,c,l,p){(0,a["default"])(this,t);var d=(0,f["default"])(this,(t.__proto__||(0,i["default"])(t)).call(this,e,r,n,o,s,u,c));return d._configuration={},d._constraints={},d._policies={},d._messageSchema=null,d._hypertyType=l,d._dataObjects=p,d}return(0,d["default"])(t,e),(0,c["default"])(t,[{key:"hypertyType",get:function(){return this._hypertyType},set:function(e){e&&(this._hypertyType=e)}},{key:"dataObjects",get:function(){return this._dataObjects},set:function(e){e&&(this._dataObjects=e)}},{key:"configuration",get:function(){return this._configuration},set:function(e){e&&(this._configuration=e)}},{key:"constraints",get:function(){return this._constraints},set:function(e){e&&(this._constraints=e)}},{key:"messageSchema",get:function(){return this._messageSchema},set:function(e){e&&(this._messageSchema=e)}},{key:"policies",get:function(){return this._policies},set:function(e){e&&(this._policies=e)}}]),t}(y["default"]);r.RuntimeHypertyCapabilityType={},r.HypertyType={COMMUNICATOR:"communicator",IDENTITY:"identity",CONTEXT:"context"},r.HypertyResourceType={chat:"CHAT",audio:"Audio",video:"Video",av:"AV",screen:"SCREEN",file:"FILe",midi:"MIDI"},r["default"]=_},{"./CatalogueDataObject":114,"babel-runtime/core-js/object/get-prototype-of":6,"babel-runtime/helpers/classCallCheck":11,"babel-runtime/helpers/createClass":12,"babel-runtime/helpers/inherits":13,"babel-runtime/helpers/possibleConstructorReturn":14}],118:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("babel-runtime/core-js/object/get-prototype-of"),i=n(o),s=e("babel-runtime/helpers/classCallCheck"),a=n(s),u=e("babel-runtime/helpers/createClass"),c=n(u),l=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(l),p=e("babel-runtime/helpers/inherits"),d=n(p),h=e("./CatalogueDataObject"),y=n(h),_=function(e){function t(e,r,n,o,s,u,c,l,p){(0,a["default"])(this,t);var d=(0,f["default"])(this,(t.__proto__||(0,i["default"])(t)).call(this,e,r,n,o,s,u,c));return d._configuration=l,d._policies=p,d}return(0,d["default"])(t,e),(0,c["default"])(t,[{key:"configuration",get:function(){return this._configuration},set:function(e){this._configuration=e}},{key:"policies",get:function(){return this._policies},set:function(e){this._policies=e}}]),t}(y["default"]);r["default"]=_,t.exports=r["default"]},{"./CatalogueDataObject":114,"babel-runtime/core-js/object/get-prototype-of":6,"babel-runtime/helpers/classCallCheck":11,"babel-runtime/helpers/createClass":12,"babel-runtime/helpers/inherits":13,"babel-runtime/helpers/possibleConstructorReturn":14}],119:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0}),r.RuntimeType=r.RuntimeProtocolCapability=r.RuntimeHypertyCapability=void 0;var o=e("babel-runtime/core-js/json/stringify"),i=n(o),s=e("babel-runtime/core-js/object/get-prototype-of"),a=n(s),u=e("babel-runtime/helpers/classCallCheck"),c=n(u),l=e("babel-runtime/helpers/createClass"),f=n(l),p=e("babel-runtime/helpers/possibleConstructorReturn"),d=n(p),h=e("babel-runtime/helpers/inherits"),y=n(h),_=e("./CatalogueDataObject"),m=n(_),b=function(e){function t(e,r,n,o,i,s,u,l,f,p,h,y){(0,c["default"])(this,t);var _=(0,d["default"])(this,(t.__proto__||(0,a["default"])(t)).call(this,e,r,n,o,i,s,u));return _._runtimeType=l,f?_._hypertyCapabilities=f:_._hypertyCapabilities=new v((!0),(!1),(!1),(!1),(!1)),p?_._protocolCapabilities=p:_._protocolCapabilities=new g((!0),(!1),(!0),(!1),(!1),(!1)),_._p2pHandlerStub=h,_._p2pRequesterStub=y,_}return(0,y["default"])(t,e),(0,f["default"])(t,[{key:"runtimeType",get:function(){return this._runtimeType},set:function(e){e&&(this._runtimeType=e)}},{key:"hypertyCapabilities",get:function(){return this._hypertyCapabilities},set:function(e){e&&(this._hypertyCapabilities=e)}},{key:"protocolCapabilities",get:function(){return this._hypertyCapabilities},set:function(e){e&&(this._protocolCapabilities=e)}},{key:"p2pHandlerStub",get:function(){return this._p2pHandlerStub},set:function(e){this._p2pHandlerStub=e}},{key:"p2pRequesterStub",get:function(){return this._p2pRequesterStub},set:function(e){this._p2pRequesterStub=e}}]),t}(m["default"]),v=r.RuntimeHypertyCapability=function(){function e(t,r,n,o,i){(0,c["default"])(this,e),this._isWebRTC=t,this._isMic=r,this._isCamera=n,this._isSensor=o,this._isORTC=i}return(0,f["default"])(e,[{key:"getCapabilitySet",value:function(){return(0,i["default"])(this)}},{key:"isMic",get:function(){return this._isMic}},{key:"isCamera",get:function(){return this._isCamera}},{key:"isSensor",get:function(){return this._isSensor}},{key:"isWebRTC",get:function(){return this._isWebRTC}},{key:"isORTCS",get:function(){return this._isORTC}}]),e}(),g=r.RuntimeProtocolCapability=function(){function e(t,r,n,o,i,s){(0,c["default"])(this,e),this._isHttp=t,this._isHttps=r,this._isWS=n,this._isWSS=o,this._isCoap=i,this._isDataChannel=s}return(0,f["default"])(e,[{key:"isHttp",value:function(){return this._isHttp}},{key:"isHttps",value:function(){return this._isHttps}},{key:"isWS",value:function(){return this._isWS}},{key:"isSensorSupported",value:function(){return this._isSensor}},{key:"isWSS",value:function(){return this._isWSS}},{key:"isCoap",value:function(){return this._isCoap}},{key:"isDataChannel",value:function(){return this._isDataChannel}},{key:"getCapabilitySet",value:function(){return(0,i["default"])(this)}}]),e}();r.RuntimeType={BROWSER:"browser",STANDALONE:"standalone",SERVER:"server",GATEWAY:"gateway"},r["default"]=b},{"./CatalogueDataObject":114,"babel-runtime/core-js/json/stringify":3,"babel-runtime/core-js/object/get-prototype-of":6,"babel-runtime/helpers/classCallCheck":11,"babel-runtime/helpers/createClass":12,"babel-runtime/helpers/inherits":13,"babel-runtime/helpers/possibleConstructorReturn":14}],120:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("babel-runtime/core-js/object/get-prototype-of"),i=n(o),s=e("babel-runtime/helpers/classCallCheck"),a=n(s),u=e("babel-runtime/helpers/createClass"),c=n(u),l=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(l),p=e("babel-runtime/helpers/inherits"),d=n(p),h=e("./CatalogueDataObject"),y=n(h),_=function(e){function t(e,r,n,o,s,u,c,l,p,d,h,y,_,m,b){(0,a["default"])(this,t);var v=(0,f["default"])(this,(t.__proto__||(0,i["default"])(t)).call(this,e,r,n,o,s,u,c));return v._messageSchemas=l,p?v._configuration=p:v._configuration={},d?v._constraints=d:v._constraints={},v._hypertyType=h,y?v._dataObjects=y:v._dataObjects=[],v._interworking=_,v._idpProxy=m,v._mutualAuthentication=b,v}return(0,d["default"])(t,e),(0,c["default"])(t,[{key:"messageSchemas",get:function(){return this._messageSchemas},set:function(e){e&&(this._messageSchemas=e)}},{key:"constraints",get:function(){return this._constraints},set:function(e){e&&(this._constraints=e)}},{key:"configuration",get:function(){return this._configuration},set:function(e){e&&(this._configuration=e)}},{key:"hypertyType",get:function(){return this._hypertyType},set:function(e){this._hypertyType=e}},{key:"dataObjects",get:function(){return this._dataObjects},set:function(e){this._dataObjects=e}},{key:"interworking",get:function(){return this._interworking},set:function(e){this._interworking=e}},{key:"idpProxy",get:function(){return this._idpProxy},set:function(e){this._idpProxy=e}},{key:"mutualAuthentication",get:function(){return this._mutualAuthentication},set:function(e){this._mutualAuthentication=e}}]),t}(y["default"]);r["default"]=_,t.exports=r["default"]},{"./CatalogueDataObject":114,"babel-runtime/core-js/object/get-prototype-of":6,"babel-runtime/helpers/classCallCheck":11,"babel-runtime/helpers/createClass":12,"babel-runtime/helpers/inherits":13,"babel-runtime/helpers/possibleConstructorReturn":14}],121:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("babel-runtime/helpers/classCallCheck"),i=n(o),s=e("babel-runtime/helpers/createClass"),a=n(s),u=function(){function e(t,r){(0,i["default"])(this,e),this._sourceCode=r,this._sourceCodeClassname=t,this._encoding=null,this._signature=null}return(0,a["default"])(e,[{key:"sourceCode",get:function(){return this._sourceCode},set:function(e){e&&(this._sourceCode=e)}},{key:"sourceCodeClassname",get:function(){return this._sourceCodeClassname},set:function(e){e&&(this._sourceCodeClassname=e)}},{key:"encoding",get:function(){return this._encoding},set:function(e){e&&(this._encoding=e)}},{key:"signature",get:function(){return this._signature},set:function(e){e&&(this._signature=e)}}]),e}();r["default"]=u,t.exports=r["default"]},{"babel-runtime/helpers/classCallCheck":11,"babel-runtime/helpers/createClass":12}],122:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0}),r.RethinkObject=void 0;var o=e("babel-runtime/core-js/json/stringify"),i=n(o),s=e("babel-runtime/helpers/classCallCheck"),a=n(s),u=e("babel-runtime/helpers/createClass"),c=n(u),l=e("tv4"),f=n(l),p=r.RethinkObject=function(){function e(){(0,a["default"])(this,e)}return(0,c["default"])(e,[{key:"validate",value:function(e){f["default"].addSchema(e.id,e);var t=f["default"].validateMultiple(JSON.parse((0,i["default"])(this)),e);return t.errors.forEach(function(e){delete e.stack}),(!t.valid||t.missing.length>0)&&(console.warn("Object validation "+(t.valid?"succeeded, but schema contained references:":"failed:"),(0,i["default"])(t,null,2)),console.log("Object:",(0,i["default"])(this,null,2))),t.valid}}]),e}();r["default"]=p},{"babel-runtime/core-js/json/stringify":3,"babel-runtime/helpers/classCallCheck":11,"babel-runtime/helpers/createClass":12,tv4:112}],123:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("babel-runtime/helpers/slicedToArray"),i=n(o),s=e("babel-runtime/core-js/promise"),a=n(s),u=e("babel-runtime/helpers/classCallCheck"),c=n(u),l=e("babel-runtime/helpers/createClass"),f=n(l),p=e("../catalogue-factory/CatalogueDataObjectFactory"),d=n(p),h=function(){function e(t){if((0,c["default"])(this,e),!t)throw Error("The catalogue needs the runtimeFactory");this._factory=new d["default"],this.httpRequest=t.createHttpRequest(),this.atob=t.atob?t.atob:atob,this.storageManager=t.storageManager()}return(0,f["default"])(e,[{key:"getDescriptor",value:function(e,t){var r=this,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];console.log("getting descriptor from:",e);var o=!1,s=!1,u=a["default"].all([this.httpRequest.get(e+"/version"),this.httpRequest.get(e+"/cguid")]).then(function(t){var n=(0,i["default"])(t,2),s=n[0],a=n[1];return console.log("got version ("+s+") and cguid ("+a+") for descriptor "+e),r.storageManager.getVersion(a).then(function(t){return t>=s?(console.log("storageManager contains saved version that is the same or newer than requested"),o=!0,r.storageManager.get(a)):(console.log("storageManager does not contain saved version"),r.httpRequest.get(e).then(function(e){if(e=JSON.parse(e),e.ERROR)throw new Error(e);return e}))})})["catch"](function(t){var r="Unable to get descriptor for "+e+": "+t;throw console.error(r),new Error(r)}),c=u;return n&&(console.log("adding promise to attach sourcePackage"),c=u.then(function(e){return e.sourcePackage?(s=!0,e):(s=!1,r.attachRawSourcePackage(e))})),c=c.then(function(e){return(!o||o&&!s&&n)&&r.storageManager.set(e.cguid,e.version,e),t.apply(r,[e])})}},{key:"attachRawSourcePackage",value:function(e){var t=this;return console.log("attaching raw sourcePackage from:",e.sourcePackageURL),new a["default"](function(r){t.httpRequest.get(e.sourcePackageURL).then(function(t){t=JSON.parse(t),e.sourcePackage=t,r(e)})})}},{key:"getHypertyDescriptor",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.getDescriptor(e,this.createHyperty,t)}},{key:"getStubDescriptor",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.getDescriptor(e,this.createStub,t)}},{key:"getRuntimeDescriptor",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.getDescriptor(e,this.createRuntimeDescriptor,t)}},{key:"getDataSchemaDescriptor",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.getDescriptor(e,this.createDataSchema,t)}},{key:"getIdpProxyDescriptor",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.getDescriptor(e,this.createIdpProxy,t)}},{key:"createHyperty",value:function(e){var t=this._factory.createHypertyDescriptorObject(e.cguid,e.version,e.objectName,e.description,e.language,e.sourcePackageURL,e.type||e.hypertyType,e.dataObjects);t.configuration=e.configuration,t.constraints=e.constraints,t.messageSchema=e.messageSchema,t.policies=e.policies,t.signature=e.signature;var r=e.sourcePackage;return r&&(t.sourcePackage=this.createSourcePackage(r)),t}},{key:"createStub",value:function(e){var t=this._factory.createProtoStubDescriptorObject(e.cguid,e.version,e.objectName,e.description,e.language,e.sourcePackageURL,e.messageSchemas,e.configuration,e.constraints,e.hypertyType,e.dataObjects,e.interworking,e.idpProxy,e.mutualAuthentication);t.signature=e.signature;var r=e.sourcePackage;return r&&(t.sourcePackage=this.createSourcePackage(r)),t}},{key:"createRuntimeDescriptor",value:function(e){try{e.hypertyCapabilities=JSON.parse(e.hypertyCapabilities),e.protocolCapabilities=JSON.parse(e.protocolCapabilities)}catch(t){}var r=this._factory.createHypertyRuntimeDescriptorObject(e.cguid,e.version,e.objectName,e.description,e.language,e.sourcePackageURL,e.type||e.runtimeType,e.hypertyCapabilities,e.protocolCapabilities,e.p2pHandlerStub,e.p2pRequesterStub);r.signature=e.signature;var n=e.sourcePackage;return n&&(r.sourcePackage=this.createSourcePackage(n)),r}},{key:"createDataSchema",value:function(e){var t=void 0;t=e.accessControlPolicy&&e.scheme?this._factory.createHypertyDataObjectSchema(e.cguid,e.version,e.objectName,e.description,e.language,e.sourcePackageURL,e.accessControlPolicy,e.scheme):this._factory.createMessageDataObjectSchema(e.cguid,e.version,e.objectName,e.description,e.language,e.sourcePackageURL),t.signature=e.signature;var r=e.sourcePackage;if(r){t.sourcePackage=this.createSourcePackage(r);try{t.sourcePackage.sourceCode=JSON.parse(t.sourcePackage.sourceCode)}catch(n){console.log("DataSchema Source code is already parsed")}return t}return t}},{key:"createIdpProxy",value:function(e){var t=this._factory.createProtoStubDescriptorObject(e.cguid,e.version,e.objectName,e.description,e.language,e.sourcePackageURL,e.messageSchemas,e.configuration,e.constraints);
t.signature=e.signature;var r=e.sourcePackage;return r&&(r=this.createSourcePackage(r),t.sourcePackage=r),t}},{key:"createSourcePackage",value:function(e){"base64"===e.encoding&&(e.sourceCode=this.atob(e.sourceCode));var t=this._factory.createSourcePackage(e.sourceCodeClassname,e.sourceCode);return e.encoding&&(t.encoding=e.encoding),e.signature&&(t.signature=e.signature),t}},{key:"getSourcePackageFromURL",value:function(e){var t=this;return console.log("getting sourcePackage from:",e),new a["default"](function(r,n){t.httpRequest.get(e).then(function(e){if(e.ERROR)n(e);else{e=JSON.parse(e);var o=t.createSourcePackage(e);r(o)}})["catch"](function(e){n(e)})})}},{key:"getSourceCodeFromDescriptor",value:function(e){var t=this;return new a["default"](function(r,n){e.sourcePackage?r(e.sourcePackage.sourceCode):t.storageManager.getVersion(e.sourcePackageURL+"/sourceCode").then(function(o){o>=e.version?(console.log("returning cached version from storageManager"),t.storageManager.get(e.sourcePackageURL+"/sourceCode").then(function(e){r(e)})):t.httpRequest.get(e.sourcePackageURL+"/sourceCode").then(function(o){o.ERROR?n(o):(t.storageManager.set(e.sourcePackageURL+"/sourceCode",e.version,o),r(o))})})})}},{key:"getTypeList",value:function(e){var t=this;return new a["default"](function(r,n){t.httpRequest.get(e).then(function(e){e=JSON.parse(e),r(e)})["catch"](function(e){n(e)})})}},{key:"deleteFromPM",value:function(e){return this.storageManager["delete"](e)}},{key:"runtimeURL",set:function(e){this._runtimeURL=e},get:function(){return this._runtimeURL}}]),e}();r["default"]=h,t.exports=r["default"]},{"../catalogue-factory/CatalogueDataObjectFactory":115,"babel-runtime/core-js/promise":8,"babel-runtime/helpers/classCallCheck":11,"babel-runtime/helpers/createClass":12,"babel-runtime/helpers/slicedToArray":15}]},{},[113])(113)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(e,r,n){(function(o){!function(e){if("object"==typeof n&&"undefined"!=typeof r)r.exports=e();else if("function"==typeof t&&t.amd)t([],e);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof o?o:"undefined"!=typeof self?self:this,i.StorageManager=e()}}(function(){return function t(r,n,o){function i(a,u){if(!n[a]){if(!r[a]){var c="function"==typeof e&&e;if(!u&&c)return c(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[a]={exports:{}};r[a][0].call(f.exports,function(e){var t=r[a][1][e];return i(t?t:e)},f,f.exports,t,r,n,o)}return n[a].exports}for(var s="function"==typeof e&&e,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":4}],2:[function(e,t,r){"use strict";r.__esModule=!0,r["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],3:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}r.__esModule=!0;var o=e("../core-js/object/define-property"),i=n(o);r["default"]=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i["default"])(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},{"../core-js/object/define-property":1}],4:[function(e,t,r){e("../../modules/es6.object.define-property");var n=e("../../modules/_core").Object;t.exports=function(e,t,r){return n.defineProperty(e,t,r)}},{"../../modules/_core":7,"../../modules/es6.object.define-property":20}],5:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],6:[function(e,t,r){var n=e("./_is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":16}],7:[function(e,t,r){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},{}],8:[function(e,t,r){var n=e("./_a-function");t.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":5}],9:[function(e,t,r){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":12}],10:[function(e,t,r){var n=e("./_is-object"),o=e("./_global").document,i=n(o)&&n(o.createElement);t.exports=function(e){return i?o.createElement(e):{}}},{"./_global":13,"./_is-object":16}],11:[function(e,t,r){var n=e("./_global"),o=e("./_core"),i=e("./_ctx"),s=e("./_hide"),a="prototype",u=function(e,t,r){var c,l,f,p=e&u.F,d=e&u.G,h=e&u.S,y=e&u.P,_=e&u.B,m=e&u.W,b=d?o:o[t]||(o[t]={}),v=b[a],g=d?n:h?n[t]:(n[t]||{})[a];d&&(r=t);for(c in r)l=!p&&g&&void 0!==g[c],l&&c in b||(f=l?g[c]:r[c],b[c]=d&&"function"!=typeof g[c]?r[c]:_&&l?i(f,n):m&&g[c]==f?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t[a]=e[a],t}(f):y&&"function"==typeof f?i(Function.call,f):f,y&&((b.virtual||(b.virtual={}))[c]=f,e&u.R&&v&&!v[c]&&s(v,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},{"./_core":7,"./_ctx":8,"./_global":13,"./_hide":14}],12:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],13:[function(e,t,r){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],14:[function(e,t,r){var n=e("./_object-dp"),o=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},{"./_descriptors":9,"./_object-dp":17,"./_property-desc":18}],15:[function(e,t,r){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":9,"./_dom-create":10,"./_fails":12}],16:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],17:[function(e,t,r){var n=e("./_an-object"),o=e("./_ie8-dom-define"),i=e("./_to-primitive"),s=Object.defineProperty;r.f=e("./_descriptors")?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return s(e,t,r)}catch(a){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},{"./_an-object":6,"./_descriptors":9,"./_ie8-dom-define":15,"./_to-primitive":19}],18:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],19:[function(e,t,r){var n=e("./_is-object");t.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":16}],20:[function(e,t,r){var n=e("./_export");n(n.S+n.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":9,"./_export":11,"./_object-dp":17}],21:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("babel-runtime/helpers/classCallCheck"),i=n(o),s=e("babel-runtime/helpers/createClass"),a=n(s),u=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if((0,i["default"])(this,e),!t)throw Error("The Storage Manager needs the database instance");if(!r)throw Error("The Storage Manager needs the storage name");var o={};o[r]="key,version,value",t.version(n).stores(o),t.open().then(function(e){console.info("Found database name "+e.name+" with version no: "+e.verno)})["catch"](console.error),this.db=t,this.storageName=r}return(0,a["default"])(e,[{key:"_checkKey",value:function(e){return"string"!=typeof e?e.toString():e}},{key:"set",value:function(e,t,r){return console.info("[StorageManager] - set ",e),this.db[this.storageName].put({key:this._checkKey(e),version:t,value:r})}},{key:"get",value:function(e){return console.info("[StorageManager] - get ",e),this.db[this.storageName].where("key").equals(this._checkKey(e)).first().then(function(e){if(e)return e.value})["catch"](function(t){console.info("error getting the key ",e," with error: ",t)})}},{key:"getVersion",value:function(e){return console.info("[StorageManager] - getVersion for key ",e),this.db[this.storageName].where("key").equals(this._checkKey(e)).first().then(function(e){if(e)return e.version})["catch"](function(t){console.info("error getting the version for ",e," with error: ",t)})}},{key:"delete",value:function(e){return this.db[this.storageName].where("key").equals(this._checkKey(e))["delete"]()}}]),e}();r["default"]=u,t.exports=r["default"]},{"babel-runtime/helpers/classCallCheck":2,"babel-runtime/helpers/createClass":3}]},{},[21])(21)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,r,n){!function(e,n){"use strict";"object"==typeof r&&r.exports?r.exports=n():"function"==typeof t&&t.amd?t(n):e.IPv6=n(e)}(this,function(e){"use strict";function t(e){var t=e.toLowerCase(),r=t.split(":"),n=r.length,o=8;""===r[0]&&""===r[1]&&""===r[2]?(r.shift(),r.shift()):""===r[0]&&""===r[1]?r.shift():""===r[n-1]&&""===r[n-2]&&r.pop(),n=r.length,r[n-1].indexOf(".")!==-1&&(o=7);var i;for(i=0;i<n&&""!==r[i];i++);if(i<o)for(r.splice(i,1,"0000");r.length<o;)r.splice(i,0,"0000");for(var s,a=0;a<o;a++){s=r[a].split("");for(var u=0;u<3&&("0"===s[0]&&s.length>1);u++)s.splice(0,1);r[a]=s.join("")}var c=-1,l=0,f=0,p=-1,d=!1;for(a=0;a<o;a++)d?"0"===r[a]?f+=1:(d=!1,f>l&&(c=p,l=f)):"0"===r[a]&&(d=!0,p=a,f=1);f>l&&(c=p,l=f),l>1&&r.splice(c,l,""),n=r.length;var h="";for(""===r[0]&&(h=":"),a=0;a<n&&(h+=r[a],a!==n-1);a++)h+=":";return""===r[n-1]&&(h+=":"),h}function r(){return e.IPv6===this&&(e.IPv6=n),this}var n=e&&e.IPv6;return{best:t,noConflict:r}})},{}],8:[function(e,r,n){!function(e,n){"use strict";"object"==typeof r&&r.exports?r.exports=n():"function"==typeof t&&t.amd?t(n):e.SecondLevelDomains=n(e)}(this,function(e){"use strict";var t=e&&e.SecondLevelDomains,r={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ","do":" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ","in":" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch "},has:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var n=e.lastIndexOf(".",t-1);if(n<=0||n>=t-1)return!1;var o=r.list[e.slice(t+1)];return!!o&&o.indexOf(" "+e.slice(n+1,t)+" ")>=0},is:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var n=e.lastIndexOf(".",t-1);if(n>=0)return!1;var o=r.list[e.slice(t+1)];return!!o&&o.indexOf(" "+e.slice(0,t)+" ")>=0},get:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return null;var n=e.lastIndexOf(".",t-1);if(n<=0||n>=t-1)return null;var o=r.list[e.slice(t+1)];return o?o.indexOf(" "+e.slice(n+1,t)+" ")<0?null:e.slice(n+1):null},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return r})},{}],9:[function(e,r,n){!function(n,o){"use strict";"object"==typeof r&&r.exports?r.exports=o(e("./punycode"),e("./IPv6"),e("./SecondLevelDomains")):"function"==typeof t&&t.amd?t(["./punycode","./IPv6","./SecondLevelDomains"],o):n.URI=o(n.punycode,n.IPv6,n.SecondLevelDomains,n)}(this,function(e,t,r,n){"use strict";function o(e,t){var r=arguments.length>=1,n=arguments.length>=2;if(!(this instanceof o))return r?n?new o(e,t):new o(e):new o;if(void 0===e){if(r)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}return this.href(e),void 0!==t?this.absoluteTo(t):this}function i(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function s(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function a(e){return"Array"===s(e)}function u(e,t){var r,n,o={};if("RegExp"===s(t))o=null;else if(a(t))for(r=0,n=t.length;r<n;r++)o[t[r]]=!0;else o[t]=!0;for(r=0,n=e.length;r<n;r++){var i=o&&void 0!==o[e[r]]||!o&&t.test(e[r]);i&&(e.splice(r,1),n--,r--)}return e}function c(e,t){var r,n;if(a(t)){for(r=0,n=t.length;r<n;r++)if(!c(e,t[r]))return!1;return!0}var o=s(t);for(r=0,n=e.length;r<n;r++)if("RegExp"===o){if("string"==typeof e[r]&&e[r].match(t))return!0}else if(e[r]===t)return!0;return!1}function l(e,t){if(!a(e)||!a(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}function f(e){var t=/^\/+|\/+$/g;return e.replace(t,"")}function p(e){return escape(e)}function d(e){return encodeURIComponent(e).replace(/[!'()*]/g,p).replace(/\*/g,"%2A")}function h(e){return function(t,r){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!r),this)}}function y(e,t){return function(r,n){return void 0===r?this._parts[e]||"":(null!==r&&(r+="",r.charAt(0)===t&&(r=r.substring(1))),this._parts[e]=r,this.build(!n),this)}}var _=n&&n.URI;o.version="1.18.4";var m=o.prototype,b=Object.prototype.hasOwnProperty;o._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:o.duplicateQueryParameters,escapeQuerySpace:o.escapeQuerySpace}},o.duplicateQueryParameters=!1,o.escapeQuerySpace=!0,o.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,o.idn_expression=/[^a-z0-9\.-]/i,o.punycode_expression=/(xn--)/i,o.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,o.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,o.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},o.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},o.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,o.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},o.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return o.domAttributes[t]}},o.encode=d,o.decode=decodeURIComponent,o.iso8859=function(){o.encode=escape,o.decode=unescape},o.unicode=function(){o.encode=d,o.decode=decodeURIComponent},o.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},o.encodeQuery=function(e,t){var r=o.encode(e+"");return void 0===t&&(t=o.escapeQuerySpace),t?r.replace(/%20/g,"+"):r},o.decodeQuery=function(e,t){e+="",void 0===t&&(t=o.escapeQuerySpace);try{return o.decode(t?e.replace(/\+/g,"%20"):e)}catch(r){return e}};var v,g={encode:"encode",decode:"decode"},w=function(e,t){return function(r){try{return o[t](r+"").replace(o.characters[e][t].expression,function(r){return o.characters[e][t].map[r]})}catch(n){return r}}};for(v in g)o[v+"PathSegment"]=w("pathname",g[v]),o[v+"UrnPathSegment"]=w("urnpath",g[v]);var k=function(e,t,r){return function(n){var i;i=r?function(e){return o[t](o[r](e))}:o[t];for(var s=(n+"").split(e),a=0,u=s.length;a<u;a++)s[a]=i(s[a]);return s.join(e)}};o.decodePath=k("/","decodePathSegment"),o.decodeUrnPath=k(":","decodeUrnPathSegment"),o.recodePath=k("/","encodePathSegment","decode"),o.recodeUrnPath=k(":","encodeUrnPathSegment","decode"),o.encodeReserved=w("reserved","encode"),o.parse=function(e,t){var r;return t||(t={}),r=e.indexOf("#"),r>-1&&(t.fragment=e.substring(r+1)||null,e=e.substring(0,r)),r=e.indexOf("?"),r>-1&&(t.query=e.substring(r+1)||null,e=e.substring(0,r)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=o.parseAuthority(e,t)):(r=e.indexOf(":"),r>-1&&(t.protocol=e.substring(0,r)||null,t.protocol&&!t.protocol.match(o.protocol_expression)?t.protocol=void 0:"//"===e.substring(r+1,r+3)?(e=e.substring(r+3),e=o.parseAuthority(e,t)):(e=e.substring(r+1),t.urn=!0))),t.path=e,t},o.parseHost=function(e,t){e=e.replace(/\\/g,"/");var r,n,o=e.indexOf("/");if(o===-1&&(o=e.length),"["===e.charAt(0))r=e.indexOf("]"),t.hostname=e.substring(1,r)||null,t.port=e.substring(r+2,o)||null,"/"===t.port&&(t.port=null);else{var i=e.indexOf(":"),s=e.indexOf("/"),a=e.indexOf(":",i+1);a!==-1&&(s===-1||a<s)?(t.hostname=e.substring(0,o)||null,t.port=null):(n=e.substring(0,o).split(":"),t.hostname=n[0]||null,t.port=n[1]||null)}return t.hostname&&"/"!==e.substring(o).charAt(0)&&(o++,e="/"+e),e.substring(o)||"/"},o.parseAuthority=function(e,t){return e=o.parseUserinfo(e,t),o.parseHost(e,t)},o.parseUserinfo=function(e,t){var r,n=e.indexOf("/"),i=e.lastIndexOf("@",n>-1?n:e.length-1);return i>-1&&(n===-1||i<n)?(r=e.substring(0,i).split(":"),t.username=r[0]?o.decode(r[0]):null,r.shift(),t.password=r[0]?o.decode(r.join(":")):null,e=e.substring(i+1)):(t.username=null,t.password=null),e},o.parseQuery=function(e,t){if(!e)return{};if(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!e)return{};for(var r,n,i,s={},a=e.split("&"),u=a.length,c=0;c<u;c++)r=a[c].split("="),n=o.decodeQuery(r.shift(),t),i=r.length?o.decodeQuery(r.join("="),t):null,b.call(s,n)?("string"!=typeof s[n]&&null!==s[n]||(s[n]=[s[n]]),s[n].push(i)):s[n]=i;return s},o.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=o.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},o.buildHost=function(e){var t="";return e.hostname?(t+=o.ip6_expression.test(e.hostname)?"["+e.hostname+"]":e.hostname,e.port&&(t+=":"+e.port),t):""},o.buildAuthority=function(e){return o.buildUserinfo(e)+o.buildHost(e)},o.buildUserinfo=function(e){var t="";return e.username&&(t+=o.encode(e.username)),e.password&&(t+=":"+o.encode(e.password)),t&&(t+="@"),t},o.buildQuery=function(e,t,r){var n,i,s,u,c="";for(i in e)if(b.call(e,i)&&i)if(a(e[i]))for(n={},s=0,u=e[i].length;s<u;s++)void 0!==e[i][s]&&void 0===n[e[i][s]+""]&&(c+="&"+o.buildQueryParameter(i,e[i][s],r),t!==!0&&(n[e[i][s]+""]=!0));else void 0!==e[i]&&(c+="&"+o.buildQueryParameter(i,e[i],r));return c.substring(1)},o.buildQueryParameter=function(e,t,r){return o.encodeQuery(e,r)+(null!==t?"="+o.encodeQuery(t,r):"")},o.addQuery=function(e,t,r){if("object"==typeof t)for(var n in t)b.call(t,n)&&o.addQuery(e,n,t[n]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=r);"string"==typeof e[t]&&(e[t]=[e[t]]),a(r)||(r=[r]),e[t]=(e[t]||[]).concat(r)}},o.removeQuery=function(e,t,r){var n,i,c;if(a(t))for(n=0,i=t.length;n<i;n++)e[t[n]]=void 0;else if("RegExp"===s(t))for(c in e)t.test(c)&&(e[c]=void 0);else if("object"==typeof t)for(c in t)b.call(t,c)&&o.removeQuery(e,c,t[c]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==r?"RegExp"===s(r)?!a(e[t])&&r.test(e[t])?e[t]=void 0:e[t]=u(e[t],r):e[t]!==String(r)||a(r)&&1!==r.length?a(e[t])&&(e[t]=u(e[t],r)):e[t]=void 0:e[t]=void 0}},o.hasQuery=function(e,t,r,n){switch(s(t)){case"String":break;case"RegExp":for(var i in e)if(b.call(e,i)&&t.test(i)&&(void 0===r||o.hasQuery(e,i,r)))return!0;return!1;case"Object":for(var u in t)if(b.call(t,u)&&!o.hasQuery(e,u,t[u]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(s(r)){case"Undefined":return t in e;case"Boolean":var f=Boolean(a(e[t])?e[t].length:e[t]);return r===f;case"Function":return!!r(e[t],t,e);case"Array":if(!a(e[t]))return!1;var p=n?c:l;return p(e[t],r);case"RegExp":return a(e[t])?!!n&&c(e[t],r):Boolean(e[t]&&e[t].match(r));case"Number":r=String(r);case"String":return a(e[t])?!!n&&c(e[t],r):e[t]===r;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},o.joinPaths=function(){for(var e=[],t=[],r=0,n=0;n<arguments.length;n++){var i=new o(arguments[n]);e.push(i);for(var s=i.segment(),a=0;a<s.length;a++)"string"==typeof s[a]&&t.push(s[a]),s[a]&&r++}if(!t.length||!r)return new o("");var u=new o("").segment(t);return""!==e[0].path()&&"/"!==e[0].path().slice(0,1)||u.path("/"+u.path()),u.normalize()},o.commonPath=function(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r)){r--;break}return r<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(r)&&"/"===t.charAt(r)||(r=e.substring(0,r).lastIndexOf("/")),e.substring(0,r+1))},o.withinString=function(e,t,r){r||(r={});var n=r.start||o.findUri.start,i=r.end||o.findUri.end,s=r.trim||o.findUri.trim,a=r.parens||o.findUri.parens,u=/[a-z0-9-]=["']?$/i;for(n.lastIndex=0;;){var c=n.exec(e);if(!c)break;var l=c.index;if(r.ignoreHtml){var f=e.slice(Math.max(l-3,0),l);if(f&&u.test(f))continue}for(var p=l+e.slice(l).search(i),d=e.slice(l,p),h=-1;;){var y=a.exec(d);if(!y)break;var _=y.index+y[0].length;h=Math.max(h,_)}if(d=h>-1?d.slice(0,h)+d.slice(h+1).replace(s,""):d.replace(s,""),!r.ignore||!r.ignore.test(d)){p=l+d.length;var m=t(d,l,p,e);void 0!==m?(m=String(m),e=e.slice(0,l)+m+e.slice(p),n.lastIndex=l+m.length):n.lastIndex=p}}return n.lastIndex=0,e},o.ensureValidHostname=function(t){if(t.match(o.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(e.toASCII(t).match(o.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]')}},o.noConflict=function(e){if(e){var t={URI:this.noConflict()};return n.URITemplate&&"function"==typeof n.URITemplate.noConflict&&(t.URITemplate=n.URITemplate.noConflict()),n.IPv6&&"function"==typeof n.IPv6.noConflict&&(t.IPv6=n.IPv6.noConflict()),n.SecondLevelDomains&&"function"==typeof n.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=n.SecondLevelDomains.noConflict()),t}return n.URI===this&&(n.URI=_),this},m.build=function(e){return e===!0?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=o.build(this._parts),this._deferred_build=!1),this},m.clone=function(){return new o(this)},m.valueOf=m.toString=function(){return this.build(!1)._string},m.protocol=h("protocol"),m.username=h("username"),m.password=h("password"),m.hostname=h("hostname"),m.port=h("port"),m.query=y("query","?"),m.fragment=y("fragment","#"),m.search=function(e,t){var r=this.query(e,t);return"string"==typeof r&&r.length?"?"+r:r},m.hash=function(e,t){var r=this.fragment(e,t);
return"string"==typeof r&&r.length?"#"+r:r},m.pathname=function(e,t){if(void 0===e||e===!0){var r=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?o.decodeUrnPath:o.decodePath)(r):r}return this._parts.urn?this._parts.path=e?o.recodeUrnPath(e):"":this._parts.path=e?o.recodePath(e):"/",this.build(!t),this},m.path=m.pathname,m.href=function(e,t){var r;if(void 0===e)return this.toString();this._string="",this._parts=o._parts();var n=e instanceof o,i="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName){var s=o.getDomAttribute(e);e=e[s]||"",i=!1}if(!n&&i&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=o.parse(String(e),this._parts);else{if(!n&&!i)throw new TypeError("invalid input");var a=n?e._parts:e;for(r in a)b.call(this._parts,r)&&(this._parts[r]=a[r])}return this.build(!t),this},m.is=function(e){var t=!1,n=!1,i=!1,s=!1,a=!1,u=!1,c=!1,l=!this._parts.urn;switch(this._parts.hostname&&(l=!1,n=o.ip4_expression.test(this._parts.hostname),i=o.ip6_expression.test(this._parts.hostname),t=n||i,s=!t,a=s&&r&&r.has(this._parts.hostname),u=s&&o.idn_expression.test(this._parts.hostname),c=s&&o.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return l;case"absolute":return!l;case"domain":case"name":return s;case"sld":return a;case"ip":return t;case"ip4":case"ipv4":case"inet4":return n;case"ip6":case"ipv6":case"inet6":return i;case"idn":return u;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return c}return null};var j=m.protocol,x=m.port,O=m.hostname;m.protocol=function(e,t){if(void 0!==e&&e&&(e=e.replace(/:(\/\/)?$/,""),!e.match(o.protocol_expression)))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return j.call(this,e,t)},m.scheme=m.protocol,m.port=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e&&(0===e&&(e=null),e&&(e+="",":"===e.charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError('Port "'+e+'" contains characters other than [0-9]');return x.call(this,e,t)},m.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var r={},n=o.parseHost(e,r);if("/"!==n)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=r.hostname}return O.call(this,e,t)},m.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var r=this.protocol(),n=this.authority();return n?(r?r+"://":"")+this.authority():""}var i=o(e);return this.protocol(i.protocol()).authority(i.authority()).build(!t),this},m.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?o.buildHost(this._parts):"";var r=o.parseHost(e,this._parts);if("/"!==r)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},m.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?o.buildAuthority(this._parts):"";var r=o.parseAuthority(e,this._parts);if("/"!==r)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},m.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var r=o.buildUserinfo(this._parts);return r?r.substring(0,r.length-1):r}return"@"!==e[e.length-1]&&(e+="@"),o.parseUserinfo(e,this._parts),this.build(!t),this},m.resource=function(e,t){var r;return void 0===e?this.path()+this.search()+this.hash():(r=o.parse(e),this._parts.path=r.path,this._parts.query=r.query,this._parts.fragment=r.fragment,this.build(!t),this)},m.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,r)||""}var n=this._parts.hostname.length-this.domain().length,s=this._parts.hostname.substring(0,n),a=new RegExp("^"+i(s));return e&&"."!==e.charAt(e.length-1)&&(e+="."),e&&o.ensureValidHostname(e),this._parts.hostname=this._parts.hostname.replace(a,e),this.build(!t),this},m.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.match(/\./g);if(r&&r.length<2)return this._parts.hostname;var n=this._parts.hostname.length-this.tld(t).length-1;return n=this._parts.hostname.lastIndexOf(".",n-1)+1,this._parts.hostname.substring(n)||""}if(!e)throw new TypeError("cannot set domain empty");if(o.ensureValidHostname(e),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var s=new RegExp(i(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(s,e)}return this.build(!t),this},m.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.lastIndexOf("."),o=this._parts.hostname.substring(n+1);return t!==!0&&r&&r.list[o.toLowerCase()]?r.get(this._parts.hostname)||o:o}var s;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!r||!r.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');s=new RegExp(i(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(s,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");s=new RegExp(i(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(s,e)}return this.build(!t),this},m.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var r=this._parts.path.length-this.filename().length-1,n=this._parts.path.substring(0,r)||(this._parts.hostname?"/":"");return e?o.decodePath(n):n}var s=this._parts.path.length-this.filename().length,a=this._parts.path.substring(0,s),u=new RegExp("^"+i(a));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=o.recodePath(e),this._parts.path=this._parts.path.replace(u,e),this.build(!t),this},m.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path||"/"===this._parts.path)return"";var r=this._parts.path.lastIndexOf("/"),n=this._parts.path.substring(r+1);return e?o.decodePathSegment(n):n}var s=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(s=!0);var a=new RegExp(i(this.filename())+"$");return e=o.recodePath(e),this._parts.path=this._parts.path.replace(a,e),s?this.normalizePath(t):this.build(!t),this},m.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path||"/"===this._parts.path)return"";var r,n,s=this.filename(),a=s.lastIndexOf(".");return a===-1?"":(r=s.substring(a+1),n=/^[a-z0-9%]+$/i.test(r)?r:"",e?o.decodePathSegment(n):n)}"."===e.charAt(0)&&(e=e.substring(1));var u,c=this.suffix();if(c)u=e?new RegExp(i(c)+"$"):new RegExp(i("."+c)+"$");else{if(!e)return this;this._parts.path+="."+o.recodePath(e)}return u&&(e=o.recodePath(e),this._parts.path=this._parts.path.replace(u,e)),this.build(!t),this},m.segment=function(e,t,r){var n=this._parts.urn?":":"/",o=this.path(),i="/"===o.substring(0,1),s=o.split(n);if(void 0!==e&&"number"!=typeof e&&(r=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(i&&s.shift(),e<0&&(e=Math.max(s.length+e,0)),void 0===t)return void 0===e?s:s[e];if(null===e||void 0===s[e])if(a(t)){s=[];for(var u=0,c=t.length;u<c;u++)(t[u].length||s.length&&s[s.length-1].length)&&(s.length&&!s[s.length-1].length&&s.pop(),s.push(f(t[u])))}else(t||"string"==typeof t)&&(t=f(t),""===s[s.length-1]?s[s.length-1]=t:s.push(t));else t?s[e]=f(t):s.splice(e,1);return i&&s.unshift(""),this.path(s.join(n),r)},m.segmentCoded=function(e,t,r){var n,i,s;if("number"!=typeof e&&(r=t,t=e,e=void 0),void 0===t){if(n=this.segment(e,t,r),a(n))for(i=0,s=n.length;i<s;i++)n[i]=o.decode(n[i]);else n=void 0!==n?o.decode(n):void 0;return n}if(a(t))for(i=0,s=t.length;i<s;i++)t[i]=o.encode(t[i]);else t="string"==typeof t||t instanceof String?o.encode(t):t;return this.segment(e,t,r)};var P=m.query;return m.query=function(e,t){if(e===!0)return o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var r=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace),n=e.call(this,r);return this._parts.query=o.buildQuery(n||r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=o.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):P.call(this,e,t)},m.setQuery=function(e,t,r){var n=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)n[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var i in e)b.call(e,i)&&(n[i]=e[i])}return this._parts.query=o.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(r=t),this.build(!r),this},m.addQuery=function(e,t,r){var n=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.addQuery(n,e,void 0===t?null:t),this._parts.query=o.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(r=t),this.build(!r),this},m.removeQuery=function(e,t,r){var n=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.removeQuery(n,e,t),this._parts.query=o.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(r=t),this.build(!r),this},m.hasQuery=function(e,t,r){var n=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.hasQuery(n,e,t,r)},m.setSearch=m.setQuery,m.addSearch=m.addQuery,m.removeSearch=m.removeQuery,m.hasSearch=m.hasQuery,m.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},m.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},m.normalizeHostname=function(r){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!r)),this},m.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===o.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},m.normalizePath=function(e){var t=this._parts.path;if(!t)return this;if(this._parts.urn)return this._parts.path=o.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;t=o.recodePath(t);var r,n,i,s="";for("/"!==t.charAt(0)&&(r=!0,t="/"+t),"/.."!==t.slice(-3)&&"/."!==t.slice(-2)||(t+="/"),t=t.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),r&&(s=t.substring(1).match(/^(\.\.\/)+/)||"",s&&(s=s[0]));;){if(n=t.search(/\/\.\.(\/|$)/),n===-1)break;0!==n?(i=t.substring(0,n).lastIndexOf("/"),i===-1&&(i=n),t=t.substring(0,i)+t.substring(n+3)):t=t.substring(3)}return r&&this.is("relative")&&(t=s+t.substring(1)),this._parts.path=t,this.build(!e),this},m.normalizePathname=m.normalizePath,m.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(o.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},m.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},m.normalizeSearch=m.normalizeQuery,m.normalizeHash=m.normalizeFragment,m.iso8859=function(){var e=o.encode,t=o.decode;o.encode=escape,o.decode=decodeURIComponent;try{this.normalize()}finally{o.encode=e,o.decode=t}return this},m.unicode=function(){var e=o.encode,t=o.decode;o.encode=d,o.decode=unescape;try{this.normalize()}finally{o.encode=e,o.decode=t}return this},m.readable=function(){var t=this.clone();t.username("").password("").normalize();var r="";if(t._parts.protocol&&(r+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(r+=e.toUnicode(t._parts.hostname),t._parts.port&&(r+=":"+t._parts.port)):r+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(r+="/"),r+=t.path(!0),t._parts.query){for(var n="",i=0,s=t._parts.query.split("&"),a=s.length;i<a;i++){var u=(s[i]||"").split("=");n+="&"+o.decodeQuery(u[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==u[1]&&(n+="="+o.decodeQuery(u[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}r+="?"+n.substring(1)}return r+=o.decodeQuery(t.hash(),!0)},m.absoluteTo=function(e){var t,r,n,i=this.clone(),s=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof o||(e=new o(e)),i._parts.protocol||(i._parts.protocol=e._parts.protocol),this._parts.hostname)return i;for(r=0;n=s[r];r++)i._parts[n]=e._parts[n];return i._parts.path?(".."===i._parts.path.substring(-2)&&(i._parts.path+="/"),"/"!==i.path().charAt(0)&&(t=e.directory(),t=t?t:0===e.path().indexOf("/")?"/":"",i._parts.path=(t?t+"/":"")+i._parts.path,i.normalizePath())):(i._parts.path=e._parts.path,i._parts.query||(i._parts.query=e._parts.query)),i.build(),i},m.relativeTo=function(e){var t,r,n,i,s,a=this.clone().normalize();if(a._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new o(e).normalize(),t=a._parts,r=e._parts,i=a.path(),s=e.path(),"/"!==i.charAt(0))throw new Error("URI is already relative");if("/"!==s.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===r.protocol&&(t.protocol=null),t.username!==r.username||t.password!==r.password)return a.build();if(null!==t.protocol||null!==t.username||null!==t.password)return a.build();if(t.hostname!==r.hostname||t.port!==r.port)return a.build();if(t.hostname=null,t.port=null,i===s)return t.path="",a.build();if(n=o.commonPath(i,s),!n)return a.build();var u=r.path.substring(n.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=u+t.path.substring(n.length)||"./",a.build()},m.equals=function(e){var t,r,n,i=this.clone(),s=new o(e),u={},c={},f={};if(i.normalize(),s.normalize(),i.toString()===s.toString())return!0;if(t=i.query(),r=s.query(),i.query(""),s.query(""),i.toString()!==s.toString())return!1;if(t.length!==r.length)return!1;u=o.parseQuery(t,this._parts.escapeQuerySpace),c=o.parseQuery(r,this._parts.escapeQuerySpace);for(n in u)if(b.call(u,n)){if(a(u[n])){if(!l(u[n],c[n]))return!1}else if(u[n]!==c[n])return!1;f[n]=!0}for(n in c)if(b.call(c,n)&&!f[n])return!1;return!0},m.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},m.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},o})},{"./IPv6":7,"./SecondLevelDomains":8,"./punycode":10}],10:[function(e,r,n){(function(e){!function(o){function i(e){throw new RangeError(A[e])}function s(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function a(e,t){var r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(I,".");var o=e.split("."),i=s(o,t).join(".");return n+i}function u(e){for(var t,r,n=[],o=0,i=e.length;o<i;)t=e.charCodeAt(o++),t>=55296&&t<=56319&&o<i?(r=e.charCodeAt(o++),56320==(64512&r)?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),o--)):n.push(t);return n}function c(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=U(e>>>10&1023|55296),e=56320|1023&e),t+=U(e)}).join("")}function l(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:j}function f(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function p(e,t,r){var n=0;for(e=r?D(e/E):e>>1,e+=D(e/t);e>N*O>>1;n+=j)e=D(e/N);return D(n+(N+1)*e/(e+P))}function d(e){var t,r,n,o,s,a,u,f,d,h,y=[],_=e.length,m=0,b=C,v=S;for(r=e.lastIndexOf(M),r<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&i("not-basic"),y.push(e.charCodeAt(n));for(o=r>0?r+1:0;o<_;){for(s=m,a=1,u=j;o>=_&&i("invalid-input"),f=l(e.charCodeAt(o++)),(f>=j||f>D((k-m)/a))&&i("overflow"),m+=f*a,d=u<=v?x:u>=v+O?O:u-v,!(f<d);u+=j)h=j-d,a>D(k/h)&&i("overflow"),a*=h;t=y.length+1,v=p(m-s,t,0==s),D(m/t)>k-b&&i("overflow"),b+=D(m/t),m%=t,y.splice(m++,0,b)}return c(y)}function h(e){var t,r,n,o,s,a,c,l,d,h,y,_,m,b,v,g=[];for(e=u(e),_=e.length,t=C,r=0,s=S,a=0;a<_;++a)y=e[a],y<128&&g.push(U(y));for(n=o=g.length,o&&g.push(M);n<_;){for(c=k,a=0;a<_;++a)y=e[a],y>=t&&y<c&&(c=y);for(m=n+1,c-t>D((k-r)/m)&&i("overflow"),r+=(c-t)*m,t=c,a=0;a<_;++a)if(y=e[a],y<t&&++r>k&&i("overflow"),y==t){for(l=r,d=j;h=d<=s?x:d>=s+O?O:d-s,!(l<h);d+=j)v=l-h,b=j-h,g.push(U(f(h+v%b,0))),l=D(v/b);g.push(U(f(l,0))),s=p(r,m,n==o),r=0,++n}++r,++t}return g.join("")}function y(e){return a(e,function(e){return T.test(e)?d(e.slice(4).toLowerCase()):e})}function _(e){return a(e,function(e){return R.test(e)?"xn--"+h(e):e})}var m="object"==typeof n&&n&&!n.nodeType&&n,b="object"==typeof r&&r&&!r.nodeType&&r,v="object"==typeof e&&e;v.global!==v&&v.window!==v&&v.self!==v||(o=v);var g,w,k=2147483647,j=36,x=1,O=26,P=38,E=700,S=72,C=128,M="-",T=/^xn--/,R=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,A={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=j-x,D=Math.floor,U=String.fromCharCode;if(g={version:"1.3.2",ucs2:{decode:u,encode:c},decode:d,encode:h,toASCII:_,toUnicode:y},"function"==typeof t&&"object"==typeof t.amd&&t.amd)t("punycode",function(){return g});else if(m&&b)if(r.exports==m)b.exports=g;else for(w in g)g.hasOwnProperty(w)&&(m[w]=g[w]);else o.punycode=g}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i={GET:"get",POST:"post",DELETE:"delete",UPDATE:"update"},s=function(){function e(){n(this,e),console.log("Browser Request");var t=this;Object.keys(i).forEach(function(e){t[i[e]]=function(r){return new Promise(function(n,o){t._makeLocalRequest(i[e],r).then(function(e){n(e)})["catch"](function(e){o(e)})})}})}return o(e,[{key:"_makeLocalRequest",value:function(e,t){return console.log(e,t),new Promise(function(e,r){var n={"localhost://":"https://","undefined://":"https://","hyperty-catalogue://":"https://","https://":"https://","http://":"http://"},o=void 0,i=!1;for(var s in n)if(t.slice(0,s.length)===s){t=n[s]+t.slice(s.length,t.length),o=n[s],i=!0;break}if(!i)return void r("Invalid protocol of url: "+t);var a=new XMLHttpRequest;a.open("GET",t,!0),a.onreadystatechange=function(t){var n=t.currentTarget;4===n.readyState&&(200===n.status?e(n.responseText):r(n.responseText))},a.send()})}}]),e}();r["default"]=s},{}],12:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("service-framework/dist/PersistenceManager"),i=n(o),s=e("./SandboxWorker"),a=(n(s),e("./SandboxApp")),u=n(a),c=e("./SandboxWindow"),l=n(c),f=e("./Request"),p=n(f),d=e("service-framework/dist/StorageManager"),h=n(d),y=e("dexie"),_=n(y),m=e("service-framework/dist/RuntimeCatalogue"),b=void 0,v=function(e){return Object.create({createSandboxWindow:function(){return new l["default"](e)},createSandbox:function(){return new l["default"](e)},createAppSandbox:function(){return b||(b=new u["default"](e)),b},createHttpRequest:function(){var e=new p["default"];return e},createRuntimeCatalogue:function(){return this.catalogue||(this.catalogue=new m.RuntimeCatalogue(this)),this.catalogue},atob:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return atob(e)}),persistenceManager:function(){return new i["default"]({setItem:function(){},getItem:function(){throw new Error}})},storageManager:function(){var e=new _["default"]("cache"),t="objects";return new h["default"](e,t)}})};r["default"]=v},{"./Request":11,"./SandboxApp":13,"./SandboxWindow":14,"./SandboxWorker":15,dexie:1,"service-framework/dist/PersistenceManager":4,"service-framework/dist/RuntimeCatalogue":5,"service-framework/dist/StorageManager":6}],13:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e("runtime-core/dist/sandbox"),u=function(e){function t(e){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.type=a.SandboxType.NORMAL,r.channel=new MessageChannel,r.channel.port1.onmessage=function(e){this._onMessage(JSON.parse(JSON.stringify(e.data)))}.bind(r),e.postMessage({to:"runtime:createAppSandbox"},[r.channel.port2]),r}return i(t,e),s(t,[{key:"_onPostMessage",value:function(e){this.channel.port1.postMessage(JSON.parse(JSON.stringify(e)))}}]),t}(a.Sandbox);r["default"]=u},{"runtime-core/dist/sandbox":3}],14:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e("runtime-core/dist/sandbox"),u=function(e){function t(e){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.type=a.SandboxType.NORMAL,r.channel=new MessageChannel,r.channel.port1.onmessage=function(e){this._onMessage(JSON.parse(JSON.stringify(e.data)))}.bind(r),e.postMessage({to:"runtime:createSandboxWindow"},[r.channel.port2]),r}return i(t,e),s(t,[{key:"_onPostMessage",value:function(e){this.channel.port1.postMessage(JSON.parse(JSON.stringify(e)))}}]),t}(a.Sandbox);r["default"]=u},{"runtime-core/dist/sandbox":3}],15:[function(t,r,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=t("runtime-core/dist/sandbox"),l=t("runtime-core/dist/minibus"),f=(o(l),function(t){function r(t){i(this,r);var n=s(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t));if(n.type=c.SandboxType.NORMAL,!Worker)throw new Error("Your environment does not support worker \n",e);return n._worker=new Worker(t),n._worker.addEventListener("message",function(e){this._onMessage(JSON.parse(JSON.stringify(e.data)))}.bind(n)),n._worker.addEventListener("error",function(e){throw console.log("[Sandbox Worker] - Error: ",e),JSON.stringify(e)}.bind(n)),n._worker.postMessage(""),n}return a(r,t),u(r,[{key:"_onPostMessage",value:function(e){this._worker.postMessage(JSON.parse(JSON.stringify(e)))}}]),r}(c.Sandbox));n["default"]=f},{"runtime-core/dist/minibus":2,"runtime-core/dist/sandbox":3}],16:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(t){if(n(this,e),!t)throw Error("Identity Module not set!");var r=this,o=t._runtimeURL+"/identity-gui";r._guiURL=o,r.identityModule=t,r._messageBus=t.messageBus,r.identityModule.deployGUI(),r.resultURL=void 0,r._messageBus.addListener(o,function(e){var t=(e.body.value,void 0);document.getElementsByTagName("body")[0].style="background-color:white;",parent.postMessage({body:{method:"showAdminPage"},to:"runtime:gui-manager"},"*"),$(".admin-page").removeClass("hide"),r.showIdentitiesGUI(e.body.value).then(function(n){var o=void 0;switch(parent.postMessage({body:{method:"hideAdminPage"},to:"runtime:gui-manager"},"*"),$(".admin-page").addClass("hide"),document.getElementsByTagName("body")[0].style="background-color:transparent",$(".identities-section").addClass("hide"),$(".policies-section").addClass("hide"),n.type){case"idp":t={type:"idp",value:n.value,code:200},o={id:e.id,type:"response",to:e.from,from:e.to,body:t},r._messageBus.postMessage(o);break;case"identity":t={type:"identity",value:n.value,code:200},o={id:e.id,type:"response",to:e.from,from:e.to,body:t},r._messageBus.postMessage(o);break;default:t={type:"error",value:"Error on identity GUI",code:400},o={id:e.id,type:"response",to:e.from,from:e.to,body:t},r._messageBus.postMessage(o)}})}),$(".identities-page-show").on("click",function(){r.showIdentitiesGUI()})}return o(e,[{key:"showIdentitiesGUI",value:function(e){var t=this;return new Promise(function(r,n){var o=void 0,i=void 0;e?(o=e,i=!1):(i=!0,o=t.identityModule.getIdentitiesToChoose()),$(".policies-section").addClass("hide"),$(".identities-section").removeClass("hide"),t.showMyIdentities(o.identities,i).then(function(e){console.log("chosen identity: ",e),r({type:"identity",value:e})});var s=function(e){console.log("chosen identity: ",e),r({type:"identity",value:e})},a=o.idps;$("#idproviders").html(t._getList(a)),$("#idproviders").off(),$("#idproviders").on("click",function(e){return t.obtainNewIdentity(s,i)}),$(".identities-reset").off(),$(".identities-reset").on("click",function(e){return t._resetIdentities(s)})})}},{key:"showMyIdentities",value:function(e,t){var r=this;return new Promise(function(n,o){var i=[];for(var s in e){var a=e[s].split("@");i.push({email:e[s],domain:a[1]})}var u=document.getElementById("my-ids");u.innerHTML="";for(var c=r.createTable(),l=document.createElement("tbody"),f=i.length,p=0;p<f;p++){var d=r.createTableRow(i[p],t);l.appendChild(d)}c.appendChild(l),u.appendChild(c);var h=function(e){n(e)};t||$(".clickable-cell").on("click",function(e){return r.changeID(h)}),$(".remove-id").on("click",function(t){return r.removeID(e)})})}},{key:"createTable",value:function(){var e=document.createElement("table");e.className="centered";var t=document.createElement("thead"),r=document.createElement("tr"),n=document.createElement("th");return n.textContent="Email",r.appendChild(n),t.appendChild(r),e.appendChild(t),e}},{key:"createTableRow",value:function(e,t){var r=document.createElement("tr"),n=document.createElement("td");if(n.textContent=e.email,n.className="clickable-cell",n.style="cursor: pointer",r.appendChild(n),n=document.createElement("td"),t){var o=document.createElement("button");o.textContent="Remove",o.className="remove-id waves-effect waves-light btn",n.appendChild(o)}return r.appendChild(n),r}},{key:"changeID",value:function(e){var t=event.target.innerText;if("settings"!==t)return e(t),t}},{key:"removeID",value:function(e){var t=this,r=event.target.parentNode.parentNode,n=r.children[0].textContent;r.children[1].textContent;t.identityModule.unregisterIdentity(n);for(var o=e.length,i=0;i<o;i++)if(e[i].email===n){e.splice(i,1);break}t.showMyIdentities(e,!0)}},{key:"obtainNewIdentity",value:function(e,t){var r=this,n=event.target.textContent;event.target.text;r.identityModule.crypto.generateRSAKeyPair().then(function(t){var o=btoa(t["public"]);r.identityModule.sendGenerateMessage(o,"origin",void 0,n).then(function(i){console.log("receivedURL: "+i.loginUrl.substring(0,20)+"...");var s=i.loginUrl,a=void 0;if(s.indexOf("redirect_uri")!==-1){var u=s.substring(0,s.indexOf("redirect_uri")),c=s.substring(s.indexOf("redirect_uri"),s.length),l=c.substring(c.indexOf("&"),s.length);a=l.indexOf("&")!==-1?u+"redirect_uri="+location.origin+l:u+"redirect_uri="+location.origin}r.resultURL=a||s,$(".login-idp").html("<p>Chosen IDP: "+n+"</p>"),$(".login").removeClass("hide"),$(".login-btn").off(),$(".login-btn").on("click",function(s){$(".login").addClass("hide"),r._authenticateUser(t,o,i,"origin",n).then(function(t){e(t),r.showIdentitiesGUI()})})})})}},{key:"_getList",value:function(e){for(var t="",r=e.length,n=0;n<r;n++)t+='<li class="divider"></li>',t+='<li><a class="center-align">'+e[n]+"</a></li>";return t}},{key:"_authenticateUser",value:function(e,t,r,n,o){var i=this,s=i.resultURL;return new Promise(function(r,a){i.identityModule.openPopup(s).then(function(s){i.identityModule.sendGenerateMessage(t,n,s,o).then(function(t){t?i.identityModule.storeIdentity(t,e).then(function(e){r(e.userProfile.username)},function(e){a(e)}):a("error on obtaining identity information")})},function(e){a(e)})})}},{key:"_resetIdentities",value:function(){console.log("_resetIdentities")}}]),e}();r["default"]=i},{}],17:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("./PoliciesManager"),a=n(s),u=function(){function e(t){if(o(this,e),!t)throw Error("Policy Engine is not set!");this.policiesManager=new a["default"](t),
this.elements=this._setElements(),this._setListeners()}return i(e,[{key:"_addMember",value:function(){var e=this,t=event.target.id;$(".member-new-intro").html('<h5>Add a member to a group</h5><p>Insert a user email below to add to the "'+t+'" group.</p>'),$(".member-new-modal").openModal(),$(".member-new-ok").off(),$(".member-new-ok").on("click",function(r){var n=$("#member-new").val();$("#member-new").val(""),e.policiesManager.addToGroup(t,n),$(".member-new-modal").closeModal(),e._manageGroups()})}},{key:"_createGroup",value:function(){var e=this;$("#group-new-name").val(""),$(".group-new-modal").openModal(),$(".group-new-ok").on("click",function(t){var r=$("#group-new-name").val();e.policiesManager.createGroup(r),e._manageGroups()})}},{key:"_addPolicy",value:function(){var e=this;$("#policy-new-title").val(""),$(".combining").html("");var t=["Block overrides","Allow overrides","First applicable"];$(".combining").append(this._getOptions("comb-algorithm","Choose a combining algorithm",t)),$(".policy-new").openModal(),$(".policy-new-ok").off(),$(".policy-new-ok").on("click",function(t){var r=$("#policy-new-title").val();if(r){var n=$("#comb-algorithm").val();e.policiesManager.addPolicy(r,n),$(".help-menu").addClass("hide"),$(".policy-new").closeModal(),e._goHome()}else Materialize.toast("Invalid policy title",4e3)}),$(".help-btn").off(),$(".help-btn").on("click",function(e){$(".help-menu").removeClass("hide")})}},{key:"_decreaseRulePriority",value:function(){var e=event.target.closest("tr").id,t=e.split(":"),r=parseInt(t[t.length-1]);t.pop();var n=t.join(":"),o=this.policiesManager.getPolicy(n).getLastPriority();if(o!=r){var i=parseInt(r+1);this.policiesManager.decreaseRulePriority(n,r,i),this._goHome()}}},{key:"_deleteMember",value:function(){var e=event.target.closest("tr").id,t=e.split("::"),r=t[t.length-1];t.pop();var n=t.join("::");this.policiesManager.removeFromGroup(n,r),this._manageGroups()}},{key:"_deleteGroup",value:function(){var e=event.target.closest("tr").children[0].id;this.policiesManager.deleteGroup(e),this._manageGroups()}},{key:"_deletePolicy",value:function(){var e=event.target.closest("tr").id;this.policiesManager.deletePolicy(e),this._goHome()}},{key:"_deleteRule",value:function(){var e=event.target.closest("tr").id,t=e.split(":"),r=t[t.length-1];t.pop();var n=t.join(":"),o=this.policiesManager.getRuleOfPolicy(n,r);this.policiesManager.deleteRule(n,o),this._goHome()}},{key:"_getActivePolicy",value:function(){var e=this;$(".policy-active").html("");var t=this.policiesManager.getActivePolicy(),r=this.policiesManager.getPoliciesTitles();r.push("Deactivate all policies"),$(".policy-active").append(this._getOptions("policies-list","Click to activate a policy",r,t)),$("#policies-list").on("click",function(t){var r=$("#policies-list").find(":selected")[0].textContent;"Deactivate all policies"===r&&(r=void 0),e.policiesManager.updateActivePolicy(r)})}},{key:"_getGroupOptions",value:function(e,t,r,n){var o="<option disabled selected>"+e+"</option>";for(var i in t){o+="<optgroup label="+t[i]+">";for(var s in n[i])o+='<option id="'+r[i]+'">'+n[i][s]+"</option>"}return o}},{key:"_getInfo",value:function(e){var t=void 0;switch(e){case"Date":if(t=$(".config").find("input").val(),t.indexOf(",")!==-1){var r=t.split(" ");r[1]=r[1].substring(0,r[1].length-1);var n=["January","February","March","April","May","June","July","August","September","October","November","December"];t=r[0]+"/"+(n.indexOf(r[1])+1)+"/"+r[2]}else{var o=t.split("-");t=o[2]+"/"+o[1]+"/"+o[0]}break;case"Group of users":t=$("#group").find(":selected").text();break;case"Subscription preferences":(t=void 0!==$("input[name='rule-new-subscription']:checked")[0])&&(t=$("input[name='rule-new-subscription']:checked")[0].id);break;case"Weekday":t=$("#weekday").find(":selected").text();break;default:t=$(".config").find("input").val()}return t}},{key:"_getList",value:function(e){for(var t="",r=e.length,n=0;n<r;n++)t+='<li class="divider"></li>',t+='<li><a class="center-align">'+e[n]+"</a></li>";return t}},{key:"_getOptions",value:function(e,t,r,n){var o='<select id="'+e+'" class="browser-default"><option disabled selected>'+t+"</option>";for(var i in r)o+=void 0!==n&n===r[i]?'<option selected id="'+e+'">'+r[i]+"</option>":'<option id="'+e+'">'+r[i]+"</option>";return o+="</select>"}},{key:"_getPoliciesTable",value:function(){var e=this;$(".policies-no").addClass("hide"),$(".policies-current").html("");var t=this.policiesManager.getFormattedPolicies(),r=[],n=[],o=[];for(var i in t)r.push(t[i].title),n.push(t[i].rulesTitles),o.push(t[i].ids);var s="<table>",a=0===r.length;for(var u in r){s+='<thead><tr id="'+r[u]+'"><td></td><td></td><th class="center-align">'+r[u]+'</th><td><i class="material-icons clickable-cell policy-delete" style="cursor: pointer; vertical-align: middle">delete_forever</i></td></tr></thead><tbody>';for(var c in n[u])s+='<tr id="'+o[u][c]+'" ><td><i class="material-icons clickable-cell rule-priority-increase" style="cursor: pointer; vertical-align: middle">arrow_upward</i></td><td><i class="material-icons clickable-cell rule-priority-decrease" style="cursor: pointer; vertical-align: middle">arrow_downward</i></td><td class="rule-show clickable-cell" style="cursor: pointer">'+n[u][c]+'</td><td><i class="material-icons clickable-cell rule-delete" style="cursor: pointer; vertical-align: middle">clear</i></td></tr>';s+='<tr id="'+r[u]+'"></td><td></td><td></td><td style="text-align:center"><i class="material-icons clickable-cell center-align rule-add" style="cursor: pointer">add_circle</i></td></tr>'}a?$(".policies-no").removeClass("hide"):(s+="</tbody></table>",$(".policies-current").append(s)),$(".rule-add").on("click",function(t){e._showVariablesTypes()}),$(".rule-delete").on("click",function(t){e._deleteRule()}),$(".rule-show").on("click",function(t){e._showRule()}),$(".rule-priority-increase").on("click",function(t){e._increaseRulePriority()}),$(".rule-priority-decrease").on("click",function(t){e._decreaseRulePriority()}),$(".policy-add").off(),$(".policy-add").on("click",function(t){e._addPolicy()}),$(".policy-delete").on("click",function(t){e._deletePolicy()})}},{key:"_goHome",value:function(){this._getActivePolicy(),this._getPoliciesTable()}},{key:"_increaseRulePriority",value:function(){var e=event.target.closest("tr").id,t=e.split(":"),r=parseInt(t[t.length-1]);if(0!==r){t.pop();var n=t.join(":"),o=r-1;this.policiesManager.increaseRulePriority(n,r,o),this._goHome()}}},{key:"_manageGroups",value:function(){var e=this;$(".groups-current").html("");var t=this.policiesManager.getGroups(),r=t.groupsNames,n=t.members,o=t.ids,i="<table>",s=0===r.length;for(var a in r){i+='<thead><tr><th id="'+r[a]+'">'+r[a]+'</th><td style="text-align:right"><i class="material-icons clickable-cell group-delete" style="cursor: pointer; vertical-align: middle">delete_forever</i></td></tr></thead><tbody>';for(var u in n[a])i+='<tr id="'+o[a][u]+'" ><td style="cursor: pointer">'+n[a][u]+'</td><td style="text-align:right"><i class="material-icons clickable-cell member-delete" style="cursor: pointer; vertical-align: middle">clear</i></td></tr>';i+='<tr id="'+r[a]+'"><td><i class="material-icons clickable-cell member-add" id="'+r[a]+'" style="cursor: pointer">add_circle</i></td></tr>'}s?$(".groups-current").append("<p>There are no groups set.</p>"):(i+="</tbody></table>",$(".groups-current").append(i)),$(".member-add").off(),$(".member-add").on("click",function(t){e._addMember()}),$(".member-delete").on("click",function(t){e._deleteMember()}),$(".group-add").off(),$(".group-add").on("click",function(t){e._createGroup()}),$(".group-delete").on("click",function(t){e._deleteGroup()})}},{key:"_parseFileContent",value:function(e){var t=JSON.parse(e);for(var r in t)this.policiesManager.addPolicy(r,void 0,t[r]);$(".policy-new").closeModal()}},{key:"_setElements",value:function(){var e=this;return{date:function(e){return'<input type="date" class="datepicker">'},select:function(t){return e._getOptions(t[0],t[1],t[2])},form:function(e){return'<form><input type="text" placeholder="'+e+'"></input></form>'}}}},{key:"_showNewConfigurationPanel",value:function(e){var t=event.target.text;$(".variable").html(this._getNewConfiguration(e,t)),$(".scopes").empty().html("");var r=["Email","Hyperty","All"],n=["identity","hyperty","global"],o=[];o.push(this.policiesManager.getMyEmails()),o.push(this.policiesManager.getMyHyperties()),o.push(["All identities and hyperties"]),$(".scopes").append(this._getGroupOptions("Apply this configuration to:",r,n,o)),$(".variable").removeClass("hide")}},{key:"_showVariablesTypes",value:function(){var e=this,t=event.target.closest("tr").id;$("#variables-types").empty().html("");var r=this.policiesManager.getVariables();$("#variables-types").append(this._getList(r)),$(".variable").addClass("hide"),$(".rule-new").openModal(),$("#variables-types").off(),$("#variables-types").on("click",function(r){e._showNewConfigurationPanel(t)})}},{key:"_getNewConfiguration",value:function(e,t){var r=this,n=this.policiesManager.getVariableInfo(t);if($(".rule-new-title").html(n.title),$(".description").html(n.description),$(".config").html(""),"Subscription preferences"===t)$(".subscription-type").removeClass("hide");else{$(".subscription-type").addClass("hide");var o=n.input;for(var i in o)"Group of users"===t&&o[i][1].push(this.policiesManager.getGroupsNames()),$(".config").append(this.elements[o[i][0]](o[i][1])),"Group of users"===t&&o[i][1].pop();"date"===t&&$(".datepicker").pickadate({selectMonths:!0,selectYears:15})}document.getElementById("allow").checked=!1,document.getElementById("block").checked=!1,$(".ok-btn").off(),$(".ok-btn").on("click",function(n){if(void 0===$("input[name='rule-new-decision']:checked")[0])throw Error("INFORMATION MISSING: please specify an authorisation decision.");var o=r._getInfo(t),i=$("input[name='rule-new-decision']:checked")[0].id;i="allow"===i;var s=$(".scopes").find(":selected")[0].id,a=$(".scopes").find(":selected")[0].textContent;a="All identities and hyperties"===a?"global":a,r.policiesManager.setInfo(t,e,o,i,s,a),$(".rule-new").closeModal(),r._goHome()})}},{key:"_deleteInfo",value:function(e){var t=event.target.closest("tr").id,r=t.split(":"),n=r[0];r.shift();var o=r.join(""),i=event.target.closest("tr").children[0].id;this.policiesManager.deleteInfo(e,n,o,i),this._goHome()}},{key:"_setListeners",value:function(){var e=this;$(".settings-btn").on("click",function(e){parent.postMessage({body:{method:"showAdminPage"},to:"runtime:gui-manager"},"*"),$(".admin-page").removeClass("hide"),document.getElementsByTagName("body")[0].style="background-color:white;"}),$(".policies-page-show").on("click",function(t){$(".policies-section").removeClass("hide"),$(".identities-section").addClass("hide"),e._goHome(),e._manageGroups()}),$(".admin-page-exit").on("click",function(e){parent.postMessage({body:{method:"hideAdminPage"},to:"runtime:gui-manager"},"*"),$(".admin-page").addClass("hide"),document.getElementsByTagName("body")[0].style="background-color:transparent;"}),$(".exit-btn").on("click",function(e){$(".subscription-type").addClass("hide"),$(".help-menu").addClass("hide")}),$("#policy-file").on("change",function(t){var r=t.target.files[0],n=new FileReader;n.readAsText(r,"UTF-8"),n.onload=function(t){e._parseFileContent(t.target.result),e._goHome()},n.onerror=function(e){throw Error("Error reading the file")}})}},{key:"_showRule",value:function(){var e=this,t=event.target.textContent,r=event.target.closest("tr").id,n=r.split(":"),o=n[n.length-1];n.pop();var i=n.join(":"),s=this.policiesManager.getRuleOfPolicy(i,o);if("subscription"===s.condition.attribute&&"preauthorised"===s.condition.params)$(".authorise-btns").addClass("hide");else{var a=void 0;a=s.decision?document.getElementById("btn-allow"):document.getElementById("btn-block"),a.checked=!0,$(".authorise-btns").removeClass("hide")}$(".member-add").addClass("hide"),$(".member-new-btn").addClass("hide"),$(".rule-details").openModal(),$(".rule-title").html("<h5><b>"+t+"</b></h5>"),"subscription"===s.condition.attribute&&$(".subscription-type").removeClass("hide"),$(".subscription-decision").on("click",function(t){e._updateRule("subscription",i,s)}),$(".decision").off(),$(".decision").on("click",function(t){e._updateRule("authorisation",i,s)})}},{key:"_updateRule",value:function(e,t,r){var n=$(".rule-title").text(),o=n.split(" "),i=o.indexOf("is");switch(i===-1&&(i=o.indexOf("are")),e){case"authorisation":var s=$("input[name='rule-update-decision']:checked")[0].id;"btn-allow"===s?(o[i+1]="allowed",s=!0):(o[i+1]="blocked",s=!1),n=o.join(" "),$(".rule-title").html("<h5><b>"+n+"</b></h5>"),this.policiesManager.updatePolicy(t,r,s);break;case"subscription":var a=event.target.labels[0].textContent;o[i+1];o=n.split("hyperties are"),"All subscribers"===a?($(".authorise-btns").removeClass("hide"),s=r.decision,a="*",n="Subscriptions from all hyperties are"+o[1]):($(".authorise-btns").addClass("hide"),s=!0,a="preauthorised",n="Subscriptions from previously authorised hyperties are"+o[1]),$(".rule-title").html("<h5><b>"+n+"</b></h5>"),this.policiesManager.updatePolicy(t,r,s,a)}this._goHome()}}]),e}();r["default"]=u},{"./PoliciesManager":18}],18:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(t){n(this,e),this.policyEngine=t,this.policies=this.policyEngine.context.userPolicies,this.variables=this.setVariables(),this.addition=this.setAdditionMethods(),this.validation=this.setValidationMethods()}return o(e,[{key:"addToGroup",value:function(e,t){this.policyEngine.context.addToGroup(e,t)}},{key:"createGroup",value:function(e){this.policyEngine.context.createGroup(e)}},{key:"addPolicy",value:function(e,t,r){if(void 0===r)switch(t){case"Block overrides":t="blockOverrides";break;case"Allow overrides":t="allowOverrides";break;case"First applicable":t="firstApplicable";break;default:t=void 0}this.policyEngine.addPolicy("USER",e,r,t)}},{key:"decreaseRulePriority",value:function(e,t,r){this.getRuleOfPolicy(e,r).priority=t,this.getRuleOfPolicy(e,t).priority=r,this.policyEngine.context.savePolicies("USER")}},{key:"deleteGroup",value:function(e){this.policyEngine.context.deleteGroup(e)}},{key:"deletePolicy",value:function(e){this.policyEngine.removePolicy("USER",e)}},{key:"deleteRule",value:function(e,t){var r=this.policyEngine.context.userPolicies;r[e].deleteRule(t),this.policyEngine.context.savePolicies("USER")}},{key:"getActivePolicy",value:function(){return this.policyEngine.context.activeUserPolicy}},{key:"getPolicy",value:function(e){return this.policyEngine.context.userPolicies[e]}},{key:"getPoliciesTitles",value:function(){var e=this.policyEngine.context.userPolicies,t=[];for(var r in e)t.push(r);return t}},{key:"getTargets",value:function(e){var t=[];for(var r in this.policies[e])t.indexOf(r)===-1&&t.push(r);return t}},{key:"increaseRulePriority",value:function(e,t,r){this.getRuleOfPolicy(e,t).priority=r,this.getRuleOfPolicy(e,r).priority=t,this.policyEngine.context.savePolicies("USER")}},{key:"setVariables",value:function(){return{Date:{title:"<br><h5>Updating date related configurations</h5><p>Incoming communications in the introduced date will be allowed or blocked according to your configurations, which can be changed in the preferences page.</p><br>",description:"<p>Date:</p>",input:[["date",[]]]},Domain:{title:"<br><h5>Updating domain configurations</h5><p>Incoming communications from a user whose identity is from the introduced domain allowed or blocked according to your configurations, which can be changed in the preferences page.</p><br>",description:"<p>Domain:</p>",input:[["form",[]]]},"Group of users":{title:"<br><h5>Updating groups configurations</h5><p>Incoming communications from a user whose identity is in the introduced group will be allowed or blocked according to your configurations, which can be changed in the preferences page.</p><br>",description:"<p>Group name:</p>",input:[["select",["group","Select a group:"]]]},"Subscription preferences":{title:"<br><h5>Updating subscriptions configurations</h5><p>The acceptance of subscriptions to your hyperties will be allowed or blocked according to your configurations, which can be changed in the preferences page.</p><br>",input:[]},"Time of the day":{title:'<br><h5>Updating time configurations</h5><p>Incoming communications in the introduced timeslot will be blocked, but this can be changed in the preferences page.</p><p>Please introduce a new timeslot in the following format:</p><p class="center-align">&lt;START-HOUR&gt;:&lt;START-MINUTES&gt; to &lt;END-HOUR&gt;:&lt;END-MINUTES&gt;</p><br>',description:"<p>Timeslot:</p>",input:[["form",[]]]},Weekday:{title:"<br><h5>Updating weekday configurations</h5><p>Incoming communications in the introduced weekday will be allowed or blocked according to your configurations, which can be changed in the preferences page.</p><br>",description:"<p>Weekday:</p>",input:[["select",["weekday","Select a weekday:",["Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday"]]]]}}}},{key:"setAdditionMethods",value:function(){var e=this;return{Date:function(t){var r=t[0],n=e.policyEngine.context.userPolicies;n[r].createRule(t[4],{attribute:"date",operator:"equals",params:t[3]},t[1],t[2]),e.policyEngine.context.savePolicies("USER")},Domain:function(t){var r=t[0],n=e.policyEngine.context.userPolicies;n[r].createRule(t[4],{attribute:"domain",operator:"equals",params:t[3]},t[1],t[2]),e.policyEngine.context.savePolicies("USER")},"Group of users":function(t){var r=t[0],n=e.policyEngine.context.userPolicies;n[r].createRule(t[4],{attribute:"source",operator:"in",params:t[3]},t[1],t[2]),e.policyEngine.context.savePolicies("USER")},"Subscription preferences":function(t){var r=t[0],n=e.policyEngine.context.userPolicies,o="equals";"preauthorised"===t[3]&&(o="in"),n[r].createRule(t[4],{attribute:"subscription",operator:thisOperator,params:t[3]},t[1],t[2]),e.policyEngine.context.savePolicies("USER")},"Time of the day":function(t){var r=t[0],n=e.policyEngine.context.userPolicies;t[3]=t[3].split(" to ");var o=t[3][0].split(":");o=o.join("");var i=t[3][1].split(":");i=i.join(""),n[r].createRule(t[4],{attribute:"time",operator:"between",params:[o,i]},t[1],t[2]),e.policyEngine.context.savePolicies("USER")},Weekday:function(t){var r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];t[3]=r.indexOf(t[3]);var n=t[0],o=e.policyEngine.context.userPolicies;o[n].createRule(t[4],{attribute:"weekday",operator:"equals",params:t[3]},t[1],t[2]),e.policyEngine.context.savePolicies("USER")}}}},{key:"setValidationMethods",value:function(){var e=this;return{Date:function(t,r){return e.isValidDate(r)&e.isValidScope(t)},"Group of users":function(t,r){return e.isValidString(r)&e.isValidScope(t)},Domain:function(t,r){return e.isValidDomain(r)&e.isValidScope(t)},Weekday:function(t,r){return!0&e.isValidScope(t)},"Subscription preferences":function(t,r){return e.isValidSubscriptionType(r)&e.isValidScope(t)},"Time of the day":function(t,r){return e.isValidTimeslot(r)&e.isValidScope(t)}}}},{key:"updateActivePolicy",value:function(e){this.policyEngine.context.activeUserPolicy=e,this.policyEngine.context.saveActivePolicy()}},{key:"isValidEmail",value:function(e){var t=/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$/;return t.test(e)}},{key:"isValidDomain",value:function(e){var t=/[a-z0-9.-]+\.[a-z]{2,3}$/;return t.test(e)}},{key:"isValidString",value:function(e){var t=/[a-z0-9.-]$/;return t.test(e)}},{key:"isValidSubscriptionType",value:function(e){return!0}},{key:"isValidDate",value:function(e){var t=e.split("/"),r=parseInt(t[0]),n=parseInt(t[1]),o=parseInt(t[2]),i=new Date(o,n-1,r),s=i.getFullYear()===o&&i.getMonth()+1===n&&i.getDate()===r,a=(i.getDate()+"/"+(i.getMonth()+1)+"/"+i.getFullYear(),new Date),u=(a.getDate()+"/"+(a.getMonth()+1)+"/"+a.getFullYear(),!1);return i.getFullYear()>a.getFullYear()?u=!0:i.getFullYear()==a.getFullYear()&&(i.getMonth()+1>a.getMonth()+1?u=!0:i.getMonth()+1==a.getMonth()+1&&i.getDate()>=a.getDate()&&(u=!0)),s&&u}},{key:"isValidScope",value:function(e){return""!==e}},{key:"isValidTimeslot",value:function(e){if(!e)return!1;var t=e.split(" to "),r=2===t.length;if(!r)return!1;var n=t[0].split(":"),o=t[1].split(":");if(2!==n.length||2!==o.length)return!1;var i=2===n[0].length&&2===n[1].length&&2===o[0].length&&2===o[1].length,s=n[0]==parseInt(n[0],10)&&n[1]==parseInt(n[1],10)&&o[0]==parseInt(o[0],10)&&o[1]==parseInt(o[1],10);return r&&i&&s}},{key:"getFormattedPolicies",value:function(){var e=this.policyEngine.context.userPolicies,t=[];for(var r in e){var n={title:e[r].key,rulesTitles:[],ids:[]};if(0!==e[r].rules.length){e[r].rules=e[r].sortRules();for(var o in e[r].rules){var i=this._getTitle(e[r].rules[o]);n.rulesTitles.push(i),n.ids.push(n.title+":"+e[r].rules[o].priority)}}t.push(n)}return t}},{key:"getRuleOfPolicy",value:function(e,t){var r=this.policyEngine.context.userPolicies,n=r[e];return n.getRuleByPriority(t)}},{key:"_getTitle",value:function(e){var t=e.condition,r=e.decision?"allowed":"blocked",n="global"===e.target?"All identities and hyperties":e.target,o=t.attribute;switch(o){case"date":return"Date "+t.params+" is "+r+" ("+n+")";case"domain":return'Domain "'+t.params+'" is '+r+" ("+n+")";case"source":if("in"===t.operator)return'Group "'+t.params+'" is '+r+" ("+n+")";if("equals"===t.operator)return"User "+t.params+" is "+r+" ("+n+")";case"subscription":if("*"===t.params)return"Subscriptions from all hyperties are "+r+" ("+n+")";if("preauthorised"===t.params)return"Subscriptions from previously authorised hyperties are allowed ("+n+")";case"time":var i=t.params[0][0]+t.params[0][1]+":"+t.params[0][2]+t.params[0][3],s=t.params[1][0]+t.params[1][1]+":"+t.params[1][2]+t.params[1][3];return"Timeslot from "+i+" to "+s+" is "+r+" ("+n+")";case"weekday":var a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],u=t.params;return'Weekday "'+a[u]+'" is '+r+" ("+n+")";default:return"Rule "+e.priority+" is "+r+" ("+n+")"}}},{key:"getVariables",value:function(){var e=[];for(var t in this.variables)e.push(t);return e}},{key:"getVariableInfo",value:function(e){return this.variables[e]}},{key:"getMyEmails",value:function(){return this.policyEngine.context.getMyEmails()}},{key:"getMyHyperties",value:function(){return this.policyEngine.context.getMyHyperties()}},{key:"setInfo",value:function(e,t,r,n,o,i){if(!this.validation[e](o,r))throw Error("Invalid configuration");this.addition[e]([t,o,i,r,n])}},{key:"getInfo",value:function(e,t){var r=this.policies[e],n={};for(var o in r)r[o].condition===t&&(n=r[o]);if(n!=={}){var i=n.condition.split(" ");return this.policyEngine.getList(e,i[2])}throw Error("Policy <"+t+"> not found!")}},{key:"deleteInfo",value:function(e,t,r,n){var o=[t,r,n];if("member"===e){var i=n.split(" "),s=i[2];o=[t,s,n]}this.deletion[e](o)}},{key:"getGroup",value:function(e,t,r){return this.policyEngine.context.getGroup(e,t,r)}},{key:"getGroups",value:function(){var e=this.policyEngine.context.groups,t={groupsNames:[],members:[],ids:[]};for(var r in e){t.groupsNames.push(r),t.members.push(e[r]);var n=[];for(var o in e[r])n.push(r+"::"+e[r][o]);t.ids.push(n)}return t}},{key:"getGroupsNames",value:function(){return this.policyEngine.context.getGroupsNames()}},{key:"removeFromGroup",value:function(e,t){this.policyEngine.context.removeFromGroup(e,t)}},{key:"updatePolicy",value:function(e,t,r,n){var o=this.policyEngine.context.userPolicies;if(o[e].deleteRule(t),n){var i="*"===n?"equals":"in";o[e].createRule(r,[{attribute:"subscription",opeator:i,params:n}],t.scope,t.target,t.priority)}else o[e].createRule(r,t.condition,t.scope,t.target,t.priority);this.policyEngine.context.savePolicies("USER")}}]),e}();r["default"]=i},{}],19:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){e.postMessage({to:"runtime:loadedHyperty",body:t})}function i(e,t){for(var r=void 0,n=0;!r&&n<e.registry.hypertiesList.length;)e.registry.hypertiesList[n].descriptor===t&&(r=e.registry.hypertiesList[n]),n++;return r}function s(e,t){return m.getRuntimeDescriptor(e).then(function(e){var t=e.sourcePackageURL;return"/sourcePackage"===t?e.sourcePackage:m.getSourcePackageFromURL(t)}).then(function(e){return eval.apply(self,[e.sourceCode]),new Runtime(t,self.location.host)})}var a=e("urijs"),u=n(a),c=e("./admin/IdentitiesGUI"),l=(n(c),e("./admin/PoliciesGUI")),f=(n(l),e("./RuntimeFactory")),p=n(f),d=new u["default"](self.location.href).search(!0),h=d.runtime,y="true"===d.development,_=void 0,m=void 0;onconnect=function(e){var t=e.ports[0],r=(0,p["default"])(t);t.onmessage=function(e){if(!_)throw new Error("runtime not installed");if("core:loadHyperty"===e.data.to){var n=e.data.body.descriptor,s=i(_,n);s?o(t,{runtimeHypertyURL:s.hypertyURL}):_.loadHyperty(n).then(o.bind(null,t))}else"core:loadStub"===e.data.to?_.loadStub(e.data.body.domain).then(function(e){console.log("Stub Loaded: ",e)})["catch"](function(e){console.error("Stub error:",e)}):"core:close"===e.data.to?_.close().then(t.postMessage({to:"runtime:runtimeClosed",body:!0}))["catch"](t.postMessage({to:"runtime:runtimeClosed",body:!1})):r.createAppSandbox().onMessage(e.data)},m||(m=r.createRuntimeCatalogue(y)),_?t.postMessage({to:"runtime:installed",body:{}}):s(h,r).then(function(e){_=e,t.postMessage({to:"runtime:installed",body:{}})})}},{"./RuntimeFactory":12,"./admin/IdentitiesGUI":16,"./admin/PoliciesGUI":17,urijs:9}]},{},[19])(19)});
//# sourceMappingURL=core.js.map
